<!DOCTYPE html><html><head>
      <title>24&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
   
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="24%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">24&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h1>

<p>&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F; (Design pattern) &#x4EE3;&#x8868;&#x4E86;&#x6700;&#x4F73;&#x7684;&#x5B9E;&#x8DF5;, &#x901A;&#x5E38;&#x88AB;&#x6709;&#x7ECF;&#x9A8C;&#x7684;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6240;&#x91C7;&#x7528;. &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x662F;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5728;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x9762;&#x4E34;&#x7684;&#x4E00;&#x822C;&#x95EE;&#x9898;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;. &#x8FD9;&#x4E9B;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x4F17;&#x591A;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x7ECF;&#x8FC7;&#x76F8;&#x5F53;&#x957F;&#x7684;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x7684;&#x8BD5;&#x9A8C;&#x548C;&#x9519;&#x8BEF;&#x603B;&#x7ED3;&#x51FA;&#x6765;&#x7684;.</p>
<p>&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;<strong>3</strong>&#x5927;&#x7C7B;:</p>
<ul>
<li><strong>&#x521B;&#x5EFA;&#x578B;&#x6A21;&#x5F0F;</strong> (<em><strong>Creational Patterns</strong></em>)</li>
<li><strong>&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;</strong> (<em><strong>Structural Patterns</strong></em>)</li>
<li><strong>&#x884C;&#x4E3A;&#x578B;&#x6A21;&#x5F0F;</strong> (<em><strong>Behavioral Patterns</strong></em>)</li>
</ul>
<h2 class="mume-header" id="%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F">&#x521B;&#x5EFA;&#x578B;&#x6A21;&#x5F0F;</h2>

<p>&#x521B;&#x5EFA;&#x578B;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;<strong>&#x5728;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x65F6;&#x9690;&#x85CF;&#x521B;&#x5EFA;&#x903B;&#x8F91;&#x7684;&#x65B9;&#x5F0F;</strong>, &#x800C;&#x4E0D;&#x662F;&#x4F7F;&#x7528; <strong>new</strong> &#x8FD0;&#x7B97;&#x7B26;&#x76F4;&#x63A5;&#x5B9E;&#x4F8B;&#x5316;&#x5BF9;&#x8C61;, &#x8FD9;&#x4F7F;&#x5F97;&#x7A0B;&#x5E8F;&#x5728;&#x5224;&#x65AD;&#x9488;&#x5BF9;&#x67D0;&#x4E2A;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x54EA;&#x4E9B;&#x5BF9;&#x8C61;&#x65F6;&#x66F4;&#x52A0;&#x7075;&#x6D3B;,&#x521B;&#x5EFA;&#x578B;&#x6A21;&#x5F0F;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;<strong>6</strong>&#x79CD;:</p>
<ul>
<li><strong>&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</strong> (<em><strong>Simple Factory Pattern</strong></em>)</li>
<li><strong>&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</strong> (<em><strong>Factory Pattern</strong></em>)</li>
<li><strong>&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</strong> (<em><strong>Abstract Factory Pattern</strong></em>)</li>
<li><strong>&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;</strong> (<em><strong>Builder Pattern</strong></em>)</li>
<li><strong>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;</strong> (<em><strong>Singleton Pattern</strong></em>)</li>
<li><strong>&#x539F;&#x578B;&#x6A21;&#x5F0F;</strong> (<em><strong>Prototype Pattern</strong></em>)</li>
</ul>
<h3 class="mume-header" id="%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F">&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B">&#x7B80;&#x4ECB;</h4>

<p>&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x53C8;&#x53EB; &#x9759;&#x6001;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;, <strong>&#x5B9E;&#x8D28;&#x662F;&#x7531;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x7C7B;&#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;, &#x52A8;&#x6001;&#x51B3;&#x5B9A;&#x5E94;&#x8BE5;&#x521B;&#x5EFA;&#x54EA;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;</strong>, &#x8FD9;&#x4E9B;&#x4EA7;&#x54C1;&#x7C7B;&#x7EE7;&#x627F;&#x81EA;&#x4E00;&#x4E2A;&#x7236;&#x7C7B;&#x6216;&#x63A5;&#x53E3;. &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x521B;&#x5EFA;&#x76EE;&#x6807;, &#x6240;&#x6709;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x90FD;&#x662F;&#x5145;&#x5F53;&#x8FD9;&#x4E2A;&#x89D2;&#x8272;&#x7684;&#x67D0;&#x4E2A;&#x5177;&#x4F53;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;.</p>
<p>&#x5176;&#x5B9E;&#x5C31;&#x662F;<strong>&#x5C06;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x4EA4;&#x7ED9;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6765;&#x6267;&#x884C;</strong>, &#x73B0;&#x5B9E;&#x4E2D;&#x7ECF;&#x5E38;&#x4F1A;&#x7528;&#x5230;, &#x601D;&#x60F3;&#x975E;&#x5E38;&#x7B80;&#x5355;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84">&#x7ED3;&#x6784;</h4>

<p>&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x5305;&#x542B;&#x5982;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x5DE5;&#x5382;&#x89D2;&#x8272;(Factory)</strong></li>
<li><strong>&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x89D2;&#x8272;(Product)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x89D2;&#x8272;(ConcreteProduct)</strong></li>
</ul>
<h5 class="mume-header" id="%E5%B7%A5%E5%8E%82%E8%A7%92%E8%89%B2creator">&#x5DE5;&#x5382;&#x89D2;&#x8272;(Creator)</h5>

<p>&#x5DE5;&#x5382;&#x89D2;&#x8272; &#x662F;&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x6838;&#x5FC3;, &#x5B83;&#x8D1F;&#x8D23;&#x5B9E;&#x73B0;&#x521B;&#x5EFA;&#x6240;&#x6709;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;. &#x5DE5;&#x5382;&#x7C7B;&#x53EF;&#x4EE5;&#x88AB;&#x5916;&#x754C;&#x76F4;&#x63A5;&#x8C03;&#x7528;, &#x521B;&#x5EFA;&#x6240;&#x9700;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;.</p>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E4%BA%A7%E5%93%81%E8%A7%92%E8%89%B2product">&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x89D2;&#x8272;(Product)</h5>

<p>&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x89D2;&#x8272; &#x662F;&#x6240;&#x6709;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x89D2;&#x8272;&#x7684;&#x7236;&#x7C7B;, &#x5B83;&#x8D1F;&#x8D23;&#x63CF;&#x8FF0;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x6240;&#x5171;&#x6709;&#x7684;&#x516C;&#x5171;&#x63A5;&#x53E3;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E4%BA%A7%E5%93%81%E8%A7%92%E8%89%B2concrete-product">&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x89D2;&#x8272;(Concrete Product)</h5>

<p>&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x89D2;&#x8272; &#x7EE7;&#x627F;&#x81EA; &#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x89D2;&#x8272;, &#x4E00;&#x822C;&#x4E3A;&#x591A;&#x4E2A;, &#x662F;&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x521B;&#x5EFA;&#x76EE;&#x6807;, &#x5DE5;&#x5382;&#x7C7B;&#x8FD4;&#x56DE;&#x7684;&#x90FD;&#x662F;&#x8BE5;&#x89D2;&#x8272;&#x7684;&#x67D0;&#x4E00;&#x5177;&#x4F53;&#x4EA7;&#x54C1;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x5BA2;&#x6237;&#x5982;&#x679C;&#x53EA;&#x77E5;&#x9053;&#x4F20;&#x5165;&#x5DE5;&#x5382;&#x7C7B;&#x7684;&#x53C2;&#x6570;, &#x5BF9;&#x4E8E;&#x5982;&#x4F55;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x903B;&#x8F91;&#x4E0D;&#x5173;&#x5FC3;&#x65F6;;</li>
<li>&#x5F53;&#x5DE5;&#x5382;&#x7C7B;&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;(&#x5177;&#x4F53;&#x4EA7;&#x54C1;)&#x6BD4;&#x8F83;&#x5C11;&#x65F6;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B">&#x5B9E;&#x4F8B;</h4>

<p>&#x4EE5;&#x6C34;&#x679C;&#x52A0;&#x5DE5;&#x5382;&#x7684;&#x4EA7;&#x7EBF;&#x4E3A;&#x80CC;&#x666F;, &#x5177;&#x4F53;&#x601D;&#x8DEF;&#x5982;&#x4E0B;:<br>
<strong>&#x5EFA;&#x4E00;&#x5BB6;&#x6C34;&#x679C;&#x5DE5;&#x5382; -&gt; &#x5EFA;&#x9020;&#x5404;&#x79CD;&#x6C34;&#x679C;&#x52A0;&#x5DE5;&#x4EA7;&#x7EBF; -&gt; &#x4EA7;&#x7EBF;&#x751F;&#x4EA7;</strong><br>
&#x53EA;&#x9700;&#x8981;&#x5207;&#x6362;&#x9700;&#x8981;&#x52A0;&#x5DE5;&#x6C34;&#x679C;&#x7684;&#x4EA7;&#x7EBF;&#x6765;&#x52A0;&#x5DE5;&#x6C34;&#x679C;&#x5373;&#x53EF;.</p>
<p><strong>&#x5DE5;&#x5382;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>SimpleFactory.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _SIMPLEFACTORY_H_
#define _SIMPLEFACTORY_H_

#include &lt;bits/stdc++.h&gt;
#include &quot;ProductionLine.h&quot;
using namespace std;

class SimpleFactory {

public:

  enum TYPE {
    
    APPLE,
    BANANA,
    ORANGE,
    PEAR

  };

  static SimpleFactory* GetInstance();
  ProductionLine* CreateProLine(TYPE type);

private:

  SimpleFactory();

};

#endif  
</code></pre><p><strong>&#x5DE5;&#x5382;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>SimpleFactory.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;SimpleFactory.h&quot;

SimpleFactory::SimpleFactory() {
	
}

SimpleFactory* SimpleFactory::GetInstance() {

  static SimpleFactory factory;

  return &amp;factory;

}

ProductionLine* SimpleFactory::CreateProLine(TYPE type) {

  ProductionLine* proLine;

  switch (type) {

    case APPLE: {

      proLine = new AppleLine();

    }break;
    case BANANA: {

      proLine = new BananaLine();

    }break;
    case ORANGE: {

      proLine = new OrangeLine();

    }break;
    case PEAR: {

       proLine = new PearLine();

    }

  }

  return proLine;

}  
</code></pre><p><strong>&#x4EA7;&#x7EBF;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ProductionLine.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _PRODUCTIONLINE_H_
#define _PRODUCTIONLINE_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class ProductionLine {

public:

  ProductionLine();
  virtual ~ProductionLine();
  virtual void Product() = 0;

};

class AppleLine: public ProductionLine {

public:

  AppleLine();
  ~AppleLine();

  virtual void Product();

};

class BananaLine: public ProductionLine {

public:

  BananaLine();
  ~BananaLine();

  virtual void Product();

};

class OrangeLine: public ProductionLine {

public:

  OrangeLine();
  ~OrangeLine();

  virtual void Product();

};

class PearLine: public ProductionLine {

public:

  PearLine();
  ~PearLine();

  virtual void Product();

};

#endif  
</code></pre><p><strong>&#x4EA7;&#x7EBF;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ProductionLine.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ProductionLine.h&quot;

ProductionLine::ProductionLine() {

}

ProductionLine::~ProductionLine() {
  
}

AppleLine::AppleLine() {

  cout &lt;&lt; &quot;Built AppleLine&quot; &lt;&lt; endl;

}

AppleLine::~AppleLine() {

  cout &lt;&lt; &quot;Destory AppleLine&quot; &lt;&lt; endl;

}

void AppleLine::Product() {

  cout &lt;&lt; &quot;Apple, Apple, Apple!!&quot; &lt;&lt; endl;

}

BananaLine::BananaLine() {

  cout &lt;&lt; &quot;Built BananaLine&quot; &lt;&lt; endl;

}

BananaLine::~BananaLine() {

  cout &lt;&lt; &quot;Destory BananaLine&quot; &lt;&lt; endl;

}

void BananaLine::Product() {

  cout &lt;&lt; &quot;Banana, Banana, Banana!!&quot; &lt;&lt; endl;

}

OrangeLine::OrangeLine() {

  cout &lt;&lt; &quot;Built OrangeLine&quot; &lt;&lt; endl;

}

OrangeLine::~OrangeLine() {

  cout &lt;&lt; &quot;Destory OrangeLine&quot; &lt;&lt; endl;

}

void OrangeLine::Product() {

  cout &lt;&lt; &quot;Orange, Orange, Orange!!&quot; &lt;&lt; endl;

}

PearLine::PearLine() {

  cout &lt;&lt; &quot;Built PearLine&quot; &lt;&lt; endl;

}

PearLine::~PearLine() {

  cout &lt;&lt; &quot;Destory PearLine&quot; &lt;&lt; endl;

}

void PearLine::Product() {

  cout &lt;&lt; &quot;Pear, Pear, Pear!!&quot; &lt;&lt; endl;

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &lt;bits/stdc++.h&gt;
#include &quot;ProductionLine.h&quot;
#include &quot;SimpleFactory.h&quot;

using namespace std;

void Producting(ProductionLine* line) {

  if (line != nullptr) {
      line-&gt;Product();
  }

}

int main() {

  SimpleFactory* factory  = SimpleFactory::GetInstance();

  ProductionLine* line1 = factory-&gt;CreateProLine(SimpleFactory::APPLE);
  ProductionLine* line2 = factory-&gt;CreateProLine(SimpleFactory::BANANA);
  ProductionLine* line3 = factory-&gt;CreateProLine(SimpleFactory::ORANGE);
  ProductionLine* line4 = factory-&gt;CreateProLine(SimpleFactory::PEAR);

  Producting(line1);
  Producting(line2);
  Producting(line3);
  Producting(line4);
  
  return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x5C06;&#x521B;&#x5EFA;&#x5B9E;&#x4F8B;&#x7684;&#x5DE5;&#x4F5C;&#x4E0E;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x7684;&#x5DE5;&#x4F5C;&#x5206;&#x5F00;, &#x4F7F;&#x7528;&#x8005;&#x4E0D;&#x5FC5;&#x5173;&#x5FC3;&#x7C7B;&#x5BF9;&#x8C61;&#x5982;&#x4F55;&#x521B;&#x5EFA;, &#x5B9E;&#x73B0;&#x4E86;&#x89E3;&#x8026;.</li>
<li>&#x628A;&#x521D;&#x59CB;&#x5316;&#x5B9E;&#x4F8B;&#x65F6;&#x7684;&#x5DE5;&#x4F5C;&#x653E;&#x5230;&#x5DE5;&#x5382;&#x91CC;&#x8FDB;&#x884C;, &#x4F7F;&#x4EE3;&#x7801;&#x66F4;&#x5BB9;&#x6613;&#x7EF4;&#x62A4;. &#x66F4;&#x7B26;&#x5408;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x5219; &amp; &#x9762;&#x5411;&#x63A5;&#x53E3;&#x7F16;&#x7A0B;, &#x800C;&#x4E0D;&#x662F;&#x9762;&#x5411;&#x5B9E;&#x73B0;&#x7F16;&#x7A0B;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x5DE5;&#x5382;&#x7C7B;&#x96C6;&#x4E2D;&#x4E86;&#x6240;&#x6709;&#x5B9E;&#x4F8B;(&#x4EA7;&#x54C1;)&#x7684;&#x521B;&#x5EFA;&#x903B;&#x8F91;, &#x4E00;&#x65E6;&#x8FD9;&#x4E2A;&#x5DE5;&#x5382;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;, &#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x90FD;&#x4F1A;&#x53D7;&#x5230;&#x5F71;&#x54CD;.</li>
<li>&#x8FDD;&#x80CC; &quot;&#x5F00;&#x653E;-&#x5173;&#x95ED;&#x539F;&#x5219;&quot;, &#x4E00;&#x65E6;&#x6DFB;&#x52A0;&#x65B0;&#x4EA7;&#x54C1;&#x5C31;&#x4E0D;&#x5F97;&#x4E0D;&#x4FEE;&#x6539;&#x5DE5;&#x5382;&#x7C7B;&#x7684;&#x903B;&#x8F91;, &#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x9020;&#x6210;&#x5DE5;&#x5382;&#x903B;&#x8F91;&#x8FC7;&#x4E8E;&#x590D;&#x6742;.</li>
<li>&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x4E86;&#x9759;&#x6001;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;, &#x9759;&#x6001;&#x65B9;&#x6CD5;&#x4E0D;&#x80FD;&#x88AB;&#x7EE7;&#x627F;&#x548C;&#x91CD;&#x5199;, &#x4F1A;&#x9020;&#x6210;&#x5DE5;&#x5382;&#x89D2;&#x8272;&#x65E0;&#x6CD5;&#x5F62;&#x6210;&#x57FA;&#x4E8E;&#x7EE7;&#x627F;&#x7684;&#x7B49;&#x7EA7;&#x7ED3;&#x6784;.</li>
</ul>
<hr>
<h3 class="mume-header" id="%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F">&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-1">&#x7B80;&#x4ECB;</h4>

<p>&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x662F;: <strong>&#x7C7B;&#x7684;&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5DE5;&#x5382;&#x7C7B;</strong>, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;, &#x5982;&#x679C;&#x60F3;&#x8981;&#x62D3;&#x5C55;&#x7A0B;&#x5E8F;, &#x5FC5;&#x987B;&#x5BF9;&#x5DE5;&#x5382;&#x7C7B;&#x8FDB;&#x884C;&#x4FEE;&#x6539;, &#x8FD9;&#x8FDD;&#x80CC;&#x4E86;<strong>&#x95ED;&#x5305;&#x539F;&#x5219;</strong>. &#x6240;&#x4EE5;&#x4ECE;&#x8BBE;&#x8BA1;&#x89D2;&#x5EA6;&#x8003;&#x8651;, &#x6709;&#x4E00;&#x5B9A;&#x7684;&#x95EE;&#x9898;, &#x5C31;&#x9700;&#x8981;&#x7528;&#x5230; &#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x6765;&#x89E3;&#x51B3;. &#x521B;&#x5EFA;&#x4E00;&#x4E2A; <strong>&#x5DE5;&#x5382;&#x63A5;&#x53E3;</strong> &#x548C; &#x521B;&#x5EFA;&#x591A;&#x4E2A; <strong>&#x5DE5;&#x5382;&#x5B9E;&#x73B0;&#x7C7B;</strong>, &#x8FD9;&#x6837;&#x4E00;&#x65E6;&#x9700;&#x8981;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x529F;&#x80FD;, &#x76F4;&#x63A5;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x5DE5;&#x5382;&#x7C7B;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;, &#x4E0D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E4B;&#x524D;&#x7684;&#x4EE3;&#x7801;.</p>
<p>&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x4E5F;&#x53EB; <strong>&#x865A;&#x62DF;&#x6784;&#x9020;&#x5668;&#x6A21;&#x5F0F;</strong> &#x6216;&#x8005; <strong>&#x591A;&#x6001;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</strong>, &#x5B83;&#x5C5E;&#x4E8E;&#x7C7B;&#x521B;&#x5EFA;&#x578B;&#x6A21;&#x5F0F;. &#x5728;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E2D;, &#x5DE5;&#x5382;&#x7236;&#x7C7B;&#x8D1F;&#x8D23;&#x5B9A;&#x4E49;&#x521B;&#x5EFA;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;&#x7684;&#x516C;&#x5171;&#x63A5;&#x53E3;, &#x800C;&#x5DE5;&#x5382;&#x5B50;&#x7C7B;&#x5219;&#x8D1F;&#x8D23;&#x751F;&#x6210;&#x5177;&#x4F53;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;, &#x8FD9;&#x6837;&#x505A;&#x7684;&#x76EE;&#x7684;&#x662F;<strong>&#x5C06;&#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x64CD;&#x4F5C;&#x5EF6;&#x8FDF;&#x5230;&#x5DE5;&#x5382;&#x5B50;&#x7C7B;&#x4E2D;&#x5B8C;&#x6210;, &#x5373;&#x901A;&#x8FC7;&#x5DE5;&#x5382;&#x5B50;&#x7C7B;&#x6765;&#x786E;&#x5B9A;&#x7A76;&#x7ADF;&#x5E94;&#x8BE5;&#x5B9E;&#x4F8B;&#x5316;&#x54EA;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7C7B;</strong></p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-1">&#x7ED3;&#x6784;</h4>

<p>&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x662F; &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x7684;&#x8FDB;&#x4E00;&#x6B65;&#x62BD;&#x8C61;&#x548C;&#x63A8;&#x5E7F;. &#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x4E86;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x591A;&#x6001;&#x6027;, &#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4FDD;&#x6301;&#x4E86;&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x4F18;&#x70B9;, &#x800C;&#x4E14;&#x514B;&#x670D;&#x4E86;&#x5B83;&#x7684;&#x7F3A;&#x70B9;. &#x5728;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E2D;, &#x6838;&#x5FC3;&#x7684;&#x5DE5;&#x5382;&#x7C7B;&#x4E0D;&#x518D;&#x8D1F;&#x8D23;&#x6240;&#x6709;&#x4EA7;&#x54C1;&#x7684;&#x521B;&#x5EFA;, &#x800C;&#x662F;&#x5C06;&#x5177;&#x4F53;&#x521B;&#x5EFA;&#x5DE5;&#x4F5C;&#x4EA4;&#x7ED9;&#x4E86;&#x5B50;&#x7C7B;&#x53BB;&#x505A;. &#x8FD9;&#x4E2A;&#x6838;&#x5FC3;&#x7C7B;&#x4EC5;&#x4EC5;&#x8D1F;&#x8D23;&#x7ED9;&#x51FA;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x5FC5;&#x987B;&#x5B9E;&#x73B0;&#x7684;&#x63A5;&#x53E3;, &#x800C;&#x4E0D;&#x8D1F;&#x8D23;&#x54EA;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;&#x7C7B;&#x88AB;&#x5B9E;&#x4F8B;&#x5316;&#x8FD9;&#x79CD;&#x7EC6;&#x8282;, &#x8FD9;&#x4F7F;&#x5F97;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x5141;&#x8BB8;&#x7CFB;&#x7EDF;&#x5728;&#x4E0D;&#x4FEE;&#x6539;&#x5DE5;&#x5382;&#x89D2;&#x8272;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5F15;&#x8FDB;&#x65B0;&#x4EA7;&#x54C1;.<br>
&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x5305;&#x542B;&#x5982;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x89D2;&#x8272;(Product)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x89D2;&#x8272;(Concrete Product)</strong></li>
<li><strong>&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x89D2;&#x8272;(Creator)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x7684;&#x5DE5;&#x5382;(Concrete Creator)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E4%BA%A7%E5%93%81%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x89D2;&#x8272;</h5>

<p>&#x5B9A;&#x4E49;&#x4EA7;&#x54C1;&#x7684;&#x63A5;&#x53E3;. &#x662F;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x6240;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x8D85;&#x7C7B;&#x578B;, &#x5373;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;&#x7684;&#x5171;&#x540C;&#x7236;&#x7C7B;&#x6216;&#x63A5;&#x53E3;</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E4%BA%A7%E5%93%81%E8%A7%92%E8%89%B2">&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x89D2;&#x8272;</h5>

<p>&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x5B9E;&#x73B0;&#x4E86;&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x63A5;&#x53E3;. &#x67D0;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7531;&#x4E13;&#x95E8;&#x7684;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x521B;&#x5EFA;, &#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x5F80;&#x5F80;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;.</p>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x89D2;&#x8272;</h5>

<p>&#x58F0;&#x660E; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;, &#x7528;&#x4E8E;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;, &#x5B83;&#x662F;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x7684;&#x6838;&#x5FC3;, &#x4EFB;&#x4F55;&#x5728;&#x6A21;&#x5F0F;&#x4E2D;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x5DE5;&#x5382;&#x7C7B;&#x90FD;&#x5FC5;&#x987B;&#x5B9E;&#x73B0;&#x8BE5;&#x63A5;&#x53E3;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E7%9A%84%E5%B7%A5%E5%8E%82">&#x5177;&#x4F53;&#x7684;&#x5DE5;&#x5382;</h5>

<p>&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x662F;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x7C7B;&#x7684;&#x5B50;&#x7C7B;, &#x5B9E;&#x73B0;&#x4E86;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;, &#x5E76;&#x53EF;&#x7531;&#x5BA2;&#x6237;&#x8C03;&#x7528;, &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-1">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<p>&#x5728;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;:</p>
<ul>
<li><strong>&#x4E00;&#x4E2A;&#x7C7B;&#x4E0D;&#x77E5;&#x9053;&#x5B83;&#x6240;&#x9700;&#x8981;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;</strong>, &#x5728;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x4E2D;, &#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x7C7B;&#x540D;, &#x53EA;&#x9700;&#x8981;&#x77E5;&#x9053;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x5DE5;&#x5382;&#x5373;&#x53EF;, &#x5177;&#x4F53;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;&#x7531;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x7C7B;&#x521B;&#x5EFA;; &#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x77E5;&#x9053;&#x521B;&#x5EFA;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7684;&#x5DE5;&#x5382;&#x7C7B;.</li>
<li><strong>&#x4E00;&#x4E2A;&#x7C7B;&#x901A;&#x8FC7;&#x5176;&#x5B50;&#x7C7B;&#x6765;&#x6307;&#x5B9A;&#x521B;&#x5EFA;&#x54EA;&#x4E2A;&#x5BF9;&#x8C61;</strong>, &#x5728;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x4E2D;, &#x5BF9;&#x4E8E;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x7C7B;&#x53EA;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x521B;&#x5EFA;&#x4EA7;&#x54C1;&#x7684;&#x63A5;&#x53E3;, &#x800C;&#x7531;&#x5176;&#x5B50;&#x7C7B;&#x6765;&#x786E;&#x5B9A;&#x5177;&#x4F53;&#x8981;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;, &#x5229;&#x7528; <strong>&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x591A;&#x6001;&#x6027;</strong> &#x548C; <strong>&#x91CC;&#x6C0F;&#x4EE3;&#x6362;&#x539F;&#x5219;</strong>, &#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;, &#x5B50;&#x7C7B;&#x5BF9;&#x8C61;&#x5C06;&#x8986;&#x76D6;&#x7236;&#x7C7B;&#x5BF9;&#x8C61;, &#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x7CFB;&#x7EDF;&#x66F4;&#x5BB9;&#x6613;&#x6269;&#x5C55;. &#x5C06;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x4EFB;&#x52A1;&#x59D4;&#x6258;&#x7ED9;&#x591A;&#x4E2A;&#x5DE5;&#x5382;&#x5B50;&#x7C7B;&#x4E2D;&#x7684;&#x67D0;&#x4E00;&#x4E2A;, &#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x53EF;&#x4EE5;&#x65E0;&#x987B;&#x5173;&#x5FC3;&#x662F;&#x54EA;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x5B50;&#x7C7B;&#x521B;&#x5EFA;&#x4EA7;&#x54C1;&#x5B50;&#x7C7B;, &#x9700;&#x8981;&#x65F6;&#x518D;&#x52A8;&#x6001;&#x6307;&#x5B9A;, &#x53EF;&#x5C06;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x7C7B;&#x7684;&#x7C7B;&#x540D;&#x5B58;&#x50A8;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6216;&#x6570;&#x636E;&#x5E93;&#x4E2D;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-1">&#x5B9E;&#x4F8B;</h4>

<p>&#x8FD8;&#x662F;&#x4EE5;&#x6C34;&#x679C;&#x5382;&#x4E3A;&#x80CC;&#x666F;, &#x5177;&#x4F53;&#x601D;&#x8DEF;&#x5982;&#x4E0B;:<br>
<strong>&#x521B;&#x5EFA;&#x7236;&#x7C7B;&#x5DE5;&#x5382; -&gt; &#x5EFA;&#x9020;&#x76F8;&#x5E94;&#x7684;&#x6C34;&#x679C;&#x5DE5;&#x5382; -&gt; &#x751F;&#x4EA7;</strong><br>
&#x53EA;&#x9700;&#x8981;&#x5207;&#x6362;&#x4E0D;&#x540C;&#x7684;&#x6C34;&#x679C;&#x5DE5;&#x5382;&#x5373;&#x53EF;.</p>
<p><strong>&#x5DE5;&#x5382;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Factory.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _FACTORY_H_  
#define _FACTORY_H_

#include &lt;bits/stdc++.h&gt;
#include &quot;Fruit.h&quot;
using namespace std;

class BaseFactory {

public:

  BaseFactory();
  virtual ~BaseFactory();

  virtual Fruit* Produce() = 0;

protected:

  Fruit* m_Fruit;

};

class AppleFactory: public BaseFactory {

public:

  AppleFactory();
  virtual ~AppleFactory() override;

  virtual Fruit* Produce() override;

};

class BananaFactory: public BaseFactory {

public:

  BananaFactory();
  virtual ~BananaFactory() override;

  virtual Fruit* Produce() override;

};

#endif
</code></pre><p><strong>&#x5DE5;&#x5382;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Factory.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Factory.h&quot;

using namespace std;

BaseFactory::BaseFactory() {

}

BaseFactory::~BaseFactory() {

  if (m_Fruit != nullptr) {
      delete m_Fruit;
      m_Fruit = nullptr;
  }

}

AppleFactory::AppleFactory() {

  cout &lt;&lt; &quot;Building AppleFactory&quot; &lt;&lt; endl;

}

AppleFactory::~AppleFactory() {

  cout &lt;&lt; &quot;Destory AppleFactory&quot; &lt;&lt; endl;

}

Fruit* AppleFactory::Produce() {

  m_Fruit = new Apple();

  return m_Fruit;

}

BananaFactory::BananaFactory() {

  cout &lt;&lt; &quot;Building BananaFactory&quot; &lt;&lt; endl;

}

BananaFactory::~BananaFactory() {

  cout &lt;&lt; &quot;Destory BananaFactory&quot; &lt;&lt; endl;

}

Fruit* BananaFactory::Produce() {

  m_Fruit = new Banana();

  return m_Fruit;

}  
</code></pre><p><strong>&#x6C34;&#x679C;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Fruit.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _FRUIT_H_
#define _FRUIT_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class Fruit {

public:

  Fruit();
  virtual ~Fruit();
  virtual void FruitType() = 0;

};

class Apple: public Fruit {

public:

  Apple();
  virtual ~Apple() override;
  virtual void FruitType() override;

};

class Banana: public Fruit {

public:

  Banana();
  virtual ~Banana() override;
  virtual void FruitType() override;

};

#endif  
</code></pre><p><strong>&#x6C34;&#x679C;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Fruit.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Fruit.h&quot;

Fruit::Fruit() {
	
}

Fruit::~Fruit() {
	
}

Apple::Apple() {
	
}

Apple::~Apple() {
	
}

Banana::Banana() {
	
}

Banana::~Banana() {
	
}

void Apple::FruitType() {

  cout &lt;&lt; &quot;Apple, Apple, Apple!&quot; &lt;&lt; endl;

}

void Banana::FruitType() {

  cout &lt;&lt; &quot;Banana, Banana, Banana!&quot; &lt;&lt; endl;

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Factory.h&quot;
using namespace std;

int main() {

  BaseFactory* factory = new AppleFactory();
  factory-&gt;Produce()-&gt;FruitType();

  factory = new BananaFactory();
  factory-&gt;Produce()-&gt;FruitType();
  
  return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-1">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-1">&#x4F18;&#x70B9;</h5>

<p>&#x5728; &#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x4E2D;, &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x7528;&#x6765;&#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x6240;&#x9700;&#x8981;&#x7684;&#x4EA7;&#x54C1;, &#x540C;&#x65F6;&#x8FD8;&#x5411;&#x5BA2;&#x6237;&#x9690;&#x85CF;&#x4E86;&#x54EA;&#x79CD;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7C7B;&#x5C06;&#x88AB;&#x5B9E;&#x4F8B;&#x5316;&#x8FD9;&#x4E00;&#x7EC6;&#x8282;, &#x7528;&#x6237;&#x53EA;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x6240;&#x9700;&#x4EA7;&#x54C1;&#x5BF9;&#x5E94;&#x7684;&#x5DE5;&#x5382;, &#x65E0;&#x987B;&#x5173;&#x5FC3;&#x521B;&#x5EFA;&#x7EC6;&#x8282;, &#x751A;&#x81F3;&#x65E0;&#x987B;&#x77E5;&#x9053;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x7C7B;&#x540D;.</p>
<p>&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E4B;&#x6240;&#x4EE5;&#x53C8;&#x88AB;&#x79F0;&#x4E3A;<strong>&#x591A;&#x6001;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</strong>, &#x662F;&#x56E0;&#x4E3A;&#x6240;&#x6709;&#x7684;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x7C7B;&#x90FD;&#x5177;&#x6709;&#x540C;&#x4E00;&#x62BD;&#x8C61;&#x7236;&#x7C7B;, <strong>&#x57FA;&#x4E8E;&#x5DE5;&#x5382;&#x89D2;&#x8272;&#x548C;&#x4EA7;&#x54C1;&#x89D2;&#x8272;&#x7684;&#x591A;&#x6001;&#x6027;&#x8BBE;&#x8BA1;&#x662F;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x5173;&#x952E;</strong>. &#x5B83;&#x80FD;&#x591F;&#x4F7F;&#x5DE5;&#x5382;&#x53EF;&#x4EE5;&#x81EA;&#x4E3B;&#x786E;&#x5B9A;&#x521B;&#x5EFA;&#x4F55;&#x79CD;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;, &#x800C;&#x5982;&#x4F55;&#x521B;&#x5EFA;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x7EC6;&#x8282;&#x5219;&#x5B8C;&#x5168;&#x5C01;&#x88C5;&#x5728;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x5185;&#x90E8;.</p>
<p>&#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x4F18;&#x70B9;&#x662F;<strong>&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x52A0;&#x5165;&#x65B0;&#x4EA7;&#x54C1;&#x65F6;, &#x65E0;&#x987B;&#x4FEE;&#x6539;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x548C;&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x63D0;&#x4F9B;&#x7684;&#x63A5;&#x53E3;, &#x65E0;&#x987B;&#x4FEE;&#x6539;&#x5BA2;&#x6237;&#x7AEF;, &#x4E5F;&#x65E0;&#x987B;&#x4FEE;&#x6539;&#x5176;&#x4ED6;&#x7684;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x548C;&#x5177;&#x4F53;&#x4EA7;&#x54C1;, &#x800C;&#x53EA;&#x8981;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x548C;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;</strong>. &#x8FD9;&#x6837;, &#x7CFB;&#x7EDF;&#x7684;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x4E5F;&#x5C31;&#x53D8;&#x5F97;&#x975E;&#x5E38;&#x597D;, &#x5B8C;&#x5168;&#x7B26;&#x5408; &quot;&#x5F00;&#x95ED;&#x539F;&#x5219;&quot;.</p>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-1">&#x7F3A;&#x70B9;</h5>

<p>&#x5728;&#x6DFB;&#x52A0;&#x65B0;&#x4EA7;&#x54C1;&#x65F6;, &#x9700;&#x8981;&#x7F16;&#x5199;&#x65B0;&#x7684;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7C7B;, &#x800C;&#x4E14;&#x8FD8;&#x8981;&#x63D0;&#x4F9B;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x7684;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x7C7B;, &#x7CFB;&#x7EDF;&#x4E2D;&#x7C7B;&#x7684;&#x4E2A;&#x6570;&#x5C06;&#x6210;&#x5BF9;&#x589E;&#x52A0;, &#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x589E;&#x52A0;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x590D;&#x6742;&#x5EA6;, &#x6709;&#x66F4;&#x591A;&#x7684;&#x7C7B;&#x9700;&#x8981;&#x7F16;&#x8BD1;&#x548C;&#x8FD0;&#x884C;, &#x4F1A;&#x7ED9;&#x7CFB;&#x7EDF;&#x5E26;&#x6765;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x5F00;&#x9500;.</p>
<p>&#x7531;&#x4E8E;&#x8003;&#x8651;&#x5230;&#x7CFB;&#x7EDF;&#x7684;&#x53EF;&#x6269;&#x5C55;&#x6027;, &#x9700;&#x8981;&#x5F15;&#x5165;&#x62BD;&#x8C61;&#x5C42;, &#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x4EE3;&#x7801;&#x4E2D;&#x5747;&#x4F7F;&#x7528;&#x62BD;&#x8C61;&#x5C42;&#x8FDB;&#x884C;&#x5B9A;&#x4E49;, &#x589E;&#x52A0;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x62BD;&#x8C61;&#x6027;&#x548C;&#x7406;&#x89E3;&#x96BE;&#x5EA6;, &#x4E14;&#x5728;&#x5B9E;&#x73B0;&#x65F6;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7528;&#x5230;DOM, &#x53CD;&#x5C04;&#x7B49;&#x6280;&#x672F;, &#x589E;&#x52A0;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x5B9E;&#x73B0;&#x96BE;&#x5EA6;.</p>
<h4 class="mume-header" id="%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-%E5%92%8C-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-%E7%9A%84%E5%8C%BA%E5%88%AB">&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x548C; &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x7684;&#x533A;&#x522B;</h4>

<h5 class="mume-header" id="%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-1">&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</h5>

<ul>
<li>&#x5DE5;&#x5382;&#x7C7B;&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x6BD4;&#x8F83;&#x5C11;, &#x7531;&#x4E8E;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x8F83;&#x5C11;, &#x4E0D;&#x4F1A;&#x9020;&#x6210;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x592A;&#x8FC7;&#x590D;&#x6742;.</li>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x53EA;&#x77E5;&#x9053;&#x4F20;&#x5165;&#x5DE5;&#x5382;&#x7C7B;&#x7684;&#x53C2;&#x6570;, &#x5BF9;&#x4E8E;&#x5982;&#x4F55;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x5E76;&#x4E0D;&#x5173;&#x5FC3;.</li>
</ul>
<h5 class="mume-header" id="%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-1">&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</h5>

<ul>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x77E5;&#x9053;&#x5B83;&#x6240;&#x9700;&#x8981;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;.</li>
<li>&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x7C7B;&#x901A;&#x8FC7;&#x5176;&#x5B50;&#x7C7B;&#x6765;&#x6307;&#x5B9A;&#x521B;&#x5EFA;&#x54EA;&#x4E2A;&#x5BF9;&#x8C61;.</li>
</ul>
<hr>
<h3 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F">&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-2">&#x7B80;&#x4ECB;</h4>

<p>&#x5BF9;&#x4E8E;&#x4E0A;&#x9762;&#x7684;&#x6C34;&#x679C;&#x5DE5;&#x5382;, &#x5982;&#x679C;&#x60F3;&#x518D;&#x5B9E;&#x73B0;&#x52A0;&#x5DE5; &#x6A58;&#x5B50;, &#x53EA;&#x9700;&#x8981;&#x628A;&#x6A58;&#x5B50;&#x52A0;&#x5230;&#x4F60;&#x7684;&#x6C34;&#x679C;&#x5DE5;&#x5382;&#x5C31;&#x8DB3;&#x591F;&#x4E86;, &#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x90FD;&#x662F;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;&#x54C1;&#x79CD;, &#x90FD;&#x662F;&#x6C34;&#x679C;, &#x4F46;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x62D3;&#x5C55;&#x4E1A;&#x52A1;, &#x9700;&#x8981;&#x751F;&#x4EA7;&#x852C;&#x83DC;&#x52A0;&#x5DE5;, &#x8FD9;&#x65F6;&#x5019;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x660E;&#x663E;&#x5C31;&#x4E0D;&#x9002;&#x5408;&#x4E86;, &#x56E0;&#x4E3A;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x662F;&#x5BF9;&#x8C61;&#x90FD;&#x5B9E;&#x73B0;&#x4E86;&#x540C;&#x4E00;&#x63A5;&#x53E3;, &#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;.</p>
<p><strong>&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x662F;&#x6240;&#x6709;&#x5F62;&#x6001;&#x7684;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E2D;&#x6700;&#x4E3A;&#x62BD;&#x8C61;&#x548C;&#x6700;&#x5177;&#x4E00;&#x822C;&#x6027;&#x7684;&#x4E00;&#x79CD;&#x5F62;&#x6001;. &#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x662F;&#x6307;&#x5F53;&#x6709;&#x591A;&#x4E2A;&#x62BD;&#x8C61;&#x89D2;&#x8272;&#x65F6;, &#x4F7F;&#x7528;&#x7684;&#x4E00;&#x79CD;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</strong>.</p>
<p>&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;, &#x4F7F;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x4E0D;&#x5FC5;&#x6307;&#x5B9A;&#x4EA7;&#x54C1;&#x7684;&#x5177;&#x4F53;&#x7684;&#x60C5;&#x51B5;&#x4E0B;, &#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x4EA7;&#x54C1;&#x65CF;&#x4E2D;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;.</p>
<p>&#x6839;&#x636E;&#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219;, &#x4EFB;&#x4F55;&#x63A5;&#x53D7;&#x7236;&#x7C7B;&#x578B;&#x7684;&#x5730;&#x65B9;, &#x90FD;&#x5E94;&#x5F53;&#x80FD;&#x591F;&#x63A5;&#x53D7;&#x5B50;&#x7C7B;&#x578B;. &#x56E0;&#x6B64;, &#x5B9E;&#x9645;&#x4E0A;&#x7CFB;&#x7EDF;&#x6240;&#x9700;&#x8981;&#x7684;, &#x4EC5;&#x4EC5;&#x662F;&#x7C7B;&#x578B;&#x4E0E;&#x8FD9;&#x4E9B;&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x89D2;&#x8272;&#x76F8;&#x540C;&#x7684;&#x4E00;&#x4E9B;&#x5B9E;&#x4F8B;, &#x800C;&#x4E0D;&#x662F;&#x8FD9;&#x4E9B;&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x7684;&#x5B9E;&#x4F8B;. &#x6362;&#x8A00;&#x4E4B;, &#x4E5F;&#x5C31;&#x662F;&#x8FD9;&#x4E9B;&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x7684;&#x5177;&#x4F53;&#x5B50;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;. &#x5DE5;&#x5382;&#x7C7B;&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x7684;&#x5177;&#x4F53;&#x5B50;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-2">&#x7ED3;&#x6784;</h4>

<p>&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x4E3B;&#x8981;&#x89D2;&#x8272;&#x5982;&#x4E0B;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x5DE5;&#x5382;(Abstract Factory)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x5DE5;&#x5382;(Concrete Factory)</strong></li>
<li><strong>&#x62BD;&#x8C61;&#x4EA7;&#x54C1;(Abstract Product)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x4EA7;&#x54C1;(Concrete Product)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82">&#x62BD;&#x8C61;&#x5DE5;&#x5382;</h5>

<p>&#x63D0;&#x4F9B;&#x4E86;&#x521B;&#x5EFA;&#x4EA7;&#x54C1;&#x7684;&#x63A5;&#x53E3;, &#x5B83;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x521B;&#x5EFA;&#x4EA7;&#x54C1;&#x7684;&#x65B9;&#x6CD5;, &#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x7B49;&#x7EA7;&#x7684;&#x4EA7;&#x54C1;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E5%B7%A5%E5%8E%82">&#x5177;&#x4F53;&#x5DE5;&#x5382;</h5>

<p>&#x4E3B;&#x8981;&#x662F;&#x5B9E;&#x73B0;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x4E2D;&#x7684;&#x591A;&#x4E2A;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;, &#x5B8C;&#x6210;&#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7684;&#x521B;&#x5EFA;.</p>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E4%BA%A7%E5%93%81">&#x62BD;&#x8C61;&#x4EA7;&#x54C1;</h5>

<p>&#x5B9A;&#x4E49;&#x4E86;&#x4EA7;&#x54C1;&#x7684;&#x89C4;&#x8303;, &#x63CF;&#x8FF0;&#x4E86;&#x4EA7;&#x54C1;&#x7684;&#x4E3B;&#x8981;&#x7279;&#x6027;&#x548C;&#x529F;&#x80FD;, &#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x6709;&#x591A;&#x4E2A;&#x62BD;&#x8C61;&#x4EA7;&#x54C1;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E4%BA%A7%E5%93%81">&#x5177;&#x4F53;&#x4EA7;&#x54C1;</h5>

<p>&#x5B9E;&#x73B0;&#x4E86;&#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x89D2;&#x8272;&#x6240;&#x5B9A;&#x4E49;&#x7684;&#x63A5;&#x53E3;, &#x7531;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x6765;&#x521B;&#x5EFA;, &#x5B83;&#x540C;&#x5177;&#x4F53;&#x5DE5;&#x5382;&#x4E4B;&#x95F4;&#x662F;<strong>&#x591A;&#x5BF9;&#x4E00;</strong>&#x7684;&#x5173;&#x7CFB;</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-2">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<p>&#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x6709;&#x76F8;&#x540C;&#x7684;&#x7EA6;&#x675F;&#x65F6;, &#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;. &#x6BD4;&#x5982;: &#x8FD9;&#x4E2A;&#x5DE5;&#x5382;&#x7684;&#x51E0;&#x4E2A;&#x4EA7;&#x54C1;&#x90FD;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x67D0;&#x4E9B;&#x5171;&#x540C;&#x7684;&#x6B65;&#x9AA4;&#x548C;&#x6253;&#x4E0A;&#x76F8;&#x540C;&#x7684;&#x5546;&#x6807;, &#x8FD9;&#x4E00;&#x7EC4;&#x4EA7;&#x54C1;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x91CC;&#x9762;&#x751F;&#x4EA7;, &#x51CF;&#x5C11;&#x5F88;&#x591A;&#x91CD;&#x590D;&#x7684;&#x4EE3;&#x7801;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x51FA;&#x73B0;&#x591A;&#x6B21;.</p>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-2">&#x5B9E;&#x4F8B;</h4>

<p><strong>&#x5DE5;&#x5382;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>AbstractFactory.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ABSTRACTFACTORY_H_  
#define _ABSTRACTFACTORY_H_

#include &quot;AbstractProduct.h&quot;

class AbstractFactory {

public:

  AbstractFactory();
  virtual ~AbstractFactory();

  virtual AbstracProductA* CreateProductA() = 0;
  virtual AbstracProductB* CreateProductB() = 0;

};

class ConcreteFactory1: public AbstractFactory {

public:

  ConcreteFactory1();

  virtual AbstracProductA* CreateProductA() override;
  virtual AbstracProductB* CreateProductB() override;

};

class ConcreteFactory2: public AbstractFactory {

public:

  ConcreteFactory2();

  virtual AbstracProductA* CreateProductA() override;
  virtual AbstracProductB* CreateProductB() override;

};  

#endif  
</code></pre><p><strong>&#x5DE5;&#x5382;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>AbstractFactory.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;AbstractFactory.h&quot;  

AbstractFactory::AbstractFactory() {

}  

AbstractFactory::~AbstractFactory() {

}

ConcreteFactory1::ConcreteFactory1() {

    std::cout &lt;&lt; &quot;Create ConcreteFactory1 !&quot; &lt;&lt; std::endl;

}

AbstracProductA* ConcreteFactory1::CreateProductA() {

    std::cout &lt;&lt; &quot;Create ConcreteFactory1 -&gt; CreateProductA&quot; &lt;&lt; std::endl;
    
    ConcreteProductA1* A = new ConcreteProductA1();

    return A;

}

AbstracProductB* ConcreteFactory1::CreateProductB() {

    std::cout &lt;&lt; &quot;Create ConcreteFactory1 -&gt; CreateProductB&quot; &lt;&lt; std::endl;

    ConcreteProductB1* B = new ConcreteProductB1();

    return B;

}

ConcreteFactory2::ConcreteFactory2() {

    std::cout &lt;&lt; &quot;Create ConcreteFactory2 !&quot; &lt;&lt; std::endl;

}

AbstracProductA* ConcreteFactory2::CreateProductA() {

    std::cout &lt;&lt; &quot;Create ConcreteFactory2 -&gt; CreateProductA&quot; &lt;&lt; std::endl;

    ConcreteProductA2* A = new ConcreteProductA2();

    return A;

}

AbstracProductB* ConcreteFactory2::CreateProductB() {

    std::cout &lt;&lt; &quot;Create ConcreteFactory2 -&gt; CreateProductB&quot; &lt;&lt; std::endl;

    ConcreteProductB2* B = new ConcreteProductB2();

    return B;

}  
</code></pre><p><strong>&#x4EA7;&#x54C1;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>AbstractProduct.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ABSTRACTPRODUCT_H_  
#define _ABSTRACTPRODUCT_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class AbstracProductA {

public:

  AbstracProductA();
  virtual ~AbstracProductA();

  void Show();
  virtual string Name();

};

class ConcreteProductA1: public AbstracProductA {

public:

  ConcreteProductA1();
  string Name() override;

};

class ConcreteProductA2: public AbstracProductA {

public:

  ConcreteProductA2();
  string Name() override;

};

class AbstracProductB {

public:

  AbstracProductB();
  virtual ~AbstracProductB();

  void Show();
  virtual string Name();

};

class ConcreteProductB1: public AbstracProductB {

public:

  ConcreteProductB1();
  string Name() override;

};

class ConcreteProductB2: public AbstracProductB {

public:

  ConcreteProductB2();
  string Name() override;

};

#endif  
</code></pre><p><strong>&#x4EA7;&#x54C1;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>AbstractProduct.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;AbstractProduct.h&quot;  

AbstracProductA::AbstracProductA() {

}  

AbstracProductA::~AbstracProductA() {

}

string AbstracProductA::Name() {

    return &quot;AbstracProductA&quot;;

}

void AbstracProductA::Show() {

    std::cout &lt;&lt; Name() &lt;&lt; std::endl;

}

ConcreteProductA1::ConcreteProductA1() {

}

string ConcreteProductA1::Name() {

    return &quot;ProductA1&quot;;

}

ConcreteProductA2::ConcreteProductA2() {

}

string ConcreteProductA2::Name() {

    return &quot;ProductA2&quot;;

}

AbstracProductB::AbstracProductB() {

}  

AbstracProductB::~AbstracProductB() {

}

string AbstracProductB::Name() {

    return &quot;AbstracProductB&quot;;

}

void AbstracProductB::Show() {

    std::cout &lt;&lt; Name() &lt;&lt; std::endl;

}

ConcreteProductB1::ConcreteProductB1() {

}

string ConcreteProductB1::Name() {

    return &quot;ProductB1&quot;;

}

ConcreteProductB2::ConcreteProductB2() {

}

string ConcreteProductB2::Name() {

    return &quot;ProductB2&quot;;

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;AbstractFactory.h&quot;
#include &quot;AbstractProduct.h&quot;

using namespace std;

int main() {

  AbstractFactory* factory1 = new ConcreteFactory1();
  AbstracProductA* productA1 = factory1-&gt;CreateProductA();
  AbstracProductB* productB1 = factory1-&gt;CreateProductB();

  productA1-&gt;Show();
  productB1-&gt;Show();


  AbstractFactory* factory2 = new ConcreteFactory2();
  AbstracProductA* productA2 = factory2-&gt;CreateProductA();
  AbstracProductB* productB2 = factory2-&gt;CreateProductB();

  productA2-&gt;Show();
  productB2-&gt;Show();

  return 0;

}
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-2">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-2">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x5206;&#x79BB;&#x4E86;&#x5177;&#x4F53;&#x7684;&#x7C7B;</li>
<li>&#x4F7F;&#x5F97;&#x6613;&#x4E8E;&#x4EA4;&#x6362;&#x4EA7;&#x54C1;&#x7CFB;&#x5217;</li>
<li>&#x6709;&#x5229;&#x4E8E;&#x4EA7;&#x54C1;&#x7684;&#x4E00;&#x81F4;&#x6027;</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-2">&#x7F3A;&#x70B9;</h5>

<p>&#x96BE;&#x4EE5;&#x652F;&#x6301;&#x65B0;&#x79CD;&#x7C7B;&#x7684;&#x4EA7;&#x54C1;, <strong>&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x7684;&#x6700;&#x5927;&#x7F3A;&#x70B9;&#x5C31;&#x662F;&#x4EA7;&#x54C1;&#x65CF;&#x672C;&#x8EAB;&#x7684;&#x6269;&#x5C55;&#x975E;&#x5E38;&#x56F0;&#x96BE;</strong>, &#x5982;&#x679C;&#x5728;&#x4EA7;&#x54C1;&#x65CF;&#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4EA7;&#x54C1;&#x7C7B;&#x578B;, &#x5219;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x591A;&#x4E2A;&#x63A5;&#x53E3;, &#x5E76;&#x5F71;&#x54CD;&#x73B0;&#x5DF2;&#x6709;&#x7684;&#x5DE5;&#x5382;&#x7C7B;. &#x6BD4;&#x5982;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E2D;, &#x4F60;&#x8981;&#x5728;&#x8FD9;&#x4E2A;&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x7B2C;&#x4E09;&#x4E2A;&#x4EA7;&#x54C1;, &#x539F;&#x672C;&#x53EA;&#x662F;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;, &#x54EA;&#x4E48;&#x4F60;&#x5C31;&#x8981;&#x5728;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;, &#x90A3;&#x4E48;&#x6240;&#x6709;&#x5B9E;&#x73B0;&#x4E86;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x7684;&#x7C7B;&#x90FD;&#x8981;&#x91CD;&#x65B0;&#x6DFB;&#x52A0;&#x8FD9;&#x4E2A;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;, &#x8FD9;&#x5C31;&#x662F;&#x5BF9;&#x4E4B;&#x524D;&#x7684;&#x5DE5;&#x5382;&#x6709;&#x5F71;&#x54CD;&#x7684;&#x539F;&#x56E0;.</p>
<h4 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-%E5%92%8C-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-%E7%9A%84%E5%AF%B9%E6%AF%94">&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;, &#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x548C; &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x7684;&#x5BF9;&#x6BD4;</h4>

<p>&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x65E0;&#x975E;&#x662F;&#x6240;&#x6709;&#x7684;&#x4E1C;&#x897F;&#x90FD;&#x5199;&#x5728;&#x4E00;&#x4E2A;&#x7C7B;&#x91CC;&#x9762;, &#x8981;&#x4EC0;&#x4E48;&#x5C31;&#x8C03;&#x7528;&#x4EC0;&#x4E48;, &#x5982;&#x679C;&#x8981;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x65B9;&#x6CD5;&#x4E5F;&#x662F;&#x5230;&#x8FD9;&#x7C7B;&#x91CC;&#x9762;&#x6DFB;&#x52A0;, &#x4EE3;&#x7801;&#x5F88;&#x591A;, &#x770B;&#x8D77;&#x6765;&#x4E5F;&#x662F;&#x5F88;&#x4E71;, &#x5C31;&#x50CF;&#x4E00;&#x4E2A;&#x5927;&#x5DE5;&#x5382;, &#x4EC0;&#x4E48;&#x90FD;&#x5728;&#x91CC;&#x9762;, &#x6269;&#x5C55;&#x6027;&#x5F88;&#x4F4E;.</p>
<p>&#x800C;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;, &#x628A;&#x8BF4;&#x660E;&#x7684;&#x7406;&#x8BBA;&#x548C;&#x751F;&#x4EA7;&#x7684;&#x4E1C;&#x897F;&#x5C31;&#x5206;&#x5F00;&#x4E00;&#x70B9;; &#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x662F;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x7684;&#x5347;&#x7EA7;.</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x5B9A;&#x4E49;</strong>: &#x4E3A;&#x521B;&#x5EFA;&#x4E00;&#x7EC4;&#x76F8;&#x5173;&#x6216;&#x76F8;&#x4E92;&#x4F9D;&#x8D56;&#x7684;&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;, &#x800C;&#x4E14;&#x65E0;&#x9700;&#x6307;&#x5B9A;&#x5B83;&#x4EEC;&#x7684;&#x5177;&#x4F53;&#x7C7B;.</li>
<li><strong>&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x5B9A;&#x4E49;</strong>: &#x4E3A;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;, &#x800C;&#x4E14;&#x65E0;&#x9700;&#x6307;&#x5B9A;&#x5B83;&#x4EEC;&#x7684;&#x5177;&#x4F53;&#x7C7B;.</li>
</ul>
<p>&#x4E24;&#x8005;&#x90FD;&#x662F;<strong>&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;, &#x5E76;&#x5728;&#x5B50;&#x7C7B;&#x5199;&#x5177;&#x4F53;&#x7684;&#x4EE3;&#x7801;</strong>. &#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E2D;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7531;&#x591A;&#x4E2A;&#x62BD;&#x8C61;&#x4EA7;&#x54C1;, &#x591A;&#x4E2A;&#x5177;&#x4F53;&#x5DE5;&#x5382;, &#x5177;&#x4F53;&#x4EA7;&#x54C1;&#x7C7B;. <strong>&#x533A;&#x522B;&#x662F;&#x5728;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x63A5;&#x53E3;&#x7C7B;&#x4E2D;, &#x80FD;&#x521B;&#x5EFA;&#x51E0;&#x4E2A;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;, &#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x5DE5;&#x5382;&#x80FD;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x76F8;&#x5173;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;, &#x800C;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x7684;&#x5DE5;&#x5382;&#x53EA;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;</strong>.</p>
<p>&#x603B;&#x7ED3;: <strong>&#x5728;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E2D;&#x5F25;&#x8865;&#x4E86;&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x7F3A;&#x9677;(&#x4E0D;&#x7B26;&#x5408;&#x5F00;&#x95ED;&#x539F;&#x5219;), &#x800C;&#x5728;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E2D;&#x5F25;&#x8865;&#x4E86;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x4E0D;&#x8DB3;(&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x53EA;&#x80FD;&#x751F;&#x4EA7;&#x4E00;&#x79CD;&#x4EA7;&#x54C1;&#x7C7B;)</strong>.</p>
<hr>
<h3 class="mume-header" id="%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F">&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-3">&#x7B80;&#x4ECB;</h4>

<p>&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F; &#x4E5F;&#x79F0; <strong>&#x751F;&#x6210;&#x5668;&#x6A21;&#x5F0F;</strong>, &#x5C06;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x5EFA;&#x4E0E;&#x5B83;&#x7684;&#x8868;&#x793A;&#x5206;&#x79BB;, &#x4F7F;&#x5F97;&#x540C;&#x6837;&#x7684;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x793A;(&#x4F9D;&#x8D56;&#x5012;&#x8F6C;). &#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5BF9;&#x8C61;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684;&#x5BF9;&#x8C61;, &#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5C5E;&#x4E8E;&#x521B;&#x5EFA;&#x578B;&#x6A21;&#x5F0F;, &#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x6700;&#x4F73;&#x65B9;&#x5F0F;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-3">&#x7ED3;&#x6784;</h4>

<p>&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x5EFA;&#x9020;&#x8005;(Builder)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;(Concrete Builder)</strong></li>
<li><strong>&#x6307;&#x6325;&#x7C7B;(Director)</strong></li>
<li><strong>&#x4EA7;&#x54C1;&#x7C7B;(Product)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E5%BB%BA%E9%80%A0%E8%80%85">&#x62BD;&#x8C61;&#x5EFA;&#x9020;&#x8005;</h5>

<p>&#x5F15;&#x5165;&#x62BD;&#x8C61;&#x5EFA;&#x9020;&#x8005;&#x7684;&#x76EE;&#x7684;<strong>&#x662F;&#x4E3A;&#x4E86;&#x5C06;&#x5EFA;&#x9020;&#x7684;&#x5177;&#x4F53;&#x8FC7;&#x7A0B;&#x4EA4;&#x4E0E;&#x5B83;&#x7684;&#x5B50;&#x7C7B;&#x6765;&#x5B9E;&#x73B0;</strong>, &#x8FD9;&#x6837;&#x66F4;&#x5BB9;&#x6613;&#x6269;&#x5C55;. &#x4E00;&#x822C;&#x81F3;&#x5C11;&#x4F1A;&#x6709;&#x4E24;&#x4E2A;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;, &#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5EFA;&#x9020;&#x4EA7;&#x54C1;, &#x4E00;&#x4E2A;&#x662F;&#x7528;&#x6765;&#x8FD4;&#x56DE;&#x4EA7;&#x54C1;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E5%BB%BA%E9%80%A0%E8%80%85">&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;</h5>

<p>&#x5B9E;&#x73B0;&#x62BD;&#x8C61;&#x7C7B;&#x7684;&#x6240;&#x6709;&#x672A;&#x5B9E;&#x73B0;&#x7684;&#x65B9;&#x6CD5;, &#x5177;&#x4F53;&#x6765;&#x8BF4;&#x4E00;&#x822C;&#x662F;&#x4E24;&#x9879;&#x4EFB;&#x52A1;:</p>
<ul>
<li><strong>&#x7EC4;&#x5EFA;&#x4EA7;&#x54C1;</strong></li>
<li><strong>&#x8FD4;&#x56DE;&#x7EC4;&#x5EFA;&#x597D;&#x7684;&#x4EA7;&#x54C1;</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8C%87%E6%8C%A5%E7%B1%BB">&#x6307;&#x6325;&#x7C7B;</h5>

<p>&#x8D1F;&#x8D23;&#x8C03;&#x7528;&#x9002;&#x5F53;&#x7684;&#x5EFA;&#x9020;&#x8005;&#x6765;&#x7EC4;&#x5EFA;&#x4EA7;&#x54C1;, &#x6307;&#x6325;&#x7C7B;&#x4E00;&#x822C;&#x4E0D;&#x4E0E;&#x4EA7;&#x54C1;&#x7C7B;&#x53D1;&#x751F;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;, &#x4E0E;&#x6307;&#x6325;&#x7C7B;&#x76F4;&#x63A5;&#x4EA4;&#x4E92;&#x7684;&#x662F;&#x5EFA;&#x9020;&#x8005;&#x7C7B;. &#x4E00;&#x822C;&#x6765;&#x8BF4;, &#x6307;&#x6325;&#x7C7B;&#x88AB;&#x7528;&#x6765;&#x5C01;&#x88C5;&#x7A0B;&#x5E8F;&#x4E2D;&#x6613;&#x53D8;&#x7684;&#x90E8;&#x5206;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-3">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x521B;&#x5EFA;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x7B97;&#x6CD5;&#x72EC;&#x7ACB;&#x4E8E;&#x7EC4;&#x6210;&#x5BF9;&#x8C61;&#x7684;&#x90E8;&#x4EF6;</li>
<li>&#x540C;&#x4E00;&#x4E2A;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x9700;&#x8981;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x5185;&#x90E8;&#x8868;&#x8C61;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;</li>
</ul>
<p>&#x4F8B;&#x5982;: &#x9EA6;&#x5F53;&#x52B3;&#x7684;&#x6C49;&#x5821;, &#x53EF;&#x4E50;, &#x85AF;&#x6761;, &#x70B8;&#x9E21;&#x7FC5;&#x7B49;&#x662F;&#x4E0D;&#x53D8;&#x7684;, &#x800C;&#x5176;&#x7EC4;&#x5408;&#x662F;&#x7ECF;&#x5E38;&#x53D8;&#x5316;&#x7684;, &#x751F;&#x6210;&#x51FA;&#x6240;&#x8C13;&#x7684;&quot;&#x5957;&#x9910;&quot;.</p>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-3">&#x5B9E;&#x4F8B;</h4>

<p><strong>&#x62BD;&#x8C61;&#x5EFA;&#x9020;&#x8005;&#x5B9A;&#x4E49;</strong> (<em><strong>Builder.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _BUILDER_H_
#define _BUILDER_H_

#include &quot;product.h&quot;

class Builder {

public:

  Builder();
  virtual ~Builder();

  virtual void AddPartA();
  virtual void AddPartB();

  Product* GetProduct();

protected:

  Product* m_Product;

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x5EFA;&#x9020;&#x8005;&#x5B9E;&#x73B0;</strong> (<em><strong>Builder.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Builder.h&quot;

Builder::Builder() {

  m_Product = new Product();

}

Builder::~Builder() {
  
}

void Builder::AddPartA() {

  m_Product-&gt;AddPart(&quot;PartA&quot;);

}

void Builder::AddPartB() {

  m_Product-&gt;AddPart(&quot;PartB&quot;);

}

Product* Builder::GetProduct() {

  if (m_Product-&gt;PartsCount() &gt; 0){

    return m_Product;

  }else {

    cout &lt;&lt; &quot;No Proudct&quot; &lt;&lt;endl;

  }

}
</code></pre><p><strong>&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;&#x5B9A;&#x4E49;</strong> (<em><strong>CocncreteBuilder.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _COCNCRETEBUILDER_H_
#define _COCNCRETEBUILDER_H_

#include &quot;Builder.h&quot;

class ConcreteBuilder1: public Builder {

public:

  ConcreteBuilder1();
  void AddPartA() override;
  void AddPartB() override;

};

class ConcreteBuilder2: public Builder {

public:

  ConcreteBuilder2();
  void AddPartA() override;
  void AddPartB() override;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;&#x5B9E;&#x73B0;</strong> (<em><strong>CocncreteBuilder.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;CocncreteBuilder.h&quot;

ConcreteBuilder1::ConcreteBuilder1() {

}

void ConcreteBuilder1::AddPartA() {

  m_Product-&gt;AddPart(&quot;Builder1 PartA&quot;);

}

void ConcreteBuilder1::AddPartB() {

  m_Product-&gt;AddPart(&quot;Builder1 PartB&quot;);

}

ConcreteBuilder2::ConcreteBuilder2() {

}

void ConcreteBuilder2::AddPartA() {

  m_Product-&gt;AddPart(&quot;Builder2 PartA&quot;);

}

void ConcreteBuilder2::AddPartB() {

  m_Product-&gt;AddPart(&quot;Builder2 PartB&quot;);

}  
</code></pre><p><strong>&#x6307;&#x6325;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Director.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _DIRECTOR_H_
#define _DIRECTOR_H_

#include &quot;Builder.h&quot;

class Director {

public:

  Director();
  void Construct(Builder* builder);

};

#endif  
</code></pre><p><strong>&#x6307;&#x6325;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Director.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Director.h&quot;

Director::Director() {

}

void Director::Construct(Builder* builder) {

  builder-&gt;AddPartA();
  builder-&gt;AddPartB();

}  
</code></pre><p><strong>&#x4EA7;&#x54C1;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Product.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _PRODUCT_H_
#define _PRODUCT_H_

#include &lt;bits/stdc++.h&gt;

using namespace std;

class Product {

public:

  Product();
  void AddPart(string part);
  void Show();

  int PartsCount();

private:

  list&lt;string&gt; m_Parts;

};

#endif
</code></pre><p><strong>&#x4EA7;&#x54C1;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Product.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Product.h&quot;

Product::Product() {

}

void Product::AddPart(string part) {

  m_Parts.push_back(part);

}

void Product::Show() {

  cout &lt;&lt; &quot;&#x7EC4;&#x6210;&#x90E8;&#x5206;:&quot; &lt;&lt; endl;

  for (auto &amp;i : m_Parts) {

    cout &lt;&lt; i &lt;&lt; endl;

  } 

}

int Product::PartsCount() {

  return m_Parts.size();

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;CocncreteBuilder.h&quot;
#include &quot;Director.h&quot;

int main() {

  shared_ptr&lt;Builder&gt; builder1 = make_shared&lt;ConcreteBuilder1&gt;();
  shared_ptr&lt;Builder&gt; builder2 = make_shared&lt;ConcreteBuilder2&gt;();

  Director director;
  director.Construct(builder1.get());

  Product* product1 = builder1-&gt;GetProduct();
  product1-&gt;Show();

  director.Construct(builder2.get());

  Product* product2 = builder2-&gt;GetProduct();
  product2-&gt;Show();

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-3">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-3">&#x4F18;&#x70B9;</h5>

<ul>
<li><strong>&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x5FC5;&#x77E5;&#x9053;&#x4EA7;&#x54C1;&#x5185;&#x90E8;&#x7EC4;&#x6210;&#x7684;&#x7EC6;&#x8282;, &#x5C06;&#x4EA7;&#x54C1;&#x672C;&#x8EAB;&#x4E0E;&#x4EA7;&#x54C1;&#x7684;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x89E3;&#x8026;, &#x4F7F;&#x5F97;&#x76F8;&#x540C;&#x7684;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4E0D;&#x540C;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;.</strong></li>
<li>&#x6BCF;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;&#x90FD;&#x72EC;&#x7ACB;, &#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x66FF;&#x6362;&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;&#x6216;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;, <strong>&#x7528;&#x6237;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;&#x5373;&#x53EF;&#x5F97;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;</strong>.</li>
<li>&#x53EF;&#x4EE5;&#x66F4;&#x52A0;&#x7CBE;&#x7EC6;&#x5730;&#x63A7;&#x5236;&#x4EA7;&#x54C1;&#x7684;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;, &#x5C06;&#x590D;&#x6742;&#x4EA7;&#x54C1;&#x7684;&#x521B;&#x5EFA;&#x6B65;&#x9AA4;&#x5206;&#x89E3;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#x4E2D;, &#x4F7F;&#x5F97;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x66F4;&#x52A0;&#x6E05;&#x6670;, &#x4E5F;&#x66F4;&#x65B9;&#x4FBF;&#x4F7F;&#x7528;&#x7A0B;&#x5E8F;&#x6765;&#x63A7;&#x5236;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;.</li>
<li><strong>&#x589E;&#x52A0;&#x65B0;&#x7684;&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;&#x65E0;&#x987B;&#x4FEE;&#x6539;&#x539F;&#x6709;&#x7C7B;&#x5E93;&#x7684;&#x4EE3;&#x7801;, &#x6307;&#x6325;&#x8005;&#x7C7B;&#x9488;&#x5BF9;&#x62BD;&#x8C61;&#x5EFA;&#x9020;&#x8005;&#x7C7B;&#x7F16;&#x7A0B;, &#x7CFB;&#x7EDF;&#x6269;&#x5C55;&#x65B9;&#x4FBF;, &#x7B26;&#x5408;&quot;&#x5F00;&#x95ED;&#x539F;&#x5219;&quot;.</strong></li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-3">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x5F53;&#x5EFA;&#x9020;&#x8005;&#x8FC7;&#x591A;&#x65F6;, &#x4F1A;&#x4EA7;&#x751F;&#x5F88;&#x591A;&#x7C7B;, &#x96BE;&#x4EE5;&#x7EF4;&#x62A4;.</li>
<li>&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;&#x6240;&#x521B;&#x5EFA;&#x7684;&#x4EA7;&#x54C1;&#x4E00;&#x822C;&#x5177;&#x6709;&#x8F83;&#x591A;&#x7684;&#x5171;&#x540C;&#x70B9;, &#x5176;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#x76F8;&#x4F3C;, &#x82E5;&#x4EA7;&#x54C1;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x6027;&#x5F88;&#x5927;, &#x5219;&#x4E0D;&#x9002;&#x5408;&#x4F7F;&#x7528;&#x8BE5;&#x6A21;&#x5F0F;, &#x56E0;&#x6B64;&#x5176;&#x4F7F;&#x7528;&#x8303;&#x56F4;&#x53D7;&#x5230;&#x4E00;&#x5B9A;&#x9650;&#x5236;.</li>
<li>&#x82E5;&#x4EA7;&#x54C1;&#x7684;&#x5185;&#x90E8;&#x53D8;&#x5316;&#x590D;&#x6742;, &#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x5F88;&#x591A;&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005;&#x7C7B;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x79CD;&#x53D8;&#x5316;, &#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x53D8;&#x5F97;&#x5F88;&#x5E9E;&#x5927;.</li>
</ul>
<h4 class="mume-header" id="%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F-%E4%B8%8E-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-%E5%AF%B9%E6%AF%94">&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F; &#x4E0E; &#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x5BF9;&#x6BD4;</h4>

<p>&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x7528;&#x4E8E;&#x5904;&#x7406; &quot;&#x5982;&#x4F55;<strong>&#x83B7;&#x53D6;</strong>&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&quot; &#x7684;&#x95EE;&#x9898;;<br>
&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F; &#x7528;&#x4E8E;&#x5904;&#x7406; &quot;&#x5982;&#x4F55;<strong>&#x5EFA;&#x9020;</strong>&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&quot; &#x7684;&#x95EE;&#x9898;.</p>
<p>&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F; &#x4E0E; &#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x662F;&#x6781;&#x4E3A;&#x76F8;&#x4F3C;&#x7684;, &#x603B;&#x4F53;&#x4E0A; &#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F; &#x4EC5;&#x4EC5;&#x53EA;&#x6BD4; &#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x591A;&#x4E86;&#x4E00;&#x4E2A;&quot;&#x6307;&#x6325;&#x7C7B;&quot;&#x7684;&#x89D2;&#x8272;. &#x5728;&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;&#x7684;&#x7C7B;&#x56FE;&#x4E2D;, &#x5047;&#x5982;&#x628A;&#x8FD9;&#x4E2A;&#x6307;&#x6325;&#x7C7B;&#x770B;&#x505A;&#x662F;&#x6700;&#x7EC8;&#x8C03;&#x7528;&#x7684;&#x5BA2;&#x6237;&#x7AEF;, &#x90A3;&#x4E48;&#x5269;&#x4F59;&#x7684;&#x90E8;&#x5206;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E86;.</p>
<p>&#x4E0E;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x76F8;&#x6BD4;, <strong>&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;&#x4E00;&#x822C;&#x7528;&#x6765;&#x521B;&#x5EFA;&#x66F4;&#x4E3A;&#x590D;&#x6742;&#x7684;&#x5BF9;&#x8C61;</strong>, &#x56E0;&#x4E3A;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x66F4;&#x4E3A;&#x590D;&#x6742;, &#x56E0;&#x6B64;&#x5C06;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x72EC;&#x7ACB;&#x51FA;&#x6765;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7C7B; -- &#x6307;&#x6325;&#x7C7B;. &#x4E5F;&#x5C31;&#x662F;&#x8BF4;, &#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x662F;&#x5C06;&#x5BF9;&#x8C61;&#x7684;&#x5168;&#x90E8;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x5C01;&#x88C5;&#x5728;&#x5DE5;&#x5382;&#x7C7B;&#x4E2D;, &#x7531;&#x5DE5;&#x5382;&#x7C7B;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x6700;&#x7EC8;&#x7684;&#x4EA7;&#x54C1;. &#x800C;&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;&#x4E2D;, &#x5EFA;&#x9020;&#x8005;&#x7C7B;&#x4E00;&#x822C;&#x53EA;&#x63D0;&#x4F9B;&#x4EA7;&#x54C1;&#x7C7B;&#x4E2D;&#x5404;&#x4E2A;&#x7EC4;&#x4EF6;&#x7684;&#x5EFA;&#x9020;, &#x800C;&#x5C06;&#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8FC7;&#x7A0B;&#x4EA4;&#x4ED8;&#x7ED9;&#x6307;&#x6325;&#x7C7B;. &#x7531;&#x6307;&#x6325;&#x7C7B;&#x8D1F;&#x8D23;&#x5C06;&#x5404;&#x4E2A;&#x7EC4;&#x4EF6;&#x6309;&#x7167;&#x7279;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x7EC4;&#x5EFA;&#x4E3A;&#x4EA7;&#x54C1;, &#x7136;&#x540E;&#x5C06;&#x7EC4;&#x5EFA;&#x597D;&#x7684;&#x4EA7;&#x54C1;&#x4EA4;&#x4ED8;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;.</p>
<hr>
<h3 class="mume-header" id="%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F">&#x5355;&#x4F8B;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-4">&#x7B80;&#x4ECB;</h4>

<p>&#x5355;&#x4F8B;&#x6A21;&#x5F0F; &#x662F;&#x4E00;&#x79CD;&#x5E38;&#x7528;&#x7684;&#x8F6F;&#x4EF6;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;, &#x5176;&#x5B9A;&#x4E49;&#x662F;&#x5355;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x53EA;&#x80FD;&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5B58;&#x5728;. &#x8BB8;&#x591A;&#x65F6;&#x5019;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x53EA;&#x9700;&#x8981;&#x62E5;&#x6709;&#x4E00;&#x4E2A;&#x7684;&#x5168;&#x5C40;&#x5BF9;&#x8C61;, &#x8FD9;&#x6837;&#x6709;&#x5229;&#x4E8E;&#x6211;&#x4EEC;&#x534F;&#x8C03;&#x7CFB;&#x7EDF;&#x6574;&#x4F53;&#x7684;&#x884C;&#x4E3A;. &#x6BD4;&#x5982; Windows &#x662F;&#x591A;&#x8FDB;&#x7A0B;&#x591A;&#x7EBF;&#x7A0B;&#x7684;, &#x5728;&#x64CD;&#x4F5C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x5019;, &#x5C31;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x5730;&#x51FA;&#x73B0;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x6216;&#x7EBF;&#x7A0B;&#x540C;&#x65F6;&#x64CD;&#x4F5C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x73B0;&#x8C61;, &#x6240;&#x4EE5;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x7684;&#x5904;&#x7406;&#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x552F;&#x4E00;&#x7684;&#x5B9E;&#x4F8B;&#x6765;&#x8FDB;&#x884C;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-4">&#x7ED3;&#x6784;</h4>

<p>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x4E3B;&#x8981;&#x7684;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x5355;&#x4F8B;&#x7C7B;(Singleton)</strong></li>
</ul>
<h5 class="mume-header" id="%E5%8D%95%E4%BE%8B%E7%B1%BB">&#x5355;&#x4F8B;&#x7C7B;</h5>

<p>&#x5355;&#x4F8B;&#x7C7B;, &#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A; <em><strong>GetInstance</strong></em> &#x64CD;&#x4F5C;, &#x5141;&#x8BB8;&#x5BA2;&#x6237;&#x8BBF;&#x95EE;&#x5B83;&#x7684;&#x552F;&#x4E00;&#x5B9E;&#x4F8B;. <em><strong>GetInstance</strong></em> &#x662F;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x65B9;&#x6CD5;, &#x4E3B;&#x8981;&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x552F;&#x4E00;&#x5B9E;&#x4F8B;.</p>
<p>&#x5355;&#x4F8B;&#x7684;&#x5B9E;&#x73B0;&#x4E3B;&#x8981;&#x662F;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x6B65;&#x9AA4;:</p>
<ul>
<li><strong>&#x5C06;&#x8BE5;&#x7C7B;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x4E3A;&#x79C1;&#x6709;&#x65B9;&#x6CD5;</strong>, &#x8FD9;&#x6837;&#x5176;&#x4ED6;&#x5904;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x8BE5;&#x7C7B;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x6765;&#x5B9E;&#x4F8B;&#x5316;&#x8BE5;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;, &#x53EA;&#x6709;&#x901A;&#x8FC7;&#x8BE5;&#x7C7B;&#x63D0;&#x4F9B;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x6765;&#x5F97;&#x5230;&#x8BE5;&#x7C7B;&#x7684;&#x552F;&#x4E00;&#x5B9E;&#x4F8B;.</li>
<li>&#x5728;&#x8BE5;&#x7C7B;&#x5185;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x65B9;&#x6CD5;, &#x5F53;&#x6211;&#x4EEC;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x65F6;, &#x5982;&#x679C;&#x7C7B;&#x6301;&#x6709;&#x7684;&#x5F15;&#x7528;&#x4E0D;&#x4E3A;&#x7A7A;&#x5C31;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x5F15;&#x7528;, &#x5982;&#x679C;&#x7C7B;&#x4FDD;&#x6301;&#x7684;&#x5F15;&#x7528;&#x4E3A;&#x7A7A;&#x5C31;&#x521B;&#x5EFA;&#x8BE5;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x5E76;&#x5C06;&#x5B9E;&#x4F8B;&#x7684;&#x5F15;&#x7528;&#x8D4B;&#x4E88;&#x8BE5;&#x7C7B;&#x4FDD;&#x6301;&#x7684;&#x5F15;&#x7528;.</li>
</ul>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-4">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<p>&#x5728;&#x6211;&#x4EEC;&#x7684; windows &#x684C;&#x9762;&#x4E0A;, &#x6211;&#x4EEC;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x56DE;&#x6536;&#x7AD9;, &#x5F53;&#x6211;&#x4EEC;&#x8BD5;&#x56FE;&#x518D;&#x6B21;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x56DE;&#x6536;&#x7AD9;&#x65F6;, Windows &#x7CFB;&#x7EDF;&#x5E76;&#x4E0D;&#x4F1A;&#x4E3A;&#x4F60;&#x5F39;&#x51FA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x56DE;&#x6536;&#x7AD9;&#x7A97;&#x53E3;, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5728;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x8FD0;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;, &#x7CFB;&#x7EDF;&#x53EA;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x56DE;&#x6536;&#x7AD9;&#x7684;&#x5B9E;&#x4F8B;, &#x8FD9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x8FD0;&#x7528;.<br>
&#x9002;&#x7528;&#x573A;&#x666F;:</p>
<ul>
<li>&#x9700;&#x8981;&#x751F;&#x6210;&#x552F;&#x4E00;&#x5E8F;&#x5217;&#x7684;&#x73AF;&#x5883;</li>
<li>&#x9700;&#x8981;&#x9891;&#x7E41;&#x5B9E;&#x4F8B;&#x5316;&#x7136;&#x540E;&#x9500;&#x6BC1;&#x7684;&#x5BF9;&#x8C61;</li>
<li>&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x65F6;&#x8017;&#x65F6;&#x8FC7;&#x591A;&#x6216;&#x8005;&#x8017;&#x8D44;&#x6E90;&#x8FC7;&#x591A;, &#x4F46;&#x53C8;&#x7ECF;&#x5E38;&#x7528;&#x5230;&#x7684;&#x5BF9;&#x8C61;.</li>
<li>&#x65B9;&#x4FBF;&#x8D44;&#x6E90;&#x76F8;&#x4E92;&#x901A;&#x4FE1;&#x7684;&#x73AF;&#x5883;</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-4">&#x5B9E;&#x4F8B;</h4>

<p>windows &#x7684;&#x753B;&#x56FE;&#x5DE5;&#x5177;,&#x753B;&#x5E03;&#x53EF;&#x4EE5;&#x591A;&#x4E2A;, &#x753B;&#x7B14;&#x662F;&#x5355;&#x4F8B;, &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x753B;&#x7B14;&#x7684;&#x989C;&#x8272;&#x548C;&#x7C97;&#x7EC6;, &#x4F46;&#x662F;&#x6211;&#x4EEC;&#x7528;&#x6765;&#x753B;&#x51FA;&#x56FE;&#x6848;&#x7684;&#x753B;&#x7B14;&#x5B9E;&#x4F8B;&#x6C38;&#x8FDC;&#x662F;&#x540C;&#x4E00;&#x4E2A;, &#x5982;&#x4E0B;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x753B;&#x7B14;&#x5355;&#x4F8B;.<br>
<strong>&#x753B;&#x7B14;&#x5355;&#x4F8B;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Singleton.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _SINGLETON_H_  
#define _SINGLETON_H_

#include &quot;Properties.h&quot;

class Pen {

public:

  static Pen* getInstance();

  void setProperty(const Properties&amp; proty);
  string draw();

private:

  Pen();

  Properties m_Property;

};

#endif  
</code></pre><p><strong>&#x753B;&#x7B14;&#x5355;&#x4F8B;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Singleton.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Singleton.h&quot;

Pen* Pen::getInstance() {

  static Pen sig;
  return &amp;sig;

}

void Pen::setProperty(const Properties &amp;proty) {

  m_Property = proty;

}

string Pen::draw() {

  return m_Property.p_Shape;

}

Pen::Pen() {
  
}  
</code></pre><p><strong>&#x753B;&#x7B14;&#x5C5E;&#x6027;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Properties.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _PROPERTIES_H_  
#define _PROPERTIES_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

struct Properties {

  string p_Color;
  int    p_Width;
  string p_Shape;

};

#endif
</code></pre><p><strong>&#x753B;&#x5E03;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Draw.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _DRAW_H_  
#define _DRAW_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class Draw {

public:

  void show();
  Draw(string name);
  void setPan();

private:

  string m_Name;

};

#endif  
</code></pre><p><strong>&#x753B;&#x5E03;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Draw.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Draw.h&quot;

Draw::Draw(string name) {

  m_Name = name;

}

void Draw::show() {

  cout &lt;&lt; m_Name &lt;&lt; &quot;:&quot; &lt;&lt; endl;

  for (int n = 0; n &lt; 20; n++) {

    for (int m = 0; m &lt; n; m++) {

      cout &lt;&lt; &quot;* &quot;;

    }

    cout &lt;&lt; endl;

  }

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Singleton.h&quot;
#include &quot;Properties.h&quot;
#include &quot;Draw.h&quot;

int main() {

    Pen* sig = Pen::getInstance();

    Properties proty;
    proty.p_Color = &quot;red&quot;;
    proty.p_Width = 65;
    proty.p_Shape = &quot;*&quot;;

    sig-&gt;setProperty(proty);

    thread t1([]() {

      Draw d1(&quot;Draw1&quot;);
      d1.show();

    });

    thread t2([]() {

      Draw d2(&quot;Draw2&quot;);
      d2.show();

    });

    thread t3([]() {

      Draw d3(&quot;Draw3&quot;);
      d3.show();

    });

    t1.join();
    t2.join();
    t3.join();

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-4">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-4">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;, &#x8282;&#x7701;&#x5185;&#x5B58;&#x7A7A;&#x95F4;.</li>
<li>&#x907F;&#x514D;&#x9891;&#x7E41;&#x7684;&#x521B;&#x5EFA;&#x9500;&#x6BC1;&#x5BF9;&#x8C61;, &#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x6027;&#x80FD;.</li>
<li>&#x907F;&#x514D;&#x5BF9;&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#x7684;&#x591A;&#x91CD;&#x5360;&#x7528;, &#x7B80;&#x5316;&#x8BBF;&#x95EE;.</li>
<li>&#x4E3A;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x8BBF;&#x95EE;&#x70B9;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-4">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x53D8;&#x5316;&#x9891;&#x7E41;&#x7684;&#x5BF9;&#x8C61;.</li>
<li>&#x6EE5;&#x7528;&#x5355;&#x4F8B;&#x5C06;&#x5E26;&#x6765;&#x4E00;&#x4E9B;&#x8D1F;&#x9762;&#x95EE;&#x9898;, &#x5982;&#x4E3A;&#x4E86;&#x8282;&#x7701;&#x8D44;&#x6E90;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x5BF9;&#x8C61;&#x8BBE;&#x8BA1;&#x4E3A;&#x7684;&#x5355;&#x4F8B;&#x7C7B;, &#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x5171;&#x4EAB;&#x8FDE;&#x63A5;&#x6C60;&#x5BF9;&#x8C61;&#x7684;&#x7A0B;&#x5E8F;&#x8FC7;&#x591A;&#x800C;&#x51FA;&#x73B0;&#x8FDE;&#x63A5;&#x6C60;&#x6EA2;&#x51FA;.</li>
<li>&#x5982;&#x679C;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#x5BF9;&#x8C61;&#x957F;&#x65F6;&#x95F4;&#x4E0D;&#x88AB;&#x5229;&#x7528;, &#x7CFB;&#x7EDF;&#x4F1A;&#x8BA4;&#x4E3A;&#x8BE5;&#x5BF9;&#x8C61;&#x662F;&#x5783;&#x573E;&#x800C;&#x88AB;&#x56DE;&#x6536;, &#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x5BF9;&#x8C61;&#x72B6;&#x6001;&#x7684;&#x4E22;&#x5931;.</li>
</ul>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93">&#x603B;&#x7ED3;</h4>

<p>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x6709;&#x56DB;&#x79CD;&#x6BD4;&#x8F83;&#x7ECF;&#x5178;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;:</p>
<ul>
<li><strong>&#x997F;&#x6C49;&#x5F0F;</strong></li>
<li><strong>&#x61D2;&#x6C49;&#x5F0F;</strong></li>
<li><strong>&#x53CC;&#x91CD;&#x52A0;&#x9501;&#x673A;&#x5236;</strong></li>
<li><strong>&#x9759;&#x6001;&#x521D;&#x59CB;&#x5316;</strong></li>
</ul>
<h5 class="mume-header" id="%E9%A5%BF%E6%B1%89%E5%BC%8F">&#x997F;&#x6C49;&#x5F0F;</h5>

<p><strong>&#x662F;&#x5426; Lazy &#x521D;&#x59CB;&#x5316;:</strong> &#x5426;<br>
<strong>&#x662F;&#x5426;&#x591A;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;:</strong> &#x662F;<br>
<strong>&#x5B9E;&#x73B0;&#x96BE;&#x5EA6;:</strong> &#x6613;<br>
<strong>&#x63CF;&#x8FF0;:</strong> &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6BD4;&#x8F83;&#x5E38;&#x7528;, &#x4F46;&#x5BB9;&#x6613;&#x4EA7;&#x751F;&#x5783;&#x573E;&#x5BF9;&#x8C61;.<br>
<strong>&#x4F18;&#x70B9;:</strong> &#x6CA1;&#x6709;&#x52A0;&#x9501;, &#x6267;&#x884C;&#x6548;&#x7387;&#x4F1A;&#x63D0;&#x9AD8;.<br>
<strong>&#x7F3A;&#x70B9;:</strong> &#x7C7B;&#x52A0;&#x8F7D;&#x65F6;&#x5C31;&#x521D;&#x59CB;&#x5316;, &#x5982;&#x679C;&#x4ECE;&#x59CB;&#x81F3;&#x7EC8;&#x4ECE;&#x672A;&#x4F7F;&#x7528;&#x8FC7;&#x8FD9;&#x4E2A;&#x5B9E;&#x4F8B;, &#x6D6A;&#x8D39;&#x5185;&#x5B58;.</p>
<pre data-role="codeBlock" data-info class="language-"><code>class Singleton {

private:

    Singleton() {

        singleton = new Singleton();

    };

    static Singleton* singleton;

public:

    static Singleton* getSingleton() {

        return singleton;

    }

};  
</code></pre><h5 class="mume-header" id="%E6%87%92%E6%B1%89%E5%BC%8F">&#x61D2;&#x6C49;&#x5F0F;</h5>

<p><strong>&#x662F;&#x5426; Lazy &#x521D;&#x59CB;&#x5316;:</strong> &#x662F;<br>
<strong>&#x662F;&#x5426;&#x591A;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;:</strong> &#x662F;<br>
<strong>&#x5B9E;&#x73B0;&#x96BE;&#x5EA6;:</strong> &#x6613;<br>
<strong>&#x63CF;&#x8FF0;:</strong> &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5177;&#x5907;&#x5F88;&#x597D;&#x7684; lazy loading, &#x80FD;&#x591F;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x4E2D;&#x5F88;&#x597D;&#x7684;&#x5DE5;&#x4F5C;. &#x4F46;&#x662F;&#x6548;&#x7387;&#x4F4E;, 99%&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x9700;&#x8981;&#x540C;&#x6B65;.<br>
<strong>&#x4F18;&#x70B9;:</strong> &#x7B2C;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x624D;&#x521D;&#x59CB;&#x5316;, &#x907F;&#x514D;&#x5185;&#x5B58;&#x6D6A;&#x8D39;.<br>
<strong>&#x7F3A;&#x70B9;:</strong> &#x5FC5;&#x987B;&#x52A0;&#x9501; synchronized &#x624D;&#x80FD;&#x4FDD;&#x8BC1;&#x5355;&#x4F8B;, &#x4F46;&#x52A0;&#x9501;&#x4F1A;&#x5F71;&#x54CD;&#x6548;&#x7387;.</p>
<pre data-role="codeBlock" data-info class="language-"><code>class Singleton {

private:

    Singleton() {};

    static Singleton* singleton;

public:

    static Singleton* getSingleton() {

        if (singleton == nullptr) {
            singleton = new Singleton();
        }

        return singleton;

    }

};  
</code></pre><h5 class="mume-header" id="%E5%8F%8C%E9%87%8D%E5%8A%A0%E9%94%81%E6%9C%BA%E5%88%B6">&#x53CC;&#x91CD;&#x52A0;&#x9501;&#x673A;&#x5236;</h5>

<p><strong>&#x662F;&#x5426; Lazy &#x521D;&#x59CB;&#x5316;:</strong> &#x662F;<br>
<strong>&#x662F;&#x5426;&#x591A;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;:</strong> &#x662F;<br>
<strong>&#x5B9E;&#x73B0;&#x96BE;&#x5EA6;:</strong> &#x8F83;&#x590D;&#x6742;<br>
<strong>&#x63CF;&#x8FF0;:</strong> &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x91C7;&#x7528;&#x53CC;&#x9501;&#x673A;&#x5236;, &#x5B89;&#x5168;&#x4E14;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x60C5;&#x51B5;&#x4E0B;&#x80FD;&#x4FDD;&#x6301;&#x9AD8;&#x6027;&#x80FD;.<br>
<strong>&#x4F18;&#x70B9;:</strong> &#x7EBF;&#x7A0B;&#x5B89;&#x5168;, &#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;, &#x6548;&#x7387;&#x8F83;&#x9AD8;.</p>
<pre data-role="codeBlock" data-info class="language-"><code>std::mutex mlock;

class Singleton {

private:

    Singleton() {};
    static Singleton* singleton;

public:

    static Singleton* getSingleton() {

        if (singleton == nullptr) {

            mlock.lock();

            if (singleton == nullptr) {
                singleton = new Singleton();
                mlock.unlock();
                return singleton;
            }

            mlock.unlock();
            return singleton;

        }

        return singleton;

    }

};  
</code></pre><h5 class="mume-header" id="%E9%9D%99%E6%80%81%E5%88%9D%E5%A7%8B%E5%8C%96">&#x9759;&#x6001;&#x521D;&#x59CB;&#x5316;</h5>

<p><strong>&#x662F;&#x5426; Lazy &#x521D;&#x59CB;&#x5316;:</strong> &#x662F;<br>
<strong>&#x662F;&#x5426;&#x591A;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;:</strong> &#x662F;<br>
<strong>&#x5B9E;&#x73B0;&#x96BE;&#x5EA6;:</strong> &#x4E00;&#x822C;<br>
<strong>&#x63CF;&#x8FF0;:</strong> &#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x4E0D;&#x9700;&#x8981;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x663E;&#x5F0F;&#x5730;&#x7F16;&#x5199;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x4EE3;&#x7801;, &#x5373;&#x53EF;&#x89E3;&#x51B3;&#x591A;&#x7EBF;&#x7A0B;&#x73AF;&#x5883;&#x4E0B;&#x5B83;&#x662F;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#x95EE;&#x9898;.</p>
<pre data-role="codeBlock" data-info class="language-"><code>class Singleton {

private:

    Singleton() {};

public:

    static Singleton* getSingleton() {

        static Singleton singleton2;
        return &amp;singleton2;

    }

};  
</code></pre><p>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x8FD8;&#x6709;&#x5F88;&#x591A;, &#x8FD9;&#x56DB;&#x79CD;&#x662F;&#x6BD4;&#x8F83;&#x7ECF;&#x5178;&#x7684;&#x5B9E;&#x73B0;, &#x4ECE;&#x8FD9;&#x56DB;&#x79CD;&#x5B9E;&#x73B0;&#x4E2D;, &#x53EF;&#x4EE5;&#x603B;&#x7ED3;&#x51FA;, &#x8981;&#x60F3;&#x5B9E;&#x73B0;&#x6548;&#x7387;&#x9AD8;&#x7684;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x5355;&#x4F8B;, &#x5FC5;&#x987B;&#x6CE8;&#x610F;&#x4EE5;&#x4E0B;&#x4E24;&#x70B9;:</p>
<ul>
<li>&#x5C3D;&#x91CF;&#x51CF;&#x5C11;&#x540C;&#x6B65;&#x5757;&#x7684;&#x4F5C;&#x7528;&#x57DF;</li>
<li>&#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x7EC6;&#x7C92;&#x5EA6;&#x7684;&#x9501;</li>
</ul>
<hr>
<h3 class="mume-header" id="%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F">&#x539F;&#x578B;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-5">&#x7B80;&#x4ECB;</h4>

<p>&#x539F;&#x578B;&#x6A21;&#x5F0F; &#x662F;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x91CD;&#x590D;&#x7684;&#x5BF9;&#x8C61;, &#x540C;&#x65F6;&#x53C8;&#x80FD;&#x4FDD;&#x8BC1;&#x6027;&#x80FD;, &#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x6700;&#x4F73;&#x65B9;&#x5F0F;. &#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x662F;<strong>&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x539F;&#x578B;&#x63A5;&#x53E3;, &#x8BE5;&#x63A5;&#x53E3;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x7684;&#x514B;&#x9686;. &#x5F53;&#x76F4;&#x63A5;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x4EE3;&#x4EF7;&#x6BD4;&#x8F83;&#x5927;&#x65F6;, &#x5219;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;</strong>. &#x4F8B;&#x5982;, &#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x5728;&#x4E00;&#x4E2A;&#x9AD8;&#x4EE3;&#x4EF7;&#x7684;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x4E4B;&#x540E;&#x88AB;&#x521B;&#x5EFA;, &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7F13;&#x5B58;&#x8BE5;&#x5BF9;&#x8C61;, &#x5728;&#x4E0B;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x65F6;&#x8FD4;&#x56DE;&#x5B83;&#x7684;&#x514B;&#x9686;, &#x5728;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x66F4;&#x65B0;&#x6570;&#x636E;&#x5E93;, &#x4EE5;&#x6B64;&#x6765;&#x51CF;&#x5C11;&#x6570;&#x636E;&#x5E93;&#x8C03;&#x7528;. &#x7531;&#x4E8E;&#x5B83;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x5185;&#x5B58;&#x4E2D;&#x7684;<strong>&#x4E8C;&#x8FDB;&#x5236;&#x6D41;</strong>, &#x5F53;&#x5927;&#x91CF;&#x64CD;&#x4F5C;&#x6216;&#x64CD;&#x4F5C;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x65F6;, &#x6027;&#x80FD;&#x4F18;&#x52BF;&#x5C06;&#x4F1A;&#x5F88;&#x660E;&#x663E;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-5">&#x7ED3;&#x6784;</h4>

<p>&#x539F;&#x578B;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x8FD9;&#x51E0;&#x4E2A;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x539F;&#x578B;&#x7C7B;(Prototype)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x539F;&#x578B;&#x7C7B;(Concrete Prototye)</strong></li>
</ul>
<h5 class="mume-header" id="%E5%8E%9F%E5%9E%8B%E7%B1%BB">&#x539F;&#x578B;&#x7C7B;</h5>

<p>&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x514B;&#x9686;&#x81EA;&#x8EAB;&#x7684;&#x63A5;&#x53E3;, &#x91CC;&#x9762;&#x7684;&#x5173;&#x952E;&#x65B9;&#x6CD5;&#x5C31;&#x662F; <em><strong>clone</strong></em>() &#x65B9;&#x6CD5;</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E5%8E%9F%E5%9E%8B%E7%B1%BB">&#x5177;&#x4F53;&#x539F;&#x578B;&#x7C7B;</h5>

<p>&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x514B;&#x9686;&#x81EA;&#x8EAB;&#x7684;&#x64CD;&#x4F5C;</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-5">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<p>&#x591A;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5927;&#x5BF9;&#x8C61;, &#x6216;&#x521D;&#x59CB;&#x5316;&#x7E41;&#x7410;&#x7684;&#x5BF9;&#x8C61;. &#x5982;&#x6E38;&#x620F;&#x4E2D;&#x7684;&#x80CC;&#x666F;, &#x5730;&#x56FE;; Web&#x4E2D;&#x7684;&#x753B;&#x5E03;&#x7B49;&#x7B49;. &#x4EE5;&#x4E0B;&#x573A;&#x666F;&#x9002;&#x7528;:</p>
<ul>
<li><strong>&#x8D44;&#x6E90;&#x4F18;&#x5316;&#x573A;&#x666F;</strong><br>
&#x7C7B;&#x521D;&#x59CB;&#x5316;&#x9700;&#x8981;&#x6D88;&#x8017;&#x975E;&#x5E38;&#x591A;&#x7684;&#x8D44;&#x6E90;, &#x8FD9;&#x4E2A;&#x8D44;&#x6E90;&#x5305;&#x62EC;&#x6570;&#x636E;, &#x786C;&#x4EF6;&#x8D44;&#x6E90;&#x7B49;;</li>
<li><strong>&#x6027;&#x80FD;&#x548C;&#x5B89;&#x5168;&#x8981;&#x6C42;&#x7684;&#x573A;&#x666F;</strong><br>
&#x901A;&#x8FC7; <strong>new</strong> &#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x975E;&#x5E38;&#x7E41;&#x7410;&#x7684;&#x6570;&#x636E;&#x51C6;&#x5907;&#x6216;&#x8BBF;&#x95EE;&#x6743;&#x9650;, &#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x539F;&#x578B;&#x6A21;&#x5F0F;;</li>
<li><strong>&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x591A;&#x4E2A;&#x4FEE;&#x6539;&#x8005;&#x7684;&#x573A;&#x666F;</strong><br>
&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x7ED9;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x8BBF;&#x95EE;, &#x800C;&#x4E14;&#x5404;&#x4E2A;&#x8C03;&#x7528;&#x8005;&#x53EF;&#x80FD;&#x90FD;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5176;&#x503C;&#x65F6;, &#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4F7F;&#x7528;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x62F7;&#x8D1D;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x4F9B;&#x8C03;&#x7528;&#x8005;&#x4F7F;&#x7528;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-5">&#x5B9E;&#x4F8B;</h4>

<p>&#x4EE5;&#x7528;&#x6237;&#x6570;&#x636E;&#x590D;&#x5236;&#x6765;&#x4E3E;&#x4F8B;, &#x4EE3;&#x7801;&#x5982;&#x4E0B;:</p>
<p><strong>&#x539F;&#x578B;&#x7C7B;&#x548C;&#x5177;&#x4F53;&#x539F;&#x578B;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Prototype.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _PROTOTYPE_H_
#define _PROTOTYPE_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class Prototype {

public:

  Prototype();
  virtual ~Prototype();
  virtual Prototype* clone();

  string GetName();
  void SetName(string name);

  int GetAge();
  void SetAge(int* age);

protected:

  string  m_Name;
  int* m_Age;

};

class ConcretePrototype: public Prototype {

public:

  ConcretePrototype();
  virtual ~ConcretePrototype();
  virtual Prototype* clone() override;

};

#endif  
</code></pre><p><strong>&#x539F;&#x578B;&#x7C7B;&#x548C;&#x5177;&#x4F53;&#x539F;&#x578B;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Prototype.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Prototype.h&quot;

Prototype::Prototype() {

}

Prototype::~Prototype() {

}

Prototype* Prototype::clone() {

  return new Prototype(*this);

}

string Prototype::GetName() {

  return m_Name;

}

void Prototype::SetName(string name) {

  m_Name = name;

}

int Prototype::GetAge() {

  return *m_Age;

}

void Prototype::SetAge(int* age) {

  m_Age = age;

}

ConcretePrototype::ConcretePrototype() {

}

ConcretePrototype::~ConcretePrototype() {

}

Prototype* ConcretePrototype::clone() {

  return new ConcretePrototype(*this);

}
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Prototype.h&quot;

#define DELETEOBJECT(x) if (x != nullptr) { delete x; x = nullptr;}

int main() {

  int age1 = 25;
  Prototype* proto1 = new Prototype();
  proto1-&gt;SetAge(&amp;age1);
  proto1-&gt;SetName(&quot;&#x5C0F;&#x660E;&quot;);

  cout &lt;&lt; proto1-&gt;GetName() &lt;&lt; endl;
  cout &lt;&lt; proto1-&gt;GetAge() &lt;&lt; endl;

  int age2 = 35;
  Prototype* proto2 = proto1-&gt;clone();
  proto2-&gt;SetAge(&amp;age2);
  proto2-&gt;SetName(&quot;&#x5C0F;&#x7EA2;&quot;);

  cout &lt;&lt; proto2-&gt;GetName() &lt;&lt; endl;
  cout &lt;&lt; proto2-&gt;GetAge() &lt;&lt; endl; 

  DELETEOBJECT(proto1);
  DELETEOBJECT(proto2);

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-5">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-5">&#x4F18;&#x70B9;</h5>

<ul>
<li><strong>&#x76F8;&#x5BF9;&#x4E8E; new &#x521B;&#x5EFA;&#x65B0;&#x5BF9;&#x8C61;</strong><br>
&#x9996;&#x5148;, &#x7528; <strong>new</strong> &#x65B0;&#x5EFA;&#x5BF9;&#x8C61;&#x4E0D;&#x80FD;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x72B6;&#x6001;, &#x5176;&#x6B21;&#x5C31;&#x7B97; <strong>new</strong> &#x4E86;&#x65B0;&#x5BF9;&#x8C61;, &#x5728;&#x5C06;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x7684;&#x503C;&#x590D;&#x5236;&#x7ED9;&#x65B0;&#x5BF9;&#x8C61;, &#x6548;&#x7387;&#x4E5F;&#x4E0D;&#x5982;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x9AD8;.</li>
<li><strong>&#x76F8;&#x5BF9;&#x4E8E;&#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;</strong><br>
&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x4E0E;&#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x6982;&#x5FF5;, &#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;&#x6D89;&#x53CA;&#x7684;&#x7C7B;&#x662F;&#x5DF2;&#x77E5;&#x7684;, &#x539F;&#x578B;&#x6A21;&#x5F0F;&#x6D89;&#x53CA;&#x7684;&#x7C7B;&#x53EF;&#x4EE5;&#x662F;&#x672A;&#x77E5;&#x7684;. &#x539F;&#x578B;&#x6A21;&#x5F0F;&#x751F;&#x6210;&#x7684;&#x65B0;&#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x6D3E;&#x751F;&#x7C7B;, &#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;&#x751F;&#x6210;&#x7684;&#x65B0;&#x5BF9;&#x8C61;&#x53EA;&#x80FD;&#x662F;&#x7C7B;&#x672C;&#x8EAB;. &#x539F;&#x578B;&#x6A21;&#x5F0F;&#x662F;&#x63CF;&#x8FF0;&#x4E86;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x65B9;&#x6CD5;(&#x6216;&#x6982;&#x5FF5;), &#x5B83;&#x4E0D;&#x7BA1;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;, &#x800C;&#x62F7;&#x8D1D;&#x6784;&#x9020;&#x5219;&#x662F;&#x63CF;&#x8FF0;&#x4E86;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-5">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x914D;&#x5907;&#x514B;&#x9686;&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x5BF9;&#x7C7B;&#x7684;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x901A;&#x76D8;&#x8003;&#x8651;, &#x8FD9;&#x5BF9;&#x4E8E;&#x5168;&#x65B0;&#x7684;&#x7C7B;&#x4E0D;&#x662F;&#x5F88;&#x96BE;, &#x4F46;&#x5BF9;&#x4E8E;&#x5DF2;&#x6709;&#x7684;&#x7C7B;&#x4E0D;&#x4E00;&#x5B9A;&#x5F88;&#x5BB9;&#x6613;, &#x7279;&#x522B;&#x5F53;&#x4E00;&#x4E2A;&#x7C7B;&#x5F15;&#x7528;&#x4E0D;&#x652F;&#x6301;&#x4E32;&#x884C;&#x5316;&#x7684;&#x95F4;&#x63A5;&#x5BF9;&#x8C61;, &#x6216;&#x8005;&#x5F15;&#x7528;&#x542B;&#x6709;&#x5FAA;&#x73AF;&#x7ED3;&#x6784;&#x7684;&#x65F6;&#x5019;.</li>
<li>&#x5B9E;&#x73B0;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x6BCF;&#x4E2A;&#x6D3E;&#x751F;&#x7C7B;&#x90FD;&#x5FC5;&#x987B;&#x5B9E;&#x73B0; <em><strong>Clone</strong></em> &#x63A5;&#x53E3;.</li>
<li>&#x9003;&#x907F;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x7EA6;&#x675F;.</li>
</ul>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-1">&#x603B;&#x7ED3;</h4>

<p>&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x901A;&#x8FC7; <strong>Object</strong> &#x7684; <em><strong>Clone</strong></em> &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;, &#x7531;&#x4E8E;&#x662F;&#x5185;&#x5B58;&#x64CD;&#x4F5C;, &#x65E0;&#x89C6;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x548C;&#x8BBF;&#x95EE;&#x6743;&#x9650;, &#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x65B0;&#x7684;&#x5BF9;&#x8C61;. &#x4F46;&#x5BF9;&#x4E8E;&#x5F15;&#x7528;&#x7C7B;&#x578B;, &#x9700;&#x4F7F;&#x7528;&#x6DF1;&#x62F7;&#x8D1D;, &#x5176;&#x5B83;&#x6D45;&#x62F7;&#x8D1D;&#x5373;&#x53EF;.</p>
<hr>
<h2 class="mume-header" id="%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F">&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;</h2>

<p>&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F; &#x5173;&#x6CE8;&#x7C7B;&#x548C;&#x5BF9;&#x8C61;&#x7684;&#x7EC4;&#x5408;. &#x7EE7;&#x627F;&#x7684;&#x6982;&#x5FF5;&#x88AB;&#x7528;&#x6765;&#x7EC4;&#x5408;&#x63A5;&#x53E3;&#x548C;&#x5B9A;&#x4E49;&#x7EC4;&#x5408;&#x5BF9;&#x8C61;&#x83B7;&#x5F97;&#x65B0;&#x529F;&#x80FD;&#x7684;&#x65B9;&#x5F0F;. &#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;<strong>7</strong>&#x79CD;:</p>
<ul>
<li><strong>&#x7EC4;&#x5408;&#x6A21;&#x5F0F;</strong> (<em><strong>Composite Pattern</strong></em>)</li>
<li><strong>&#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F;</strong> (<em><strong>Adapter Pattern</strong></em>)</li>
<li><strong>&#x88C5;&#x9970;&#x6A21;&#x5F0F;</strong> (<em><strong>Decorator Pattern</strong></em>)</li>
<li><strong>&#x5916;&#x89C2;&#x6A21;&#x5F0F;</strong> (<em><strong>Facade Pattern</strong></em>)</li>
<li><strong>&#x4EAB;&#x5143;&#x6A21;&#x5F0F;</strong> (<em><strong>Flyweight Pattern</strong></em>)</li>
<li><strong>&#x4EE3;&#x7406;&#x6A21;&#x5F0F;</strong> (<em><strong>Proxy Pattern</strong></em>)</li>
<li><strong>&#x6865;&#x63A5;&#x6A21;&#x5F0F;</strong> (<em><strong>Bridge Pattern</strong></em>)</li>
</ul>
<h3 class="mume-header" id="%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F">&#x7EC4;&#x5408;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-6">&#x7B80;&#x4ECB;</h4>

<p>&#x7EC4;&#x5408;&#x6A21;&#x5F0F;, &#x53C8;&#x53EB; <strong>&#x90E8;&#x5206;&#x6574;&#x4F53;&#x6A21;&#x5F0F;</strong>, &#x662F;&#x7528;&#x4E8E;&#x628A;&#x4E00;&#x7EC4;&#x76F8;&#x4F3C;&#x7684;&#x5BF9;&#x8C61;&#x5F53;&#x4F5C;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x5BF9;&#x8C61;. &#x7EC4;&#x5408;&#x6A21;&#x5F0F;&#x4F9D;&#x636E;&#x6811;&#x5F62;&#x7ED3;&#x6784;&#x6765;&#x7EC4;&#x5408;&#x5BF9;&#x8C61;, &#x7528;&#x6765;&#x8868;&#x793A;&#x90E8;&#x5206;&#x4EE5;&#x53CA;&#x6574;&#x4F53;&#x5C42;&#x6B21;. &#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5C5E;&#x4E8E;&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;, &#x5B83;&#x521B;&#x5EFA;&#x4E86;&#x5BF9;&#x8C61;&#x7EC4;&#x7684;&#x6811;&#x5F62;&#x7ED3;&#x6784;.</p>
<p>&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x81EA;&#x5DF1;&#x5BF9;&#x8C61;&#x7EC4;&#x7684;&#x7C7B;, &#x8BE5;&#x7C7B;&#x63D0;&#x4F9B;&#x4E86;&#x4FEE;&#x6539;&#x76F8;&#x540C;&#x5BF9;&#x8C61;&#x7EC4;&#x7684;&#x65B9;&#x5F0F;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-6">&#x7ED3;&#x6784;</h4>

<p>&#x7EC4;&#x5408;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>Component</strong></li>
<li><strong>Leaf</strong></li>
<li><strong>Composite</strong></li>
<li><strong>Client</strong></li>
</ul>
<h5 class="mume-header" id="component">Component</h5>

<p>&#x7EC4;&#x5408;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x58F0;&#x660E;&#x63A5;&#x53E3;, &#x5728;&#x9002;&#x5F53;&#x60C5;&#x51B5;&#x4E0B;&#x5B9E;&#x73B0;&#x6240;&#x6709;&#x7C7B;&#x5171;&#x6709;&#x7684;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;, <strong>&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x548C;&#x7BA1;&#x7406;Component&#x7684;&#x5B50;&#x7EC4;&#x4EF6;</strong>. &#x5728;&#x9012;&#x5F52;&#x7ED3;&#x6784;&#x4E2D;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;, &#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x7236;&#x90E8;&#x4EF6;, &#x5E76;&#x5728;&#x5408;&#x9002;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5B9E;&#x73B0;&#x5B83;.</p>
<h5 class="mume-header" id="leaf">Leaf</h5>

<p>&#x5728;&#x7EC4;&#x5408;&#x4E2D;&#x8868;&#x793A;&#x53F6;&#x8282;&#x70B9;, &#x53F6;&#x8282;&#x70B9;&#x6CA1;&#x6709;&#x5B50;&#x8282;&#x70B9;, &#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x7684;&#x57FA;&#x672C;&#x884C;&#x4E3A;.</p>
<h5 class="mume-header" id="composite">Composite</h5>

<p>&#x5B9A;&#x4E49;&#x6709;&#x5B50;&#x90E8;&#x4EF6;&#x7684;&#x90A3;&#x4E9B;&#x90E8;&#x4EF6;&#x7684;&#x884C;&#x4E3A;, &#x5B58;&#x50A8;&#x5B50;&#x90E8;&#x4EF6;&#x5E76;&#x5728;Component&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x4E0E;&#x5B50;&#x90E8;&#x4EF6;&#x6709;&#x5173;&#x7684;&#x64CD;&#x4F5C;.</p>
<h5 class="mume-header" id="client">Client</h5>

<p>&#x901A;&#x8FC7;Component&#x63A5;&#x53E3;&#x64CD;&#x4F5C;&#x7EC4;&#x5408;&#x90E8;&#x4EF6;&#x7684;&#x5BF9;&#x8C61;</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-6">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x60F3;&#x8868;&#x793A;&#x5BF9;&#x8C61;&#x7684;&#x90E8;&#x5206;-&#x6574;&#x4F53;&#x5C42;&#x6B21;&#x7ED3;&#x6784;(&#x6811;&#x5F62;&#x7ED3;&#x6784;)</li>
<li>&#x5E0C;&#x671B;&#x7528;&#x6237;&#x5FFD;&#x7565;&#x7EC4;&#x5408;&#x5BF9;&#x8C61;&#x4E0E;&#x5355;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x4E0D;&#x540C;, &#x7528;&#x6237;&#x5C06;&#x7EDF;&#x4E00;&#x5730;&#x4F7F;&#x7528;&#x7EC4;&#x5408;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5BF9;&#x8C61;.</li>
</ul>
<p>&#x6BD4;&#x5982; &#x6811;&#x5F62;&#x83DC;&#x5355;, &#x6587;&#x4EF6;, &#x6587;&#x4EF6;&#x5939;&#x7684;&#x7BA1;&#x7406;</p>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-6">&#x5B9E;&#x4F8B;</h4>

<p>&#x4EE5;&#x4E00;&#x4E2A;&#x5927;&#x578B;&#x516C;&#x53F8;&#x4E3A;&#x9700;&#x6C42;&#x80CC;&#x666F;, &#x7EC4;&#x7EC7;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;. &#x4E00;&#x4E2A;&#x5317;&#x4EAC;&#x603B;&#x516C;&#x53F8;, &#x4E0B;&#x9762;&#x6709;&#x6DF1;&#x5733;&#x548C;&#x4E0A;&#x6D77;&#x4E24;&#x4E2A;&#x5206;&#x516C;&#x53F8;, &#x7136;&#x540E;&#x6BCF;&#x4E2A;&#x516C;&#x53F8;&#x4E0D;&#x7BA1;&#x662F;&#x603B;&#x516C;&#x53F8;&#x8FD8;&#x662F;&#x5206;&#x516C;&#x53F8;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x4EBA;&#x529B;&#x8D44;&#x6E90;&#x90E8;, IT&#x90E8;&#x548C;&#x5E02;&#x573A;&#x90E8;.<br>
<strong>Component&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Component.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _COMPONENT_H_
#define _COMPONENT_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class Component {

public:

  Component(string name);
  virtual ~Component();

  virtual void add(Component* com, int depth = 0) = 0;
  virtual void remove(Component* com) = 0;
  virtual void display() = 0;
  virtual void LineOfDuty() = 0;

  string name();
  void setDepth(int depth);
  int depth();

private:

  string m_Name;
  int m_Depth;

};


class ConcreteCompany: public Component {

public:

  ConcreteCompany(string name);
  virtual ~ConcreteCompany();

  virtual void add(Component* com, int depth = 0);
  virtual void remove(Component* com);
  virtual void display();
  virtual void LineOfDuty();

private:

  list&lt;Component*&gt; m_ChildCom;

};

class HumanResoure: public Component {

public:

  HumanResoure(string name);
  virtual ~HumanResoure();

  virtual void add(Component* com, int depth = 0);
  virtual void remove(Component* com);
  virtual void display();
  virtual void LineOfDuty();

};

class IT: public Component {

public:

  IT(string name);
  virtual ~IT();

  virtual void add(Component* com, int depth = 0);
  virtual void remove(Component* com);
  virtual void display();
  virtual void LineOfDuty();

};

class Marketing: public Component {

public:

  Marketing(string name);
  virtual ~Marketing();

  virtual void add(Component* com, int depth = 0);
  virtual void remove(Component* com);
  virtual void display();
  virtual void LineOfDuty();

};

#endif  
</code></pre><p><strong>Component&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Component.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Component.h&quot;

Component::Component(string name) 
         : m_Name(name) {

}

Component::~Component() {

}

string Component::name() {

    return m_Name;

}

void Component::setDepth(int depth) {

    m_Depth = depth;

}

int Component::depth() {

    return m_Depth;

}

ConcreteCompany::ConcreteCompany(string name)
               : Component(name) {

}

ConcreteCompany::~ConcreteCompany() {

    for (auto &amp;com : m_ChildCom) {

        if (com != nullptr) {
            com = nullptr;
        }

    }

    m_ChildCom.clear();

}

void ConcreteCompany::add(Component* com, int depth) {

    com-&gt;setDepth(depth);
    m_ChildCom.push_back(com);

}

void ConcreteCompany::remove(Component* com) {

    m_ChildCom.remove(com);

}

void ConcreteCompany::display() {

    string str;

    for (int n = 0; n &lt; depth(); n++) {

        str += &quot;--&quot;;

    }

    cout &lt;&lt; str &lt;&lt; &quot; &quot; &lt;&lt; name() &lt;&lt; endl;

    for (auto &amp;com : m_ChildCom) {

        com-&gt;display();

    }

}

void ConcreteCompany::LineOfDuty() {

}

HumanResoure::HumanResoure(string name)
            : Component(name) {

}

HumanResoure::~HumanResoure() {

}

void HumanResoure::add(Component* com, int depth) {

    com-&gt;setDepth(depth);

}

void HumanResoure::remove(Component* com) {

}

void HumanResoure::display() {

    string str;

    for (int n = 0; n &lt; depth(); n++) {

        str += &quot;--&quot;;

    }

    cout &lt;&lt; str &lt;&lt; &quot; &quot; &lt;&lt; name() &lt;&lt; endl;

}

void HumanResoure::LineOfDuty() {

    cout &lt;&lt; &quot;&#x4EBA;&#x529B;&#x8D44;&#x6E90;&#x90E8;, &#x8D1F;&#x8D23;&#x62DB;&#x8058;&quot; &lt;&lt; endl;

}

IT::IT(string name)
  : Component(name) {

}

IT::~IT() {

}

void IT::add(Component* com, int depth) {

    com-&gt;setDepth(depth);

}

void IT::remove(Component* com) {

}

void IT::display() {

    string str;

    for (int n = 0; n &lt; depth(); n++) {

        str += &quot;--&quot;;

    }

    cout &lt;&lt; str &lt;&lt; &quot; &quot; &lt;&lt; name() &lt;&lt; endl;

}

void IT::LineOfDuty() {

    cout &lt;&lt; &quot;IT&#x90E8;&#x95E8;, &#x8D1F;&#x8D23;&#x5199;&#x4EE3;&#x7801;&quot; &lt;&lt; endl;

}

Marketing::Marketing(string name)
         : Component(name) {

}

Marketing::~Marketing() {

}

void Marketing::add(Component* com, int depth) {

    com-&gt;setDepth(depth);

}

void Marketing::remove(Component* com) {

}

void Marketing::display() {

    string str;

    for (int n = 0; n &lt; depth(); n++) {

        str += &quot;--&quot;;

    }

    cout &lt;&lt; str &lt;&lt; &quot; &quot; &lt;&lt; name() &lt;&lt; endl;

}

void Marketing::LineOfDuty() {

    cout &lt;&lt; &quot;&#x5E02;&#x573A;&#x90E8;&#x95E8;, &#x8D1F;&#x8D23;&#x62DB;&#x8058;&quot; &lt;&lt; endl;

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Component.h&quot;

int main() {

    Component* root = new ConcreteCompany(&quot;&#x5317;&#x4EAC;&#x603B;&#x90E8;&quot;);
    root-&gt;setDepth(0);
    root-&gt;add(new HumanResoure(&quot;&#x4EBA;&#x529B;&#x8D44;&#x6E90;&#x90E8;&#x95E8;&quot;), 1);
    root-&gt;add(new IT(&quot;IT&#x90E8;&#x95E8;&quot;), 1);
    root-&gt;add(new Marketing(&quot;&#x5E02;&#x573A;&#x90E8;&#x95E8;&quot;), 1);

    Component* sz = new ConcreteCompany(&quot;&#x6DF1;&#x5733;&#x5B50;&#x516C;&#x53F8;&quot;);
    sz-&gt;add(new HumanResoure(&quot;&#x4EBA;&#x529B;&#x8D44;&#x6E90;&#x90E8;&#x95E8;&quot;), 2);
    sz-&gt;add(new IT(&quot;IT&#x90E8;&#x95E8;&quot;), 2);
    sz-&gt;add(new Marketing(&quot;&#x5E02;&#x573A;&#x90E8;&#x95E8;&quot;), 2);
    root-&gt;add(sz, 1);

    Component* sh = new ConcreteCompany(&quot;&#x4E0A;&#x6D77;&#x5B50;&#x516C;&#x53F8;&quot;);
    sh-&gt;add(new HumanResoure(&quot;&#x4EBA;&#x529B;&#x8D44;&#x6E90;&#x90E8;&#x95E8;&quot;), 2);
    sh-&gt;add(new IT(&quot;IT&#x90E8;&#x95E8;&quot;), 2);
    sh-&gt;add(new Marketing(&quot;&#x5E02;&#x573A;&#x90E8;&#x95E8;&quot;), 2);
    root-&gt;add(sh, 1);

    root-&gt;display();

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-6">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-6">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x4F7F;&#x5BA2;&#x6237;&#x7AEF;&#x8C03;&#x7528;&#x7B80;&#x5355;, &#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x4E00;&#x81F4;&#x7684;&#x4F7F;&#x7528;&#x7EC4;&#x5408;&#x7ED3;&#x6784;&#x6216;&#x5176;&#x4E2D;&#x5355;&#x4E2A;&#x5BF9;&#x8C61;, &#x7528;&#x6237;&#x5C31;&#x4E0D;&#x5FC5;&#x5173;&#x7CFB;&#x81EA;&#x5DF1;&#x5904;&#x7406;&#x7684;&#x662F;&#x5355;&#x4E2A;&#x5BF9;&#x8C61;&#x8FD8;&#x662F;&#x6574;&#x4E2A;&#x7EC4;&#x5408;&#x7ED3;&#x6784;, &#x8FD9;&#x5C31;&#x7B80;&#x5316;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x4EE3;&#x7801;.</li>
<li>&#x66F4;&#x5BB9;&#x6613;&#x5728;&#x7EC4;&#x5408;&#x4F53;&#x5185;&#x52A0;&#x5165;&#x5BF9;&#x8C61;&#x90E8;&#x4EF6;, &#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x5FC5;&#x56E0;&#x4E3A;&#x52A0;&#x5165;&#x4E86;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x90E8;&#x4EF6;&#x800C;&#x66F4;&#x6539;&#x4EE3;&#x7801;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-6">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x5728;&#x4F7F;&#x7528;&#x7EC4;&#x5408;&#x6A21;&#x5F0F;&#x65F6;, &#x5176;&#x53F6;&#x5B50;&#x548C;&#x6811;&#x679D;&#x7684;&#x58F0;&#x660E;&#x90FD;&#x662F;&#x5B9E;&#x73B0;&#x7C7B;, &#x800C;&#x4E0D;&#x662F;&#x63A5;&#x53E3;, &#x8FDD;&#x53CD;&#x4E86;&#x4F9D;&#x8D56;&#x5012;&#x7F6E;&#x539F;&#x5219;.</li>
</ul>
<hr>
<h3 class="mume-header" id="%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F">&#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-7">&#x7B80;&#x4ECB;</h4>

<p>&#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F; &#x662F;&#x4F5C;&#x4E3A;&#x4E24;&#x4E2A;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x63A5;&#x53E3;&#x4E4B;&#x95F4;&#x7684;&#x6865;&#x6881;. &#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5C5E;&#x4E8E;&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;, &#x5B83;&#x7ED3;&#x5408;&#x4E86;&#x4E24;&#x4E2A;&#x72EC;&#x7ACB;&#x63A5;&#x53E3;&#x7684;&#x529F;&#x80FD;. &#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x6D89;&#x53CA;&#x5230;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x7C7B;, &#x8BE5;&#x7C7B;&#x8D1F;&#x8D23;&#x52A0;&#x5165;&#x72EC;&#x7ACB;&#x7684;&#x6216;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x63A5;&#x53E3;&#x529F;&#x80FD;. &#x6BD4;&#x5982; &#x8BFB;&#x5361;&#x5668;&#x662F;&#x4F5C;&#x4E3A;&#x5185;&#x5B58;&#x5361;&#x548C;&#x7B14;&#x8BB0;&#x672C;&#x4E4B;&#x95F4;&#x7684;&#x9002;&#x914D;&#x5668;, &#x5C06;&#x5185;&#x5B58;&#x5361;&#x63D2;&#x5165;&#x8BFB;&#x5361;&#x5668;, &#x518D;&#x5C06;&#x8BFB;&#x5361;&#x5668;&#x63D2;&#x5165;&#x7B14;&#x8BB0;&#x672C;, &#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7B14;&#x8BB0;&#x672C;&#x6765;&#x8BFB;&#x53D6;&#x5185;&#x5B58;&#x5361;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-7">&#x7ED3;&#x6784;</h4>

<p>&#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x521D;&#x59CB;&#x89D2;&#x8272;(Adaptee)</strong></li>
<li><strong>&#x76EE;&#x6807;&#x89D2;&#x8272;(Target)</strong></li>
<li><strong>&#x9002;&#x914D;&#x5668;&#x89D2;&#x8272;(Adapter)</strong></li>
</ul>
<h5 class="mume-header" id="%E5%88%9D%E5%A7%8B%E8%A7%92%E8%89%B2">&#x521D;&#x59CB;&#x89D2;&#x8272;</h5>

<p>&#x5B9E;&#x73B0;&#x4E86;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x529F;&#x80FD;, &#x4F46;&#x662F;&#x63A5;&#x53E3;&#x4E0D;&#x5339;&#x914D;</p>
<h5 class="mume-header" id="%E7%9B%AE%E6%A0%87%E8%A7%92%E8%89%B2">&#x76EE;&#x6807;&#x89D2;&#x8272;</h5>

<p>&#x5B9A;&#x4E49;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x671F;&#x671B;&#x7684;&#x63A5;&#x53E3;</p>
<h5 class="mume-header" id="%E9%80%82%E9%85%8D%E5%99%A8%E8%A7%92%E8%89%B2">&#x9002;&#x914D;&#x5668;&#x89D2;&#x8272;</h5>

<p>&#x5B9E;&#x73B0;&#x4E86;&#x76EE;&#x6807;&#x63A5;&#x53E3;, &#x5B9E;&#x73B0;&#x76EE;&#x6807;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x662F;: **&#x5185;&#x90E8;&#x5305;&#x542B;&#x4E00;&#x4E2A;Adaptee&#x7684;&#x5BF9;&#x8C61;, &#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x8C03;&#x7528;Adaptee&#x7684;&#x539F;&#x6709;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x76EE;&#x6807;&#x63A5;&#x53E3;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-7">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x590D;&#x7528;&#x73B0;&#x6709;&#x7C7B;, &#x800C;&#x8BE5;&#x7C7B;&#x7684;&#x63A5;&#x53E3;&#x4E0D;&#x7B26;&#x5408;&#x7CFB;&#x7EDF;&#x7684;&#x9700;&#x6C42;.</li>
<li>&#x60F3;&#x8981;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x53EF;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x7684;&#x7C7B;, &#x7528;&#x4E8E;&#x4E0E;&#x4E00;&#x4E9B;&#x5F7C;&#x6B64;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x592A;&#x5927;&#x5173;&#x8054;&#x7684;&#x4E00;&#x4E9B;&#x7C7B;, &#x5305;&#x62EC;&#x4E00;&#x4E9B;&#x53EF;&#x80FD;&#x5728;&#x5C06;&#x6765;&#x5F15;&#x8FDB;&#x7684;&#x7C7B;&#x4E00;&#x8D77;&#x5DE5;&#x4F5C;.</li>
<li>&#x5BF9;&#x4E8E;&#x5BF9;&#x8C61;&#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F;, &#x5728;&#x8BBE;&#x8BA1;&#x91CC;&#x9700;&#x8981;&#x6539;&#x53D8;&#x591A;&#x4E2A;&#x5DF2;&#x6709;&#x5B50;&#x7C7B;&#x7684;&#x63A5;&#x53E3;, &#x5982;&#x679C;&#x4F7F;&#x7528;&#x7C7B;&#x7684;&#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F;, &#x5C31;&#x8981;&#x9488;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x5B50;&#x7C7B;&#x505A;&#x4E00;&#x4E2A;&#x9002;&#x914D;&#x5668;, &#x800C;&#x8FD9;&#x4E0D;&#x592A;&#x5B9E;&#x9645;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-7">&#x5B9E;&#x4F8B;</h4>

<p><strong>&#x521D;&#x59CB;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Adaptee.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ADAPTEE_H_  
#define _ADAPTEE_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class Adaptee {

public:

  Adaptee();
  void SpecialRequest();

};

#endif  
</code></pre><p><strong>&#x521D;&#x59CB;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Adaptee.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Adaptee.h&quot;

Adaptee::Adaptee() {

}

void Adaptee::SpecialRequest() {

  cout &lt;&lt; __FUNCTION__ &lt;&lt; endl;

}  
</code></pre><p><strong>&#x9002;&#x914D;&#x5668;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Adapter.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ADAPTER_H_
#define _ADAPTER_H_

#include &lt;bits/stdc++.h&gt;
#include &quot;Adaptee.h&quot;
using namespace std;

class Target {

public:

  Target();
  virtual ~Target();

  virtual void Request();

};

class Target1: public Target {

public:

  Target1();
  virtual ~Target1() override;
  virtual void Request() override;

};

class Adapter: public Target {

public:

  Adapter(Adaptee* adaptee);
  ~Adapter();

  void Request();
  Adaptee* m_Adaptee;

};

#endif
</code></pre><p><strong>&#x9002;&#x914D;&#x5668;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Adapter.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Adapter.h&quot;

Adapter::Adapter(Adaptee* adaptee) {

    m_Adaptee = adaptee;

}

Adapter::~Adapter() {

  if (m_Adaptee != nullptr) {
      delete m_Adaptee;
      m_Adaptee = nullptr;
  }

}

void Adapter::Request() {

    m_Adaptee-&gt;SpecialRequest();

}

void Target::Request() {

}

void Target1::Request() {

    cout &lt;&lt; &quot;&#x666E;&#x901A;&#x8BF7;&#x6C42;&quot; &lt;&lt;endl;

}

Target::Target() {

}

Target::~Target() {
    
}

Target1::Target1() {

}

Target1::~Target1() {

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Adapter.h&quot;

int main() {

    Target* target = new Target1();
    target-&gt;Request();

    Adaptee* adaptee = new Adaptee();
    Target* target1 = new Adapter(adaptee);
    target1-&gt;Request();

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-7">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-7">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x53EF;&#x4EE5;&#x8BA9;&#x4EFB;&#x4F55;&#x4E24;&#x4E2A;&#x6CA1;&#x6709;&#x5173;&#x8054;&#x7684;&#x7C7B;&#x4E00;&#x8D77;&#x8FD0;&#x884C;.</li>
<li>&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x4FEE;&#x6539;&#x539F;&#x6709;&#x4EE3;&#x7801;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x6765;&#x590D;&#x7528;&#x73B0;&#x6709;&#x7C7B;, &#x5F88;&#x597D;&#x5730;&#x7B26;&#x5408;&quot;&#x5F00;&#x95ED;&#x539F;&#x5219;&quot;.</li>
<li>&#x589E;&#x52A0;&#x4E86;&#x7C7B;&#x7684;&#x900F;&#x660E;&#x5EA6;&#x548C;&#x66F4;&#x597D;&#x7684;&#x7075;&#x6D3B;&#x6027;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-7">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x91C7;&#x7528;&#x4E86;&#x7C7B;&#x548C;&#x63A5;&#x53E3;&#x7684;&#x201C;&#x53CC;&#x7EE7;&#x627F;&#x201D;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;, &#x5E26;&#x6765;&#x4E86;&#x4E0D;&#x826F;&#x7684;&#x9AD8;&#x8026;&#x5408;.</li>
</ul>
<hr>
<h3 class="mume-header" id="%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F">&#x88C5;&#x9970;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-8">&#x7B80;&#x4ECB;</h4>

<p>&#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F;, &#x53C8;&#x540D;<strong>&#x5305;&#x88C5;&#x6A21;&#x5F0F;(Wrapper)</strong>, &#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F;&#x4EE5;&#x5BF9;&#x5BA2;&#x6237;&#x7AEF;&#x900F;&#x660E;&#x7684;&#x65B9;&#x5F0F;&#x62D3;&#x5C55;&#x5BF9;&#x8C61;&#x7684;&#x529F;&#x80FD;, &#x662F;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#x7684;&#x4E00;&#x79CD;&#x66FF;&#x4EE3;&#x65B9;&#x6848;. &#x5141;&#x8BB8;&#x5411;&#x4E00;&#x4E2A;&#x73B0;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x529F;&#x80FD;, &#x540C;&#x65F6;&#x53C8;&#x4E0D;&#x6539;&#x53D8;&#x5176;&#x7ED3;&#x6784;. &#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5C5E;&#x4E8E;&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;, &#x5B83;&#x662F;&#x4F5C;&#x4E3A;&#x73B0;&#x6709;&#x7684;&#x7C7B;&#x7684;&#x4E00;&#x4E2A;&#x5305;&#x88C5;. &#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x88C5;&#x9970;&#x7C7B;, &#x7528;&#x6765;&#x5305;&#x88C5;&#x539F;&#x6709;&#x7684;&#x7C7B;, &#x5E76;&#x5728;&#x4FDD;&#x6301;&#x7C7B;&#x65B9;&#x6CD5;&#x7B7E;&#x540D;&#x5B8C;&#x6574;&#x6027;&#x7684;&#x524D;&#x63D0;&#x4E0B;, &#x63D0;&#x4F9B;&#x4E86;&#x989D;&#x5916;&#x7684;&#x529F;&#x80FD;. &#x88C5;&#x9970;&#x6A21;&#x5F0F;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x76F4;&#x63D0;&#x5021;&#x7684;<strong>&#x7EC4;&#x5408;&#x4EE3;&#x66FF;&#x7EE7;&#x627F;</strong>&#x7684;&#x5B9E;&#x8DF5;&#x65B9;&#x5F0F;, &#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x7279;&#x6027;&#x6709;&#x7EE7;&#x627F;&#x4E0E;&#x5C01;&#x88C5;, &#x4F46;&#x4E24;&#x8005;&#x5374;&#x53C8;&#x6709;&#x4E00;&#x70B9;&#x77DB;&#x76FE;, &#x7EE7;&#x627F;&#x610F;&#x5473;&#x5B50;&#x7C7B;&#x4F9D;&#x8D56;&#x4E86;&#x7236;&#x7C7B;&#x4E2D;&#x7684;&#x5B9E;&#x73B0;, &#x4E00;&#x65E6;&#x7236;&#x7C7B;&#x4E2D;&#x6539;&#x53D8;&#x5B9E;&#x73B0;&#x5219;&#x4F1A;&#x5BF9;&#x5B50;&#x7C7B;&#x9020;&#x6210;&#x5F71;&#x54CD;, &#x8FD9;&#x662F;&#x6253;&#x7834;&#x4E86;&#x5C01;&#x88C5;&#x6027;&#x7684;&#x4E00;&#x79CD;&#x8868;&#x73B0;, &#x800C;&#x7EC4;&#x5408;&#x5C31;&#x662F;&#x5DE7;&#x7528;&#x5C01;&#x88C5;&#x6027;&#x6765;&#x5B9E;&#x73B0;&#x7EE7;&#x627F;&#x529F;&#x80FD;&#x7684;&#x4EE3;&#x7801;&#x590D;&#x7528;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-8">&#x7ED3;&#x6784;</h4>

<p>&#x88C5;&#x9970;&#x6A21;&#x5F0F; &#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x4E3B;&#x8981;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x6784;&#x4EF6;&#x89D2;&#x8272;(Component)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x6784;&#x4EF6;&#x89D2;&#x8272;(Concrete Component)</strong></li>
<li><strong>&#x62BD;&#x8C61;&#x88C5;&#x9970;&#x89D2;&#x8272;(Decorator)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x88C5;&#x9970;&#x89D2;&#x8272;(Concrete Decorator)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E6%9E%84%E4%BB%B6%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x6784;&#x4EF6;&#x89D2;&#x8272;</h5>

<p>&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x63A5;&#x53E3;, &#x5DF2;&#x89C4;&#x8303;&#x51C6;&#x5907;&#x63A5;&#x6536;&#x9644;&#x52A0;&#x8D23;&#x4EFB;&#x7684;&#x5BF9;&#x8C61;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E6%9E%84%E4%BB%B6%E8%A7%92%E8%89%B2">&#x5177;&#x4F53;&#x6784;&#x4EF6;&#x89D2;&#x8272;</h5>

<p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5C06;&#x8981;&#x63A5;&#x6536;&#x9644;&#x52A0;&#x8D23;&#x4EFB;&#x7684;&#x7C7B;</p>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E8%A3%85%E9%A5%B0%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x88C5;&#x9970;&#x89D2;&#x8272;</h5>

<p>&#x6301;&#x6709;&#x4E00;&#x4E2A;&#x6784;&#x4EF6;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;, &#x5E76;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x4E0E;&#x62BD;&#x8C61;&#x6784;&#x4EF6;&#x63A5;&#x53E3;&#x4E00;&#x81F4;&#x7684;&#x63A5;&#x53E3;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E8%A3%85%E9%A5%B0%E8%A7%92%E8%89%B2">&#x5177;&#x4F53;&#x88C5;&#x9970;&#x89D2;&#x8272;</h5>

<p>&#x8D1F;&#x8D23;&#x7ED9;&#x6784;&#x4EF6;&#x5BF9;&#x8C61; &quot;&#x8D34;&#x4E0A;&quot; &#x9644;&#x52A0;&#x7684;&#x8D23;&#x4EFB;</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-8">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x9700;&#x8981;&#x6269;&#x5C55;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x529F;&#x80FD;&#x6216;&#x7ED9;&#x4E00;&#x4E2A;&#x7C7B;&#x589E;&#x52A0;&#x9644;&#x52A0;&#x8D23;&#x4EFB;.</li>
<li>&#x9700;&#x8981;&#x52A8;&#x6001;&#x5730;&#x7ED9;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x589E;&#x52A0;&#x529F;&#x80FD;, &#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x518D;&#x52A8;&#x6001;&#x5730;&#x64A4;&#x9500;.</li>
<li>&#x9700;&#x8981;&#x589E;&#x52A0;&#x7531;&#x4E00;&#x4E9B;&#x57FA;&#x672C;&#x529F;&#x80FD;&#x7684;&#x6392;&#x5217;&#x7EC4;&#x5408;&#x800C;&#x4EA7;&#x751F;&#x7684;&#x975E;&#x5E38;&#x5927;&#x91CF;&#x7684;&#x529F;&#x80FD;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-8">&#x5B9E;&#x4F8B;</h4>

<p>&#x4EE5;&#x738B;&#x8005;&#x8363;&#x8000;&#x7684;&#x661F;&#x5143;&#x76AE;&#x80A4;&#x4E3A;&#x4F8B;, &#x5728;&#x76AE;&#x80A4;&#x6A21;&#x5757;&#x91CC;&#x9762;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x82F1;&#x96C4;&#x7684;&#x76AE;&#x80A4;&#x7EC4;&#x5408;&#x65B9;&#x5F0F;, &#x4ECE;&#x800C;&#x88C5;&#x9970;&#x51FA;&#x6765;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684;&#x7684;&#x88C5;&#x626E;.<br>
<strong>&#x62BD;&#x8C61;&#x6784;&#x4EF6;&#x89D2;&#x8272;/&#x5177;&#x4F53;&#x6784;&#x4EF6;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>DecoratorSkin.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _HERO_H_
#define _HERO_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class Hero {

public:

  Hero() {}
  virtual ~Hero() {}

  //&#x9020;&#x578B;
  virtual void Modeling() = 0;

};

class Xiangxiang: public Hero {

public:

  Xiangxiang();
  virtual ~Xiangxiang() override;
  virtual void Modeling() override;

};

#endif
</code></pre><p><strong>&#x5177;&#x4F53;&#x6784;&#x4EF6;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Hero.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Hero.h&quot;

Xiangxiang::Xiangxiang() {

  cout &lt;&lt; &quot;&#x5927;&#x5C0F;&#x59D0;&#x9A7E;&#x5230;&#xFF0C;&#x901A;&#x901A;&#x95EA;&#x5F00;~&quot; &lt;&lt; endl;

}

Xiangxiang::~Xiangxiang() {

}

void Xiangxiang::Modeling() {

  cout &lt;&lt; &quot;&#x9ED8;&#x8BA4;&#x7ECF;&#x5178;&#x76AE;&#x80A4;&quot; &lt;&lt; endl;

}  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x88C5;&#x9970;&#x89D2;&#x8272;/&#x5177;&#x4F53;&#x88C5;&#x9970;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Adapter.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _DECORATORSKIN_H_  
#define _DECORATORSKIN_H_

#include &quot;Hero.h&quot;

class DecoratorSkin: public Hero {

public:

  DecoratorSkin(Hero* hero = nullptr);
  virtual ~DecoratorSkin() override;
  virtual void Modeling() override;

  virtual void UpdateModeling();
  void SetHero(Hero* hero);

protected:

  Hero* m_Hero;

};

class DecoratorGuns: public DecoratorSkin {

public:

  DecoratorGuns(Hero* hero = nullptr);
  virtual ~DecoratorGuns() override;
  virtual void Modeling() override;

  void UpdateGuns1();
  void UpdateGuns2();

};

class DecoratorHairstyle: public DecoratorSkin {

public:

  DecoratorHairstyle(Hero* hero = nullptr);
  virtual ~DecoratorHairstyle() override;
  virtual void Modeling() override;

  void UpdateHairstyle1();
  void UpdateHairstyle2();

};

class DecoratorWindbreaker: public DecoratorSkin {

public:

  DecoratorWindbreaker(Hero* hero = nullptr);
  virtual ~DecoratorWindbreaker() override;
  virtual void Modeling() override;

  void UpdateWindbreaker1();
  void UpdateWindbreaker2();

};

class DecoratorLongBoots: public DecoratorSkin {

public:

  DecoratorLongBoots(Hero* hero = nullptr);
  virtual ~DecoratorLongBoots() override;
  virtual void Modeling() override;

  void UpdateLongBoots1();
  void UpdateLongBoots2();

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x88C5;&#x9970;&#x89D2;&#x8272;/&#x5177;&#x4F53;&#x88C5;&#x9970;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>DecoratorSkin.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;DecoratorSkin.h&quot;

DecoratorSkin::DecoratorSkin(Hero* hero)
             : m_Hero(hero) {

}

DecoratorSkin::~DecoratorSkin() {

}

void DecoratorSkin::Modeling() {

  if (m_Hero) {
      m_Hero-&gt;Modeling();
  }

}

void DecoratorSkin::UpdateModeling() {

}

void DecoratorSkin::SetHero(Hero* hero) {

  if (m_Hero == hero) {
      return;
  }

  m_Hero = hero;

}

DecoratorGuns::DecoratorGuns(Hero* hero) 
             : DecoratorSkin(hero) {

}

DecoratorGuns::~DecoratorGuns() {

}

void DecoratorGuns::Modeling() {

  m_Hero-&gt;Modeling();
  UpdateGuns1();

}

void DecoratorGuns::UpdateGuns1() {

  cout &lt;&lt; &quot;&#x6362;&#x4E0A;&#x4E86;&#x5927;&#x70AE;1, &#x66F4;&#x9177;&#x4E86;&quot; &lt;&lt; endl;

}

void DecoratorGuns::UpdateGuns2() {

  cout &lt;&lt; &quot;&#x6362;&#x4E0A;&#x4E86;&#x5927;&#x70AE;2, &#x66F4;&#x9177;&#x4E86;&quot; &lt;&lt; endl;

}

DecoratorWindbreaker::DecoratorWindbreaker(Hero* hero) {

}

DecoratorWindbreaker::~DecoratorWindbreaker() {

}

void DecoratorWindbreaker::Modeling() {

  m_Hero-&gt;Modeling();
  UpdateWindbreaker1();

}

void DecoratorWindbreaker::UpdateWindbreaker1() {

  cout &lt;&lt; &quot;&#x6362;&#x4E0A;&#x4E86;&#x98CE;&#x8863;1, &#x66F4;&#x62C9;&#x98CE;&#x4E86;&quot; &lt;&lt; endl;

}

void DecoratorWindbreaker::UpdateWindbreaker2() {

  cout &lt;&lt; &quot;&#x6362;&#x4E0A;&#x4E86;&#x98CE;&#x8863;2, &#x66F4;&#x62C9;&#x98CE;&#x4E86;&quot; &lt;&lt; endl;

}

DecoratorLongBoots::DecoratorLongBoots(Hero* hero) {

}

DecoratorLongBoots::~DecoratorLongBoots() {

}

void DecoratorLongBoots::Modeling() {

  m_Hero-&gt;Modeling();
  UpdateLongBoots1();

}

void DecoratorLongBoots::UpdateLongBoots1() {

  cout &lt;&lt; &quot;&#x6362;&#x4E86;&#x957F;&#x7B52;&#x9774;1, &#x66F4;&#x9AD8;&#x4E86;&quot; &lt;&lt; endl;

}

void DecoratorLongBoots::UpdateLongBoots2() {

  cout &lt;&lt; &quot;&#x6362;&#x4E86;&#x957F;&#x7B52;&#x9774;2, &#x66F4;&#x9AD8;&#x4E86;&quot; &lt;&lt; endl;

}

DecoratorHairstyle::DecoratorHairstyle(Hero* hero) {

}

DecoratorHairstyle::~DecoratorHairstyle() {

}

void DecoratorHairstyle::Modeling() {

  m_Hero-&gt;Modeling();
  UpdateHairstyle1();

}

void DecoratorHairstyle::UpdateHairstyle1() {

  cout &lt;&lt; &quot;&#x6362;&#x4E86;&#x53D1;&#x578B;1, &#x66F4;&#x597D;&#x770B;&#x4E86;&quot; &lt;&lt; endl;

}

void DecoratorHairstyle::UpdateHairstyle2() {

  cout &lt;&lt; &quot;&#x6362;&#x4E86;&#x53D1;&#x578B;2, &#x66F4;&#x597D;&#x770B;&#x4E86;&quot; &lt;&lt; endl;

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Hero.h&quot;
#include &quot;DecoratorSkin.h&quot;

int main() {

  Hero* xiangxiang = new Xiangxiang();

  DecoratorSkin* dec1 = new DecoratorHairstyle();
  DecoratorSkin* dec2 = new DecoratorGuns();
  DecoratorSkin* dec3 = new DecoratorWindbreaker();
  DecoratorSkin* dec4 = new DecoratorLongBoots();

  dec1-&gt;SetHero(xiangxiang);
  dec2-&gt;SetHero(dec1);
  dec3-&gt;SetHero(dec2);
  dec4-&gt;SetHero(dec3);

  dec4-&gt;Modeling();

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-8">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-8">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x88C5;&#x9970;&#x8FD9;&#x6A21;&#x5F0F;&#x548C;&#x7EE7;&#x627F;&#x7684;&#x76EE;&#x7684;&#x90FD;&#x662F;&#x6269;&#x5C55;&#x5BF9;&#x8C61;&#x7684;&#x529F;&#x80FD;, &#x4F46;&#x88C5;&#x9970;&#x8005;&#x6A21;&#x5F0F;&#x6BD4;&#x7EE7;&#x627F;&#x66F4;&#x7075;&#x6D3B;.</li>
<li>&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x5177;&#x4F53;&#x88C5;&#x9970;&#x7C7B;&#x4EE5;&#x53CA;&#x8FD9;&#x4E9B;&#x7C7B;&#x7684;&#x6392;&#x5217;&#x7EC4;&#x5408;, &#x8BBE;&#x8BA1;&#x5E08;&#x53EF;&#x4EE5;&#x521B;&#x9020;&#x51FA;&#x5F88;&#x591A;&#x4E0D;&#x540C;&#x884C;&#x4E3A;&#x7684;&#x7EC4;&#x5408;.</li>
<li>&#x88C5;&#x9970;&#x8005;&#x6A21;&#x5F0F;&#x6709;&#x5F88;&#x597D;&#x5730;&#x53EF;&#x6269;&#x5C55;&#x6027;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-8">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x88C5;&#x9970;&#x8005;&#x6A21;&#x5F0F;&#x4F1A;&#x5BFC;&#x81F4;&#x8BBE;&#x8BA1;&#x4E2D;&#x51FA;&#x73B0;&#x8BB8;&#x591A;&#x5C0F;&#x5BF9;&#x8C61;, &#x5982;&#x679C;&#x8FC7;&#x5EA6;&#x4F7F;&#x7528;, &#x4F1A;&#x8BA9;&#x7A0B;&#x5E8F;&#x53D8;&#x7684;&#x66F4;&#x590D;&#x6742;. &#x5E76;&#x4E14;&#x66F4;&#x591A;&#x7684;&#x5BF9;&#x8C61;&#x4F1A;&#x662F;&#x7684;&#x5DEE;&#x9519;&#x53D8;&#x5F97;&#x56F0;&#x96BE;, &#x7279;&#x522B;&#x662F;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x770B;&#x4E0A;&#x53BB;&#x90FD;&#x5F88;&#x50CF;.</li>
</ul>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-2">&#x603B;&#x7ED3;</h4>

<p>&#x88C5;&#x9970;&#x8005;&#x6A21;&#x5F0F;&#x672C;&#x8D28;&#x4E0A;&#x6765;&#x8BF4;&#x662F;AOP&#x601D;&#x60F3;&#x7684;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;, &#x5176;&#x6301;&#x6709;&#x88AB;&#x88C5;&#x9970;&#x8005;, &#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x88AB;&#x88C5;&#x9970;&#x8005;&#x7684;&#x884C;&#x4E3A;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x4E86;AOP&#x7684;&#x6548;&#x679C;.<br>
<strong>&#x8981;&#x70B9;:</strong></p>
<ul>
<li>&#x7EE7;&#x627F;&#x5C5E;&#x4E8E;&#x6269;&#x5C55;&#x5F62;&#x5F0F;&#x4E00;&#x79CD;, &#x4F46;&#x4E0D;&#x89C1;&#x7684;&#x662F;&#x8FBE;&#x5230;&#x5F39;&#x6027;&#x8BBE;&#x8BA1;&#x7684;&#x6700;&#x4F73;&#x65B9;&#x5F0F;, &#x7EC4;&#x5408;&#x4F18;&#x4E8E;&#x7EE7;&#x627F;.</li>
<li>&#x5E94;&#x8BE5;&#x5141;&#x8BB8;&#x884C;&#x4E3A;&#x53EF;&#x4EE5;&#x88AB;&#x62D3;&#x5C55;, &#x800C;&#x65E0;&#x9700;&#x4FEE;&#x6539;&#x73B0;&#x6709;&#x7684;&#x4EE3;&#x7801;.</li>
<li>&#x88C5;&#x9970;&#x8005;&#x6A21;&#x5F0F;&#x610F;&#x5473;&#x7740;&#x4E00;&#x7FA4;&#x88C5;&#x9970;&#x8005;&#x7C7B;, &#x8FD9;&#x4E9B;&#x7C7B;&#x7528;&#x6765;&#x5305;&#x88C5;&#x5177;&#x4F53;&#x7EC4;&#x4EF6;.</li>
<li>&#x88C5;&#x9970;&#x8005;&#x7C7B;&#x53CD;&#x6620;&#x51FA;&#x88AB;&#x88C5;&#x9970;&#x7EC4;&#x4EF6;&#x7C7B;&#x578B;.</li>
<li>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65E0;&#x6570;&#x4E2A;&#x88C5;&#x9970;&#x8005;&#x5305;&#x88C5;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;.</li>
<li>&#x88C5;&#x9970;&#x8005;&#x4F1A;&#x5BFC;&#x81F4;&#x8BBE;&#x8BA1;&#x4E2D;&#x51FA;&#x73B0;&#x8BB8;&#x591A;&#x5C0F;&#x5BF9;&#x8C61;, &#x5982;&#x679C;&#x8FC7;&#x5EA6;&#x4F7F;&#x7528;, &#x4F1A;&#x8BA9;&#x7A0B;&#x5E8F;&#x53D8;&#x5F97;&#x5F88;&#x590D;&#x6742;.</li>
</ul>
<hr>
<h3 class="mume-header" id="%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F">&#x5916;&#x89C2;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-9">&#x7B80;&#x4ECB;</h4>

<p>&#x5916;&#x89C2;&#x6A21;&#x5F0F; &#x9690;&#x85CF;&#x7CFB;&#x7EDF;&#x7684;&#x590D;&#x6742;&#x6027;, &#x5E76;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x7684;&#x63A5;&#x53E3;. &#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5C5E;&#x4E8E;&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;, &#x5B83;&#x5411;&#x73B0;&#x6709;&#x7684;&#x7CFB;&#x7EDF;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;, &#x6765;&#x9690;&#x85CF;&#x7CFB;&#x7EDF;&#x7684;&#x590D;&#x6742;&#x6027;. &#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x6D89;&#x53CA;&#x5230;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x7C7B;, &#x8BE5;&#x7C7B;&#x63D0;&#x4F9B;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x7684;&#x7B80;&#x5316;&#x65B9;&#x6CD5;&#x548C;&#x5BF9;&#x73B0;&#x6709;&#x7CFB;&#x7EDF;&#x7C7B;&#x65B9;&#x6CD5;&#x7684;&#x59D4;&#x6258;&#x8C03;&#x7528;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-9">&#x7ED3;&#x6784;</h4>

<p>&#x5916;&#x89C2;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x4E3B;&#x8981;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>Facade</strong></li>
<li><strong>Subsystem Classes</strong></li>
</ul>
<h5 class="mume-header" id="facade">Facade</h5>

<p>&#x8D1F;&#x8D23;&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x7684;&#x5C01;&#x88C5;&#x8C03;&#x7528;, &#x77E5;&#x9053;&#x54EA;&#x4E9B;&#x5B50;&#x7CFB;&#x7EDF;&#x7C7B;&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x8BF7;&#x6C42;, &#x5C06;&#x5BA2;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#x4EE3;&#x7406;&#x7ED9;&#x9002;&#x5F53;&#x7684;&#x5B50;&#x7CFB;&#x7EDF;&#x5BF9;&#x8C61;.</p>
<h5 class="mume-header" id="subsystem-classes">Subsystem Classes</h5>

<p>&#x5177;&#x4F53;&#x7684;&#x5B50;&#x7CFB;&#x7EDF;, &#x5B50;&#x7CFB;&#x7EDF;&#x7C7B;&#x96C6;&#x5408;, &#x5B9E;&#x73B0;&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x529F;&#x80FD;, &#x5904;&#x7406; Facade &#x5BF9;&#x8C61;&#x6307;&#x6D3E;&#x7684;&#x4EFB;&#x52A1;. <strong>&#x5B50;&#x7C7B;&#x4E2D;&#x6CA1;&#x6709; Facade &#x7684;&#x4EFB;&#x4F55;&#x4FE1;&#x606F;, &#x5373;&#x6CA1;&#x6709;&#x5BF9; Facade &#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;.</strong></p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-9">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x8BBE;&#x8BA1;&#x521D;&#x671F;&#x9636;&#x6BB5;, &#x5E94;&#x8BE5;&#x6709;&#x610F;&#x8BC6;&#x7684;&#x5C06;&#x4E0D;&#x540C;&#x5C42;&#x5206;&#x79BB;, &#x5C42;&#x4E0E;&#x5C42;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x5916;&#x89C2;&#x6A21;&#x5F0F;.</li>
<li>&#x5F00;&#x53D1;&#x9636;&#x6BB5;, &#x5B50;&#x7CFB;&#x7EDF;&#x8D8A;&#x6765;&#x8D8A;&#x590D;&#x6742;, &#x589E;&#x52A0;&#x5916;&#x89C2;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8C03;&#x7528;&#x63A5;&#x53E3;.</li>
<li>&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x5927;&#x578B;&#x9057;&#x7559;&#x7CFB;&#x7EDF;&#x7684;&#x65F6;&#x5019;, &#x53EF;&#x80FD;&#x8FD9;&#x4E2A;&#x7CFB;&#x7EDF;&#x5DF2;&#x7ECF;&#x975E;&#x5E38;&#x96BE;&#x4EE5;&#x7EF4;&#x62A4;&#x548C;&#x6269;&#x5C55;, &#x4F46;&#x53C8;&#x5305;&#x542B;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x529F;&#x80FD;, &#x4E3A;&#x5176;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x5916;&#x89C2;&#x7C7B;, &#x4EE5;&#x4FBF;&#x65B0;&#x7CFB;&#x7EDF;&#x4E0E;&#x5176;&#x4EA4;&#x4E92;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-9">&#x5B9E;&#x4F8B;</h4>

<p>&#x4EE5;&#x738B;&#x8005;&#x8363;&#x8000;&#x7CFB;&#x7EDF;&#x80DC;&#x7387;&#x5B89;&#x6392;&#x7CFB;&#x7EDF;&#x4E3A;&#x4F8B;,<br>
&#x5916;&#x89C2;&#x7C7B;: &#x6E38;&#x620F;&#x4E0D;&#x540C;&#x7684;&#x9635;&#x5BB9;&#x7EC4;&#x5408;<br>
&#x82F1;&#x96C4;&#x7C7B;: &#x4E0D;&#x540C;&#x7684;&#x82F1;&#x96C4;, &#x53EF;&#x4EE5;&#x6253;&#x4E0D;&#x540C;&#x7684;&#x4F4D;&#x7F6E;<br>
&#x5916;&#x89C2;&#x7C7B;&#x7EC4;&#x5408;&#x4E0D;&#x540C;&#x7684;&#x82F1;&#x96C4;, &#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x80DC;&#x7387;&#x503C;.<br>
<strong>Facade&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Facade.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _FACADE_H_
#define _FACADE_H_

#include &quot;Hero.h&quot;

class Facade {

public:

  Facade();
  ~Facade();

  double LineUpA();
  double LineUpB();
  double LineUpC();

private:

  Xiangxiang* m_XX;
  ZhaoYun*    m_ZY;
  LvBu*       m_LB;
  LianPo*     m_LP;
  ZhenJi*     m_ZJ;

};

#endif  
</code></pre><p><strong>Facade&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Facade.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Facade.h&quot;

#define DELEOBJECT(x) if (x == nullptr) { delete x; x = nullptr; }

Facade::Facade() {

  m_XX = new Xiangxiang();
  m_ZY = new ZhaoYun();
  m_LB = new LvBu();
  m_LP = new LianPo();
  m_ZJ = new ZhenJi();

}

Facade::~Facade() {

  DELEOBJECT(m_XX);
  DELEOBJECT(m_ZY);
  DELEOBJECT(m_LB);
  DELEOBJECT(m_LP);
  DELEOBJECT(m_ZJ);

}

double Facade::LineUpA() {

  m_XX-&gt;FaYu();
  m_ZY-&gt;DaYe();
  m_LB-&gt;KangYa();
  m_LP-&gt;FuZhu();
  m_ZJ-&gt;ZhangDan();

  return 0.88;

}

double Facade::LineUpB() {

  m_XX-&gt;FaYu();
  m_ZY-&gt;KangYa();
  m_LB-&gt;DaYe();
  m_LP-&gt;FuZhu();
  m_ZJ-&gt;ZhangDan();

  return 0.40;

}

double Facade::LineUpC() {

  m_XX-&gt;FaYu();
  m_ZY-&gt;DaYe();
  m_LB-&gt;ZhangDan();
  m_LP-&gt;KangYa();
  m_ZJ-&gt;FuZhu();

  return 0.60;

}  
</code></pre><p><strong>&#x82F1;&#x96C4;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Hero.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _HERO_H_
#define _HERO_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class Hero {

public:

  Hero(string name): m_Name(name) {}
  ~Hero() {}

  inline void  ZhangDan() {cout &lt;&lt; m_Name &lt;&lt; &quot;&#x4E2D;&#x5355;&quot; &lt;&lt; endl;}
  inline void  DaYe() {cout &lt;&lt; m_Name &lt;&lt; &quot;&#x6253;&#x91CE;&quot; &lt;&lt; endl;}
  inline void  FuZhu() {cout &lt;&lt; m_Name &lt;&lt; &quot;&#x8F85;&#x52A9;&quot; &lt;&lt; endl;}
  inline void  FaYu() {cout &lt;&lt; m_Name &lt;&lt; &quot;&#x53D1;&#x80B2;&quot; &lt;&lt; endl;}
  inline void  KangYa() {cout &lt;&lt; m_Name &lt;&lt; &quot;&#x6297;&#x538B;&quot; &lt;&lt; endl;}

protected:

  string m_Name;

};

class ZhenJi: public Hero {

public:

  ZhenJi():Hero(&quot;&#x7504;&#x59EC;&quot;) {}
  ~ZhenJi() {}

};

class ZhaoYun: public Hero {

public:

  ZhaoYun():Hero(&quot;&#x8D75;&#x4E91;&quot;) {}
  ~ZhaoYun() {}

};

class Xiangxiang: public Hero {

public:

  Xiangxiang():Hero(&quot;&#x9999;&#x9999;&quot;) {}
  ~Xiangxiang() {}

};

class LianPo: public Hero {

public:

  LianPo():Hero(&quot;&#x5EC9;&#x9887;&quot;) {}
  ~LianPo() {}

};

class LvBu: public Hero {

public:

  LvBu():Hero(&quot;&#x5415;&#x5E03;&quot;) {}
  ~LvBu() {}

};

#endif  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Facade.h&quot;

int main() {

  Facade facade;

  cout &lt;&lt; &quot;&#x80DC;&#x7387;: \n&quot; &lt;&lt; facade.LineUpA() * 100 &lt;&lt; &quot;%&quot; &lt;&lt; endl;
  cout &lt;&lt; &quot;&#x80DC;&#x7387;: \n&quot; &lt;&lt; facade.LineUpB() * 100 &lt;&lt; &quot;%&quot; &lt;&lt; endl;
  cout &lt;&lt; &quot;&#x80DC;&#x7387;: \n&quot; &lt;&lt; facade.LineUpC() * 100 &lt;&lt; &quot;%&quot; &lt;&lt; endl;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-9">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-9">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x5B9E;&#x73B0;&#x4E86;&#x5B50;&#x7CFB;&#x7EDF;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x4E4B;&#x95F4;&#x7684;&#x677E;&#x8026;&#x5408;&#x5173;&#x7CFB;.</li>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x5C4F;&#x853D;&#x4E86;&#x5B50;&#x7CFB;&#x7EDF;&#x7EC4;&#x4EF6;, &#x51CF;&#x5C11;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x6240;&#x9700;&#x5904;&#x7406;&#x7684;&#x5BF9;&#x8C61;&#x6570;&#x76EE;, &#x5E76;&#x4F7F;&#x5F97;&#x5B50;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x66F4;&#x52A0;&#x5BB9;&#x6613;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-9">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x4E0D;&#x7B26;&#x5408;&#x5F00;&#x95ED;&#x539F;&#x5219;, &#x5982;&#x679C;&#x8981;&#x4FEE;&#x6539;&#x67D0;&#x4E00;&#x4E2A;&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x529F;&#x80FD;, &#x901A;&#x5E38;&#x5916;&#x89C2;&#x7C7B;&#x4E5F;&#x8981;&#x4E00;&#x8D77;&#x4FEE;&#x6539;.</li>
<li>&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x76F4;&#x63A5;&#x963B;&#x6B62;&#x5916;&#x90E8;&#x4E0D;&#x901A;&#x8FC7;&#x5916;&#x89C2;&#x7C7B;&#x8BBF;&#x95EE;&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x529F;&#x80FD;, &#x56E0;&#x4E3A;&#x5B50;&#x7CFB;&#x7EDF;&#x7C7B;&#x4E2D;&#x7684;&#x529F;&#x80FD;&#x5FC5;&#x987B;&#x662F;&#x516C;&#x5F00;&#x7684;(&#x6839;&#x636E;&#x9700;&#x8981;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x4F7F;&#x7528;internal&#x8BBF;&#x95EE;&#x7EA7;&#x522B;&#x53EF;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x7F3A;&#x70B9;, &#x4F46;&#x5916;&#x89C2;&#x7C7B;&#x9700;&#x8981;&#x548C;&#x5B50;&#x7CFB;&#x7EDF;&#x7C7B;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x96C6;&#x5185;).</li>
</ul>
<hr>
<h3 class="mume-header" id="%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F">&#x4EAB;&#x5143;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-10">&#x7B80;&#x4ECB;</h4>

<p>&#x4EAB;&#x5143;&#x6A21;&#x5F0F;, &#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x51CF;&#x5C11;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x91CF;, &#x4EE5;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x5360;&#x7528;&#x548C;&#x63D0;&#x9AD8;&#x6027;&#x80FD;. &#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5C5E;&#x4E8E;&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;, &#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x51CF;&#x5C11;&#x5BF9;&#x8C61;&#x6570;&#x91CF;&#x4ECE;&#x800C;&#x6539;&#x5584;&#x5E94;&#x7528;&#x6240;&#x9700;&#x7684;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x7684;&#x65B9;&#x5F0F;.</p>
<p>&#x5728;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;, &#x5982;&#x679C;&#x6211;&#x4EEC;<strong>&#x9700;&#x8981;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;, &#x5982;&#x679C;&#x6211;&#x4EEC;&#x91CD;&#x590D;&#x5730;&#x4F7F;&#x7528;new&#x521B;&#x5EFA;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x8BDD;, &#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5728;&#x5185;&#x5B58;&#x5C31;&#x9700;&#x8981;&#x591A;&#x6B21;&#x5730;&#x53BB;&#x7533;&#x8BF7;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x4E86;, &#x8FD9;&#x6837;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x60C5;&#x51B5;</strong>, &#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#x662F;&#x975E;&#x5E38;&#x4E25;&#x91CD;, &#x7136;&#x800C;&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;.</p>
<p>&#x5171;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;, &#x8FD0;&#x7528;&#x5171;&#x4EAB;&#x6280;&#x672F;&#x6709;&#x6548;&#x5730;&#x652F;&#x6301;&#x5927;&#x91CF;&#x7EC6;&#x7C92;&#x5EA6;&#x5BF9;&#x8C61;&#x7684;&#x590D;&#x7528;. &#x5982;&#x679C;&#x5728;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E2D;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x76F8;&#x540C;&#x7684;&#x5BF9;&#x8C61;, &#x90A3;&#x4E48;&#x53EA;&#x9700;&#x8981;&#x5171;&#x4EAB;&#x4E00;&#x4EFD;&#x5BF9;&#x8C61;&#x7684;&#x62F7;&#x8D1D;, &#x800C;&#x4E0D;&#x5FC5;&#x4E3A;&#x6BCF;&#x4E00;&#x6B21;&#x4F7F;&#x7528;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x5BF9;&#x8C61;. <strong>&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x662F;&#x4E3A;&#x6570;&#x4E0D;&#x591A;&#x53EA;&#x4E3A;&#x63D0;&#x5347;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x800C;&#x751F;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;, &#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x590D;&#x7528;&#x5927;&#x5BF9;&#x8C61;(&#x91CD;&#x91CF;&#x7EA7;&#x5BF9;&#x8C61;), &#x4EE5;&#x8282;&#x7701;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x548C;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x65F6;&#x95F4;.</strong></p>
<p>&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x7684;&#x89E3;&#x51B3;&#x4E00;&#x4E9B;&#x6269;&#x5C55;&#x6027;&#x7684;&#x95EE;&#x9898;, &#x4F46;&#x662F;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x7CFB;&#x7EDF;&#x52A1;&#x5FC5;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E9B;&#x7C7B;&#x6216;&#x8005;&#x5BF9;&#x8C61;, &#x5982;&#x679C;&#x7CFB;&#x7EDF;&#x4E2D;&#x5B58;&#x5728;&#x5BF9;&#x8C61;&#x7684;&#x4E2A;&#x6570;&#x8FC7;&#x591A;&#x65F6;, &#x5C06;&#x4F1A;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x7684;&#x6027;&#x80FD;&#x4E0B;&#x964D;. &#x5BF9;&#x4E8E;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#x89E3;&#x51B3;&#x6700;&#x7B80;&#x5355;&#x76F4;&#x63A5;&#x7684;&#x529E;&#x6CD5;&#x5C31;&#x662F;&#x51CF;&#x5C11;&#x7CFB;&#x7EDF;&#x4E2D;&#x5BF9;&#x8C61;&#x7684;&#x4E2A;&#x6570;. &#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;, &#x4F7F;&#x7528;&#x5171;&#x4EAB;&#x6280;&#x672F;&#x5B9E;&#x73B0;&#x76F8;&#x540C;&#x6216;&#x8005;&#x76F8;&#x4F3C;&#x5BF9;&#x8C61;&#x7684;&#x91CD;&#x7528;. &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5B9E;&#x73B0;&#x76F8;&#x540C;&#x6216;&#x8005;&#x76F8;&#x4F3C;&#x5BF9;&#x8C61;&#x7684;&#x4EE3;&#x7801;&#x5171;&#x4EAB;.</p>
<p><strong>&#x6240;&#x8C13;&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x5C31;&#x662F;&#x8FD0;&#x884C;&#x5171;&#x4EAB;&#x6280;&#x672F;&#x6709;&#x6548;&#x5730;&#x652F;&#x6301;&#x5927;&#x91CF;&#x7EC6;&#x7C92;&#x5EA6;&#x5BF9;&#x8C61;&#x7684;&#x590D;&#x7528;. &#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x5C11;&#x91CF;&#x5BF9;&#x8C61;, &#x800C;&#x4E14;&#x8FD9;&#x4E9B;&#x90FD;&#x6BD4;&#x8F83;&#x76F8;&#x4F3C;, &#x72B6;&#x6001;&#x53D8;&#x5316;&#x5C0F;, &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;&#x7684;&#x591A;&#x6B21;&#x590D;&#x7528;.</strong></p>
<p>&#x5171;&#x4EAB;&#x6A21;&#x5F0F;&#x662F;&#x652F;&#x6301;&#x5927;&#x91CF;&#x7EC6;&#x7C92;&#x5EA6;&#x5BF9;&#x8C61;&#x7684;&#x590D;&#x7528;, &#x6240;&#x4EE5;&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x8981;&#x6C42;&#x80FD;&#x591F;&#x5171;&#x4EAB;&#x7684;&#x5BF9;&#x8C61;&#x5FC5;&#x987B;&#x662F;&#x7EC6;&#x7C92;&#x5EA6;&#x5BF9;&#x8C61;.</p>
<p>&#x9996;&#x5148;&#x4E86;&#x89E3;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;: <strong>&#x5185;&#x90E8;&#x72B6;&#x6001;, &#x5916;&#x90E8;&#x72B6;&#x6001;</strong>.<br>
&#x5185;&#x90E8;&#x72B6;&#x6001;: &#x5728;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;&#x5185;&#x90E8;&#x4E0D;&#x968F;&#x5916;&#x754C;&#x73AF;&#x5883;&#x6539;&#x53D8;&#x800C;&#x6539;&#x53D8;&#x7684;&#x5171;&#x4EAB;&#x90E8;&#x5206;.<br>
&#x5916;&#x90E8;&#x72B6;&#x6001;: &#x968F;&#x7740;&#x73AF;&#x5883;&#x7684;&#x6539;&#x53D8;&#x800C;&#x6539;&#x53D8;, &#x4E0D;&#x80FD;&#x591F;&#x5171;&#x4EAB;&#x7684;&#x72B6;&#x6001;&#x5C31;&#x662F;&#x5916;&#x90E8;&#x72B6;&#x6001;.</p>
<p>&#x7531;&#x4E8E;&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x533A;&#x5206;&#x4E86;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x548C;&#x5916;&#x90E8;&#x72B6;&#x6001;, &#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x5916;&#x90E8;&#x72B6;&#x6001;&#x4F7F;&#x5F97;&#x76F8;&#x540C;&#x7684;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x5177;&#x5907;&#x4E00;&#x4E9B;&#x4E0D;&#x540C;&#x7684;&#x7279;&#x6027;, &#x800C;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x8BBE;&#x7F6E;&#x4E3A;&#x76F8;&#x540C;&#x90E8;&#x5206;.</p>
<p>&#x5728;&#x6211;&#x4EEC;&#x7684;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x8FC7;&#x7A0B;&#x4E2D;, &#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x4F1A;&#x9700;&#x8981;&#x5927;&#x91CF;&#x7684;&#x7EC6;&#x7C92;&#x5EA6;&#x5BF9;&#x8C61;&#x6765;&#x8868;&#x793A;&#x5BF9;&#x8C61;, &#x5982;&#x679C;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x9664;&#x4E86;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#x4E0D;&#x540C;&#x5916;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x90FD;&#x76F8;&#x540C;, &#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x6765;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-10">&#x7ED3;&#x6784;</h4>

<p>&#x4EAB;&#x5143;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x4E3B;&#x8981;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x4EAB;&#x5143;&#x63A5;&#x53E3;(Flyweight)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x7684;&#x4EAB;&#x5143;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;(Concrete Flyweight)</strong></li>
<li><strong>&#x975E;&#x5171;&#x4EAB;&#x7684;&#x4EAB;&#x5143;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;(Unshare Concrete Flyweight)</strong></li>
<li><strong>&#x4EAB;&#x5143;&#x5DE5;&#x5382;&#x7C7B;(Flyweight Factoty)</strong></li>
<li><strong>&#x4EAB;&#x5143;&#x5BA2;&#x6237;&#x7AEF;(Client)</strong></li>
</ul>
<h5 class="mume-header" id="%E4%BA%AB%E5%85%83%E6%8E%A5%E5%8F%A3">&#x4EAB;&#x5143;&#x63A5;&#x53E3;</h5>

<p>&#x6240;&#x6709;&#x5177;&#x4F53;&#x4EAB;&#x5143;&#x7C7B;&#x7684;&#x8D85;&#x7C7B;&#x6216;&#x63A5;&#x53E3;, &#x901A;&#x8FC7;&#x8BE5;&#x63A5;&#x53E3; Flyweight &#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x5E76;&#x4F5C;&#x7528;&#x4E8E;&#x5916;&#x90E8;&#x72B6;&#x6001;. &#x901A;&#x8FC7;&#x8BE5;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x5916;&#x90E8;&#x7684;&#x72B6;&#x6001;, &#x5728;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x5904;&#x7406;&#x4E2D;&#x53EF;&#x80FD;&#x4F1A;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5916;&#x90E8;&#x7684;&#x6570;&#x636E;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E7%9A%84%E4%BA%AB%E5%85%83%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1">&#x5177;&#x4F53;&#x7684;&#x4EAB;&#x5143;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;</h5>

<p>&#x6307;&#x5B9A;&#x5185;&#x90E8;&#x72B6;&#x6001;, &#x5FC5;&#x987B;&#x662F;&#x5171;&#x4EAB;&#x7684;, &#x9700;&#x8981;&#x5C01;&#x88C5;Flyweight&#x7684;&#x5185;&#x90E8;&#x72B6;&#x6001;.</p>
<h5 class="mume-header" id="%E9%9D%9E%E5%85%B1%E4%BA%AB%E7%9A%84%E4%BA%AB%E5%85%83%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1">&#x975E;&#x5171;&#x4EAB;&#x7684;&#x4EAB;&#x5143;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;</h5>

<p>&#x975E;&#x5171;&#x4EAB;&#x7684;&#x4EAB;&#x5143;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;, &#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;Flyweight&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;&#x90FD;&#x9700;&#x8981;&#x5171;&#x4EAB;. &#x975E;&#x5171;&#x4EAB;&#x7684;&#x4EAB;&#x5143;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;&#x901A;&#x5E38;&#x662F;&#x5BF9;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;&#x7684;&#x7EC4;&#x5408;&#x5BF9;&#x8C61;.</p>
<h5 class="mume-header" id="%E4%BA%AB%E5%85%83%E5%B7%A5%E5%8E%82%E7%B1%BB">&#x4EAB;&#x5143;&#x5DE5;&#x5382;&#x7C7B;</h5>

<p>&#x4E3B;&#x8981;&#x7528;&#x6765;&#x521B;&#x5EFA;&#x5E76;&#x7BA1;&#x7406;&#x5171;&#x4EAB;&#x7684;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;, &#x5E76;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x8BBF;&#x95EE;&#x5171;&#x4EAB;&#x4EAB;&#x5143;&#x7684;&#x63A5;&#x53E3;. &#x5F53;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x4E00;&#x4E2A; Flyweight &#x65F6;, FlyweightFactory &#x5C31;&#x4F1A;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x7684; Flyweight &#x5BF9;&#x8C61;&#x6216;&#x8005;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;(&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;).</p>
<h5 class="mume-header" id="%E4%BA%AB%E5%85%83%E5%AE%A2%E6%88%B7%E7%AB%AF">&#x4EAB;&#x5143;&#x5BA2;&#x6237;&#x7AEF;</h5>

<p>&#x4E3B;&#x8981;&#x7684;&#x5DE5;&#x4F5C;&#x5C31;&#x662F;&#x7EF4;&#x6301;&#x4E00;&#x4E2A;&#x5BF9; Flyweight &#x7684;&#x5F15;&#x7528;, &#x8BA1;&#x7B97;&#x6216;&#x5B58;&#x50A8;&#x4EAB;&#x5143;&#x7684;&#x5916;&#x90E8;&#x72B6;&#x6001;, &#x5F53;&#x7136;&#x8FD9;&#x91CC;&#x53EF;&#x8BBF;&#x95EE;&#x5171;&#x4EAB;&#x548C;&#x4E0D;&#x5171;&#x4EAB;&#x7684; Flyweight &#x5BF9;&#x8C61;.</p>
<p><strong>&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x7684;&#x6838;&#x5FC3;&#x5728;&#x4E8E;&#x4EAB;&#x5143;&#x5DE5;&#x5382;&#x7C7B;</strong>, &#x4EAB;&#x5143;&#x5DE5;&#x5382;&#x7C7B;&#x7684;&#x4F5C;&#x7528;&#x5728;&#x4E8E;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;&#x7684;&#x4EAB;&#x5143;&#x6C60;, &#x7528;&#x6237;&#x9700;&#x8981;&#x5BF9;&#x8C61;&#x65F6;, &#x9996;&#x5148;&#x4ECE;&#x4EAB;&#x5143;&#x6C60;&#x4E2D;&#x83B7;&#x53D6;, &#x5982;&#x679C;&#x4EAB;&#x5143;&#x6C60;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;, &#x5219;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;&#x8FD4;&#x56DE;&#x7ED9;&#x7528;&#x6237;, &#x5E76;&#x5728;&#x4EAB;&#x5143;&#x6C60;&#x4E2D;&#x4FDD;&#x5B58;&#x8BE5;&#x65B0;&#x589E;&#x5BF9;&#x8C61;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-10">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x6709;&#x5927;&#x91CF;&#x76F8;&#x540C;&#x6216;&#x8005;&#x76F8;&#x4F3C;&#x7684;&#x5BF9;&#x8C61;, &#x9020;&#x6210;&#x5185;&#x5B58;&#x7684;&#x5927;&#x91CF;&#x8017;&#x8D39;.</li>
<li>&#x5BF9;&#x8C61;&#x7684;&#x5927;&#x90E8;&#x5206;&#x72B6;&#x6001;&#x90FD;&#x53EF;&#x4EE5;&#x5916;&#x90E8;&#x5316;, &#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x5916;&#x90E8;&#x72B6;&#x6001;&#x4F20;&#x5165;&#x5BF9;&#x8C61;&#x4E2D;.</li>
<li>&#x5728;&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x65F6;&#x9700;&#x8981;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;&#x7684;&#x4EAB;&#x5143;&#x6C60;, &#x800C;&#x8FD9;&#x9700;&#x8981;&#x8017;&#x8D39;&#x4E00;&#x5B9A;&#x7684;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;, &#x56E0;&#x6B64;, &#x5E94;&#x5F53;&#x5728;&#x9700;&#x8981;&#x591A;&#x6B21;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;&#x65F6;&#x624D;&#x503C;&#x5F97;&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#x6A21;&#x5F0F;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-10">&#x5B9E;&#x4F8B;</h4>

<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;20*20&#x7684;&#x753B;&#x5E03;, &#x4E0A;&#x9762;&#x521D;&#x59CB;&#x90FD;&#x662F;&apos;o&apos;&#x56FE;&#x6848;&#x8868;&#x793A;&#x65E0;&#x989C;&#x8272;&#x586B;&#x5145;&#x7684;&#x753B;&#x70B9;, &#x518D;&#x5728;&#x4E0A;&#x9762;&#x4F7F;&#x7528;&#x9ED1;&#x8272;(&#x7528;&apos;+&apos;&#x56FE;&#x6848;&#x8868;&#x793A;), &#x767D;&#x8272;(&#x7528;&apos;-&apos;&#x56FE;&#x6848;&#x8868;&#x793A;)&#x7684;&#x753B;&#x70B9;&#x968F;&#x673A;&#x586B;&#x5145;.</p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x91CC;&#x9762;&#x7684; &#x989C;&#x8272;&#x753B;&#x70B9; &#x5C31;&#x662F;&#x591A;&#x4E2A;&#x76F8;&#x540C;&#x7684;&#x5BF9;&#x8C61;, &#x800C;&#x4E14;&#x5B83;&#x4EEC;&#x9891;&#x7E41;&#x5730;&#x88AB;&#x8C03;&#x7528;.<br>
<strong>&#x4EAB;&#x5143;&#x5DE5;&#x5382;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>PieceFactory.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _PIECEFACTORY_H_
#define _PIECEFACTORY_H_

#include &quot;Piece.h&quot;

class PieceFactory{

public:

  PieceFactory();
  Piece* find(Color color);

private:

  map&lt;Color, Piece*&gt; m_PiecesMap;

};

#endif  
</code></pre><p><strong>&#x4EAB;&#x5143;&#x5DE5;&#x5382;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>PieceFactory.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;PieceFactory.h&quot;

PieceFactory::PieceFactory() {

}

Piece* PieceFactory::find(Color color) {

  auto piece = m_PiecesMap.find(color);

  if (piece != m_PiecesMap.end()) {

      return piece-&gt;second;

  }else {

      Piece* p = new Piece(color);
      m_PiecesMap[color] = p;
      
      return p;

  }

}  
</code></pre><p><strong>&#x4EAB;&#x5143;&#x63A5;&#x53E3;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Piece.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _PIECE_H_  
#define _PIECE_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

enum Color {

  white,
  black

};

class Piece {

public:

  Piece(Color color);
  void setPoint(int x, int y);
  Color GetColor() const;

public:

  int m_X;
  int m_Y;

private:

  Color m_Color;

};

#endif
</code></pre><p><strong>&#x4EAB;&#x5143;&#x63A5;&#x53E3;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Piece.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Piece.h&quot;

Piece::Piece(Color color) 
     : m_Color(color) {

}

void Piece::setPoint(int x, int y) {

  m_X = x;
  m_Y = y;

}

Color Piece::GetColor() const {

  return m_Color;

}
</code></pre><p><strong>&#x975E;&#x5171;&#x4EAB;&#x7684;&#x4EAB;&#x5143;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>CheckerBoard.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CHECKERBOARD_H_
#define _CHECKERBOARD_H_

#include &quot;Piece.h&quot;

class CheckerBoard {

public:

  CheckerBoard();
  void Draw();
  void refresh();
  void GetPiece(const Piece &amp;piece);

private:

  string m_Checker;

};

#endif
</code></pre><p><strong>&#x975E;&#x5171;&#x4EAB;&#x7684;&#x4EAB;&#x5143;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>CheckerBoard.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;CheckerBoard.h&quot;

CheckerBoard::CheckerBoard() {

  for (int m = 0; m &lt; 20; m++) {

      for (int n = 0; n &lt; 20; n++) {

          m_Checker += &quot;o&quot;;

      }

      m_Checker += &apos;\n&apos;;

  }

}

void CheckerBoard::Draw() {

    cout &lt;&lt; m_Checker &lt;&lt; endl;

}

void CheckerBoard::refresh() {

    system(&quot;cls&quot;);
    cout &lt;&lt; m_Checker &lt;&lt; endl;

}

void CheckerBoard::GetPiece(const Piece &amp;piece) {

    int pos;
    pos = (piece.m_Y * 21) + piece.m_X;

    if (piece.GetColor() == Color::white) {

        m_Checker.replace(pos, 1, &quot;-&quot;);

    }else if (piece.GetColor() == Color::black) {

        m_Checker.replace(pos, 1, &quot;+&quot;);

    }

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;CheckerBoard.h&quot;
#include &quot;Piece.h&quot;
#include &quot;PieceFactory.h&quot;

void GeneratePoint(Piece* p) {

    p-&gt;m_X = rand() % 20;
    p-&gt;m_Y = rand() % 20;

}

int main() {

    CheckerBoard board;
    board.Draw();

    PieceFactory factory;

    for (int n = 0; n &lt; 20; n++) {

        Piece* p1 = factory.find(Color::black);
        GeneratePoint(p1);

        _sleep(1);

        Piece* p2 = factory.find(Color::white);
        GeneratePoint(p2);

        board.GetPiece(*p2);
        board.GetPiece(*p1);
        board.refresh();

    }

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-10">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-10">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x53EF;&#x4EE5;&#x6781;&#x5927;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x4E2D;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x91CF;, &#x4F7F;&#x5F97;&#x76F8;&#x540C;&#x6216;&#x76F8;&#x4F3C;&#x5BF9;&#x8C61;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x53EA;&#x4FDD;&#x5B58;&#x4E00;&#x4EFD;, &#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x8282;&#x7EA6;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;, &#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;.</li>
<li>&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x7684;&#x5916;&#x90E8;&#x72B6;&#x6001;&#x76F8;&#x5BF9;&#x72EC;&#x7ACB;, &#x800C;&#x4E14;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5176;&#x5185;&#x90E8;&#x72B6;&#x6001;, &#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;&#x4E2D;&#x88AB;&#x5171;&#x4EAB;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-10">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x4F7F;&#x5F97;&#x7CFB;&#x7EDF;&#x53D8;&#x5F97;&#x590D;&#x6742;, &#x9700;&#x8981;&#x5206;&#x79BB;&#x51FA;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x548C;&#x5916;&#x90E8;&#x72B6;&#x6001;, &#x8FD9;&#x4F7F;&#x5F97;&#x7A0B;&#x5E8F;&#x7684;&#x903B;&#x8F91;&#x590D;&#x6742;&#x5316;.</li>
<li>&#x4E3A;&#x4E86;&#x4F7F;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x5171;&#x4EAB;, &#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x9700;&#x8981;&#x5C06;&#x4EAB;&#x5143;&#x5BF9;&#x8C61;&#x7684;&#x90E8;&#x5206;&#x72B6;&#x6001;&#x5916;&#x90E8;&#x5316;, &#x800C;&#x8BFB;&#x53D6;&#x5916;&#x90E8;&#x72B6;&#x6001;&#x5C06;&#x4F7F;&#x5F97;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x53D8;&#x957F;.</li>
</ul>
<h4 class="mume-header" id="%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F-%E5%92%8C-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F-%E7%9A%84%E5%BC%82%E5%90%8C">&#x4EAB;&#x5143;&#x6A21;&#x5F0F; &#x548C; &#x5355;&#x4F8B;&#x6A21;&#x5F0F; &#x7684;&#x5F02;&#x540C;</h4>

<p>&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x518D;&#x6B21;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;, &#x4E5F;&#x53EF;&#x4EE5;&#x53D6;&#x7F13;&#x5B58;&#x5BF9;&#x8C61;.<br>
&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x5219;&#x662F;&#x4E25;&#x683C;&#x63A7;&#x5236;&#x5355;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E2D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;.</p>
<p>&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x5BF9;&#x5916;&#x90E8;&#x7684;&#x5355;&#x4F8B; &#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x9700;&#x8981;&#x7684;&#x4F7F;&#x7528;&#x521B;&#x5EFA;&#x66F4;&#x591A;&#x7684;&#x5BF9;&#x8C61;.<br>
&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x662F;&#x81EA;&#x8EAB;&#x63A7;&#x5236;, &#x9700;&#x8981;&#x589E;&#x52A0;&#x4E0D;&#x5C5E;&#x4E8E;&#x8BE5;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x7684;&#x903B;&#x8F91;.</p>
<p>&#x4E24;&#x8005;&#x90FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8282;&#x7701;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x7684;&#x65F6;&#x95F4;.</p>
<hr>
<h3 class="mume-header" id="%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F">&#x4EE3;&#x7406;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-11">&#x7B80;&#x4ECB;</h4>

<p>&#x4EE3;&#x7406;&#x6A21;&#x5F0F;, <strong>&#x5C31;&#x662F;&#x7ED9;&#x67D0;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;, &#x5E76;&#x7531;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x63A7;&#x5236;&#x5BF9;&#x539F;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;.</strong> &#x5728;&#x4E00;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;, &#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x4E0D;&#x60F3;&#x6216;&#x8005;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;, &#x800C;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x8D77;&#x5230;&#x4E2D;&#x4ECB;&#x7684;&#x4F5C;&#x7528;. &#x4F8B;&#x5982;&#x7535;&#x8111;&#x684C;&#x9762;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;, &#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x662F;&#x5B83;&#x6240;&#x5F15;&#x7528;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-11">&#x7ED3;&#x6784;</h4>

<p>&#x4EE3;&#x7406;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x4E3B;&#x9898;&#x89D2;&#x8272;(Subject)</strong></li>
<li><strong>&#x4EE3;&#x7406;&#x4E3B;&#x9898;&#x89D2;&#x8272;(Proxy)</strong></li>
<li><strong>&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x89D2;&#x8272;(Real Subject)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E4%B8%BB%E9%A2%98%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x4E3B;&#x9898;&#x89D2;&#x8272;</h5>

<p>&#x5B83;&#x58F0;&#x660E;&#x4E86; &#x771F;&#x5B9E;&#x4E3B;&#x9898; &#x548C; &#x4EE3;&#x7406;&#x4E3B;&#x9898; &#x7684;&#x5171;&#x540C;&#x63A5;&#x53E3;, &#x8FD9;&#x6837;&#x4E00;&#x6765;&#x5728;&#x4EFB;&#x4F55;&#x4F7F;&#x7528;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE3;&#x7406;&#x4E3B;&#x9898;, &#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x5E38;&#x9700;&#x8981;&#x9488;&#x5BF9;&#x62BD;&#x8C61;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x8FDB;&#x884C;&#x7F16;&#x7A0B;.</p>
<h5 class="mume-header" id="%E4%BB%A3%E7%90%86%E4%B8%BB%E9%A2%98%E8%A7%92%E8%89%B2">&#x4EE3;&#x7406;&#x4E3B;&#x9898;&#x89D2;&#x8272;</h5>

<p>&#x5B83;&#x5305;&#x542B;&#x4E86;&#x5BF9;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x7684;&#x5F15;&#x7528;, &#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x64CD;&#x4F5C;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x5BF9;&#x8C61;; &#x5728;&#x4EE3;&#x7406;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x4E2D;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4E0E;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x76F8;&#x540C;&#x7684;&#x63A5;&#x53E3;, &#x4EE5;&#x4FBF;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x90FD;&#x53EF;&#x4EE5;&#x66FF;&#x4EE3;&#x771F;&#x5B9E;&#x4E3B;&#x9898;; &#x4EE3;&#x7406;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x8FD8;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x5BF9;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x7684;&#x4F7F;&#x7528;, &#x8D1F;&#x8D23;&#x5728;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x521B;&#x5EFA;&#x548C;&#x5220;&#x9664;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x5BF9;&#x8C61;, &#x5E76;&#x5BF9;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x5BF9;&#x8C61;&#x7684;&#x4F7F;&#x7528;&#x52A0;&#x4EE5;&#x7EA6;&#x675F;. &#x901A;&#x5E38;, &#x5728;&#x4EE3;&#x7406;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x4E2D;, &#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x8C03;&#x7528;&#x6240;&#x5F15;&#x7528;&#x7684;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#x6216;&#x4E4B;&#x540E;&#x8FD8;&#x9700;&#x8981;&#x6267;&#x884C;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;, &#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5355;&#x7EAF;&#x8C03;&#x7528;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x64CD;&#x4F5C;.</p>
<h5 class="mume-header" id="%E7%9C%9F%E5%AE%9E%E4%B8%BB%E9%A2%98%E8%A7%92%E8%89%B2">&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x89D2;&#x8272;</h5>

<p>&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x4EE3;&#x7406;&#x89D2;&#x8272;&#x6240;&#x4EE3;&#x8868;&#x7684;&#x771F;&#x5B9E;&#x5BF9;&#x8C61;, &#x5728;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x4E2D;&#x5B9E;&#x73B0;&#x4E86;&#x771F;&#x5B9E;&#x7684;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;, &#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x95F4;&#x63A5;&#x8C03;&#x7528;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x64CD;&#x4F5C;.</p>
<h4 class="mume-header" id="%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%A7%8D%E7%B1%BB">&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x7684;&#x79CD;&#x7C7B;</h4>

<p>&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x6839;&#x636E;&#x5176;&#x76EE;&#x7684;&#x548C;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x4E0D;&#x540C;&#x53EF;&#x5206;&#x4E3A;&#x5F88;&#x591A;&#x79CD;&#x7C7B;, &#x5176;&#x4E2D;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x79CD;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;:</p>
<ul>
<li><strong>&#x8FDC;&#x7A0B;&#x4EE3;&#x7406; (Remote Proxy) :</strong> &#x4E3A;&#x4E00;&#x4E2A;&#x4F4D;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x7684;&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x7684;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;, &#x8FD9;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x53EF;&#x4EE5;&#x662F;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x4E2D;, &#x4E5F;&#x53EF;&#x662F;&#x5728;&#x53E6;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x4E2D;, &#x8FDC;&#x7A0B;&#x4EE3;&#x7406;&#x53C8;&#x79F0;&#x4E3A;<strong>&#x5927;&#x4F7F;(Ambassador)</strong>.</li>
<li><strong>&#x865A;&#x62DF;&#x4EE3;&#x7406; (Virtual Proxy) :</strong> &#x5982;&#x679C;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x6D88;&#x8017;&#x8F83;&#x5927;&#x7684;&#x5BF9;&#x8C61;, &#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6D88;&#x8017;&#x76F8;&#x5BF9;&#x8F83;&#x5C0F;&#x7684;&#x5BF9;&#x8C61;&#x6765;&#x8868;&#x793A;, &#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x53EA;&#x5728;&#x9700;&#x8981;&#x65F6;&#x624D;&#x4F1A;&#x88AB;&#x771F;&#x6B63;&#x521B;&#x5EFA;.</li>
<li><strong>&#x4FDD;&#x62A4;&#x4EE3;&#x7406; (Protect Proxy) :</strong> &#x63A7;&#x5236;&#x5BF9;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x8BBF;&#x95EE;, &#x53EF;&#x4EE5;&#x7ED9;&#x4E0D;&#x540C;&#x7684;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x4E0D;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x4F7F;&#x7528;&#x6743;&#x9650;.</li>
<li><strong>&#x7F13;&#x51B2;&#x4EE3;&#x7406; (Cache Proxy) :</strong> &#x4E3A;&#x67D0;&#x4E00;&#x4E2A;&#x76EE;&#x6807;&#x64CD;&#x4F5C;&#x7684;&#x7ED3;&#x679C;&#x63D0;&#x4F9B;&#x4E34;&#x65F6;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;, &#x4EE5;&#x4FBF;&#x591A;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x5171;&#x4EAB;&#x8FD9;&#x4E9B;&#x7ED3;&#x679C;.</li>
<li><strong>&#x667A;&#x80FD;&#x5F15;&#x7528;&#x4EE3;&#x7406; (Smart Reference Proxy) :</strong> &#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x88AB;&#x5F15;&#x7528;&#x65F6;, &#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x64CD;&#x4F5C;, &#x4F8B;&#x5982;&#x5C06;&#x5BF9;&#x8C61;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x6B21;&#x6570;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#x7B49;.</li>
</ul>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-11">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<p>&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x7684;&#x7C7B;&#x578B;&#x8F83;&#x591A;, &#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x4F18;&#x7F3A;&#x70B9;, &#x5B83;&#x4EEC;&#x5E94;&#x7528;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x573A;&#x5408;:</p>
<ul>
<li>&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>&#x8FDC;&#x7A0B;&#x4EE3;&#x7406;</strong>.</li>
<li>&#x5F53;&#x9700;&#x8981;&#x7528;&#x4E00;&#x4E2A;&#x6D88;&#x8017;&#x8D44;&#x6E90;&#x8F83;&#x5C11;&#x7684;&#x5BF9;&#x8C61;&#x6765;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x6D88;&#x8017;&#x8D44;&#x6E90;&#x8F83;&#x591A;&#x7684;&#x5BF9;&#x8C61;, &#x4ECE;&#x800C;&#x964D;&#x4F4E;&#x7CFB;&#x7EDF;&#x5F00;&#x9500;, &#x7F29;&#x77ED;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>&#x865A;&#x62DF;&#x4EE3;&#x7406;</strong>, &#x4F8B;&#x5982;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#x624D;&#x80FD;&#x5B8C;&#x6210;&#x52A0;&#x8F7D;&#x65F6;.</li>
<li>&#x5F53;&#x9700;&#x8981;&#x4E3A;&#x67D0;&#x4E00;&#x4E2A;&#x88AB;&#x9891;&#x7E41;&#x8BBF;&#x95EE;&#x7684;&#x64CD;&#x4F5C;&#x7ED3;&#x679C;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;, &#x4EE5;&#x4F9B;&#x591A;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x5171;&#x4EAB;&#x8BBF;&#x95EE;&#x8FD9;&#x4E9B;&#x7ED3;&#x679C;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>&#x7F13;&#x51B2;&#x4EE3;&#x7406;</strong>. &#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x7F13;&#x51B2;&#x4EE3;&#x7406;, &#x7CFB;&#x7EDF;&#x65E0;&#x987B;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x6BCF;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x65F6;&#x90FD;&#x91CD;&#x65B0;&#x6267;&#x884C;&#x64CD;&#x4F5C;, &#x53EA;&#x9700;&#x76F4;&#x63A5;&#x4ECE;&#x4E34;&#x65F6;&#x7F13;&#x51B2;&#x533A;&#x83B7;&#x53D6;&#x64CD;&#x4F5C;&#x7ED3;&#x679C;&#x5373;&#x53EF;.</li>
<li>&#x5F53;&#x9700;&#x8981;&#x63A7;&#x5236;&#x5BF9;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x8BBF;&#x95EE;, &#x4E3A;&#x4E0D;&#x540C;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x4E0D;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>&#x4FDD;&#x62A4;&#x4EE3;&#x7406;</strong>.</li>
<li>&#x5F53;&#x9700;&#x8981;&#x4E3A;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x8BBF;&#x95EE;(&#x5F15;&#x7528;), &#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x64CD;&#x4F5C;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>&#x667A;&#x80FD;&#x5F15;&#x7528;&#x4EE3;&#x7406;</strong>.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-11">&#x5B9E;&#x4F8B;</h4>

<p>&#x6BD4;&#x5982;, &#x817C;&#x8146;&#x7684;&#x7537;&#x751F;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;, &#x8BA9;&#x4EE3;&#x7406;&#x7ED9;&#x5973;&#x751F;&#x9001;&#x793C;&#x7269;, &#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x4E86;:<br>
<strong>&#x4EE3;&#x7406;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Proxy.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _PROXY_H_  
#define _PROXY_H_

#include &quot;GiveGift.h&quot;
#include &quot;ConcreteGirl.h&quot;
#include &quot;ConcretePeople.h&quot;

class Proxy: public GiveGift {

public:

  Proxy(ConcreteGirl* girl);
  void GiveFlow() override;
  void GiveDolls() override;
  void GiveChocolate() override;

private:

  ConcretePeople* m_People;

};

#endif  
</code></pre><p><strong>&#x4EE3;&#x7406;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Proxy.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Proxy.h&quot;
#include &quot;ConcreteGirl.h&quot;
#include &quot;ConcretePeople.h&quot;

Proxy::Proxy(ConcreteGirl* girl) {

  m_People = new ConcretePeople(&quot;&#x5C0F;&#x660E;&quot;);
  m_People-&gt;ChasingGirls(girl);

}

void Proxy::GiveFlow() {

  if (m_People) {
      m_People-&gt;GiveFlow();
  }

}

void Proxy::GiveDolls() {

  if (m_People) {
      m_People-&gt;GiveDolls();
  }

}

void Proxy::GiveChocolate() {

  if (m_People) {
      m_People-&gt;GiveChocolate();
  }

}  
</code></pre><p><strong>&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ConcretePeople.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CONCRETEPEOPLE_H_  
#define _CONCRETEPEOPLE_H_

#include &quot;GiveGift.h&quot;
#include &quot;ConcreteGirl.h&quot;

class ConcretePeople: public GiveGift {

public:

  ConcretePeople(string name);
  void GiveFlow() override;
  void GiveDolls() override;
  void GiveChocolate() override;

  void ChasingGirls(ConcreteGirl* girl);

private:

  string        m_Name;
  ConcreteGirl* m_Girl;

};

#endif  
</code></pre><p><strong>&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ConcretePeople.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcretePeople.h&quot;

ConcretePeople::ConcretePeople(string name)
              : m_Name(name) {

}

void ConcretePeople::GiveFlow() {

    if (m_Girl) {
        cout &lt;&lt; m_Girl-&gt;Name() &lt;&lt; &quot; &#x8FD9;&#x662F;&#x9001;&#x4F60;&#x7684;&#x82B1;&#x82B1;&quot; &lt;&lt; endl;
    }

}

void ConcretePeople::GiveDolls() {

    if (m_Girl) {
        cout &lt;&lt; m_Girl-&gt;Name() &lt;&lt; &quot; &#x8FD9;&#x662F;&#x9001;&#x4F60;&#x7684;&#x6D0B;&#x5A03;&#x5A03;&quot; &lt;&lt; endl;
    }

}

void ConcretePeople::GiveChocolate() {

    if (m_Girl) {
        cout &lt;&lt; m_Girl-&gt;Name() &lt;&lt; &quot; &#x8FD9;&#x662F;&#x9001;&#x4F60;&#x7684;&#x5DE7;&#x514B;&#x529B;&quot; &lt;&lt; endl;
    }

}

void ConcretePeople::ChasingGirls(ConcreteGirl* girl) {

    m_Girl = girl;

}  
</code></pre><p><strong>&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ConcreteGirl.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CONCRETEGIRL_H_  
#define _CONCRETEGIRL_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class ConcreteGirl {

public:

  ConcreteGirl(string name);
  string Name();

private:

  string m_Name;

};

#endif  
</code></pre><p><strong>&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ConcreteGirl.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteGirl.h&quot;  

ConcreteGirl::ConcreteGirl(string name)
            : m_Name(name) {

}

string ConcreteGirl::Name() {

    return m_Name;

}  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>GiveGift.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _GIVEGIFT_H_  
#define _GIVEGIFT_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class GiveGift {

public:

  GiveGift();
  virtual ~GiveGift();
  virtual void GiveFlow() = 0;
  virtual void GiveChocolate() = 0;
  virtual void GiveDolls() = 0;

};

#endif
</code></pre><p><strong>&#x62BD;&#x8C61;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>GiveGift.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;GiveGift.h&quot;

GiveGift::GiveGift() {

}

GiveGift::~GiveGift() {
  
}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Proxy.h&quot;
#include &quot;ConcreteGirl.h&quot;

int main() {

    shared_ptr&lt;ConcreteGirl&gt; girl = make_shared&lt;ConcreteGirl&gt;(&quot;Kiana&quot;);
    Proxy* proxy = new Proxy(girl.get());

    proxy-&gt;GiveFlow();
    proxy-&gt;GiveDolls();
    proxy-&gt;GiveChocolate();

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-11">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-11">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x80FD;&#x591F;&#x534F;&#x8C03;&#x8C03;&#x7528;&#x8005;&#x548C;&#x88AB;&#x8C03;&#x7528;&#x8005;, &#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x964D;&#x4F4E;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x8026;&#x5408;&#x5EA6;.</li>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x62BD;&#x8C61;&#x4E3B;&#x9898;&#x89D2;&#x8272;&#x8FDB;&#x884C;&#x7F16;&#x7A0B;, &#x589E;&#x52A0;&#x548C;&#x66F4;&#x6362;&#x4EE3;&#x7406;&#x7C7B;&#x65E0;&#x987B;&#x4FEE;&#x6539;&#x6E90;&#x4EE3;&#x7801;, &#x7B26;&#x5408;&#x5F00;&#x95ED;&#x539F;&#x5219;, &#x7CFB;&#x7EDF;&#x5177;&#x6709;&#x8F83;&#x597D;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x548C;&#x53EF;&#x6269;&#x5C55;&#x6027;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-11">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x7531;&#x4E8E;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x771F;&#x5B9E;&#x4E3B;&#x9898;&#x4E4B;&#x95F4;&#x589E;&#x52A0;&#x4E86;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;, &#x56E0;&#x6B64;&#x6709;&#x4E9B;&#x7C7B;&#x578B;&#x7684;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210;&#x8BF7;&#x6C42;&#x7684;&#x5904;&#x7406;&#x901F;&#x5EA6;&#x53D8;&#x6162;, &#x4F8B;&#x5982;&#x4FDD;&#x62A4;&#x4EE3;&#x7406;.</li>
<li>&#x5B9E;&#x73B0;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x5DE5;&#x4F5C;, &#x800C;&#x4E14;&#x6709;&#x4E9B;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#x8FC7;&#x7A0B;&#x8F83;&#x4E3A;&#x590D;&#x6742;, &#x4F8B;&#x5982;&#x8FDC;&#x7A0B;&#x4EE3;&#x7406;.</li>
</ul>
<h4 class="mume-header" id="%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F-%E5%92%8C-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F-%E7%9A%84%E5%BC%82%E5%90%8C">&#x4EE3;&#x7406;&#x6A21;&#x5F0F; &#x548C; &#x88C5;&#x9970;&#x6A21;&#x5F0F; &#x7684;&#x5F02;&#x540C;</h4>

<p>&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x548C;&#x88C5;&#x9970;&#x6A21;&#x5F0F;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x5F88;&#x76F8;&#x540C;, <strong>&#x4E3B;&#x8981;&#x4E0D;&#x540C;&#x70B9;&#x662F;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x5173;&#x6CE8;&#x4E0E;&#x88AB;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x884C;&#x4E3A;&#x7684;&#x63A7;&#x5236;, &#x7136;&#x800C;&#x88C5;&#x9970;&#x6A21;&#x5F0F;&#x5173;&#x6CE8;&#x4E8E;&#x5728;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0A;&#x52A8;&#x6001;&#x7684;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;</strong>.</p>
<p>&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x5BF9;&#x5BA2;&#x6237;&#x7AEF;&#x9690;&#x85CF;&#x88AB;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;, &#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x7684;&#x65F6;&#x5019;&#x5E38;&#x5E38;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x7C7B;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;, &#x5F53;&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x6A21;&#x5F0F;&#x7684;&#x65F6;&#x5019;, &#x5C06;&#x539F;&#x59CB;&#x5BF9;&#x8C61;&#x8F6C;&#x4E3A;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;&#x88C5;&#x9970;&#x8005;&#x7684;&#x6784;&#x9020;&#x5668;&#x4E2D;.</p>
<p><strong>&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x5F3A;&#x8C03;&#x7684;&#x662F;&#x9650;&#x5236;, &#x88C5;&#x9970;&#x6A21;&#x5F0F;&#x5F3A;&#x8C03;&#x7684;&#x662F;&#x589E;&#x5F3A;.</strong></p>
<hr>
<h3 class="mume-header" id="%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F">&#x6865;&#x63A5;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-12">&#x7B80;&#x4ECB;</h4>

<p>&#x6865;&#x63A5;&#x6A21;&#x5F0F;, &#x5C06;&#x62BD;&#x8C61;&#x90E8;&#x5206;&#x4E0E;&#x5B83;&#x7684;&#x5B9E;&#x73B0;&#x90E8;&#x5206;&#x5206;&#x79BB;&#x89E3;&#x8026;, &#x4F7F;&#x5F97;&#x4E8C;&#x8005;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x53D8;&#x5316;&#x800C;&#x4E92;&#x4E0D;&#x5F71;&#x54CD;. &#x5B83;&#x662F;&#x4E00;&#x79CD;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;, &#x53C8;&#x79F0; <strong>&#x67C4;&#x4F53;&#x6A21;&#x5F0F;</strong> &#x548C; <strong>&#x63A5;&#x53E3;&#x6A21;&#x5F0F;</strong>.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-12">&#x7ED3;&#x6784;</h4>

<p>&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x4E00;&#x822C;&#x6709;&#x4EE5;&#x4E0B;&#x4E3B;&#x8981;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x7C7B;(Abstraction)</strong></li>
<li><strong>&#x6269;&#x5145;&#x62BD;&#x8C61;&#x7C7B;(RefinedAbstraction)</strong></li>
<li><strong>&#x5B9E;&#x73B0;&#x7C7B;&#x63A5;&#x53E3;(Implementor)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x7C7B;(Concrete Implementor)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E7%B1%BB">&#x62BD;&#x8C61;&#x7C7B;</h5>

<p>&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x62BD;&#x8C61;&#x7C7B;&#x7684;&#x63A5;&#x53E3;, &#x5B83;&#x4E00;&#x822C;&#x662F;&#x62BD;&#x8C61;&#x7C7B;&#x800C;&#x4E0D;&#x662F;&#x63A5;&#x53E3;, &#x5176;&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A; Implementor&#xFF08;&#x5B9E;&#x73B0;&#x7C7B;&#x63A5;&#x53E3;&#xFF09;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x5E76;&#x53EF;&#x4EE5;&#x7EF4;&#x62A4;&#x8BE5;&#x5BF9;&#x8C61;, &#x5B83;&#x4E0E; Implementor &#x4E4B;&#x95F4;&#x5177;&#x6709;&#x5173;&#x8054;&#x5173;&#x7CFB;, &#x5B83;&#x65E2;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x62BD;&#x8C61;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;, &#x4E5F;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x5177;&#x4F53;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;.</p>
<h5 class="mume-header" id="%E6%89%A9%E5%85%85%E6%8A%BD%E8%B1%A1%E7%B1%BB">&#x6269;&#x5145;&#x62BD;&#x8C61;&#x7C7B;</h5>

<p>&#x6269;&#x5145;&#x7531; Abstraction &#x5B9A;&#x4E49;&#x7684;&#x63A5;&#x53E3;, &#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x5B83;&#x4E0D;&#x518D;&#x662F;&#x62BD;&#x8C61;&#x7C7B;&#x800C;&#x662F;&#x5177;&#x4F53;&#x7C7B;, &#x5B83;&#x5B9E;&#x73B0;&#x4E86;&#x5728; Abstraction &#x4E2D;&#x58F0;&#x660E;&#x7684;&#x62BD;&#x8C61;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;, &#x5728;RefinedAbstraction &#x4E2D;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x5728; Implementor &#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;.</p>
<h5 class="mume-header" id="%E5%AE%9E%E7%8E%B0%E7%B1%BB%E6%8E%A5%E5%8F%A3">&#x5B9E;&#x73B0;&#x7C7B;&#x63A5;&#x53E3;</h5>

<p>&#x5B9A;&#x4E49;&#x5B9E;&#x73B0;&#x7C7B;&#x7684;&#x63A5;&#x53E3;, &#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x4E0D;&#x4E00;&#x5B9A;&#x8981;&#x4E0E; Abstraction &#x7684;&#x63A5;&#x53E3;&#x5B8C;&#x5168;&#x4E00;&#x81F4;, &#x4E8B;&#x5B9E;&#x4E0A;&#x8FD9;&#x4E24;&#x4E2A;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x5B8C;&#x5168;&#x4E0D;&#x540C;, &#x4E00;&#x822C;&#x800C;&#x8A00;, Implementor &#x63A5;&#x53E3;&#x4EC5;&#x63D0;&#x4F9B;&#x57FA;&#x672C;&#x64CD;&#x4F5C;, &#x800C; Abstraction &#x5B9A;&#x4E49;&#x7684;&#x63A5;&#x53E3;&#x53EF;&#x80FD;&#x4F1A;&#x505A;&#x66F4;&#x591A;&#x66F4;&#x590D;&#x6742;&#x7684;&#x64CD;&#x4F5C;. Implementor &#x63A5;&#x53E3;&#x5BF9;&#x8FD9;&#x4E9B;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x4E86;&#x58F0;&#x660E;, &#x800C;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x4EA4;&#x7ED9;&#x5176;&#x5B50;&#x7C7B;. &#x901A;&#x8FC7;&#x5173;&#x8054;&#x5173;&#x7CFB;, &#x5728; Abstraction &#x4E2D;&#x4E0D;&#x4EC5;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x65B9;&#x6CD5;, &#x8FD8;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x5230; Implementor &#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x65B9;&#x6CD5;, &#x4F7F;&#x7528;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x6765;&#x66FF;&#x4EE3;&#x7EE7;&#x627F;&#x5173;&#x7CFB;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E7%B1%BB">&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x7C7B;</h5>

<p>&#x5177;&#x4F53;&#x5B9E;&#x73B0; Implemento &#x63A5;&#x53E3;, &#x5728;&#x4E0D;&#x540C;&#x7684; Concrete Implementor &#x4E2D;&#x63D0;&#x4F9B;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x7684;&#x4E0D;&#x540C;&#x5B9E;&#x73B0;, &#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;, Concrete Implementor&#x5BF9;&#x8C61;&#x5C06;&#x66FF;&#x6362;&#x5176;&#x7236;&#x7C7B;&#x5BF9;&#x8C61;, &#x63D0;&#x4F9B;&#x7ED9;&#x62BD;&#x8C61;&#x7C7B;&#x5177;&#x4F53;&#x7684;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-12">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x5F53;&#x5BF9;&#x8C61;&#x5B58;&#x5728;&#x591A;&#x79CD;&#x53D8;&#x5316;&#x7684;&#x56E0;&#x7D20;&#x65F6;, &#x8003;&#x8651;&#x5BF9;&#x5176;&#x53D8;&#x5316;&#x7684;&#x56E0;&#x7D20;&#x548C;&#x573A;&#x666F;&#x8FDB;&#x884C;&#x62BD;&#x8C61;, &#x7136;&#x540E;&#x8FDB;&#x884C;&#x6865;&#x63A5;; &#x5982;&#x7B14;&#x62E5;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x529F;&#x80FD;.</li>
<li>&#x5F53;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x5B58;&#x5728;&#x591A;&#x79CD;&#x53D8;&#x5316;&#x7684;&#x56E0;&#x7D20;&#x65F6;, &#x8003;&#x8651;&#x5C06;&#x8FD9;&#x90E8;&#x5206;&#x53D8;&#x5316;&#x7684;&#x90E8;&#x5206;&#x62BD;&#x8C61;&#x51FA;&#x6765;&#x518D;&#x805A;&#x5408;&#x8FDB;&#x6765;; &#x6BD4;&#x5982;&#x4E0D;&#x540C;&#x54C1;&#x724C;&#x7684;&#x7535;&#x8111;&#x5B89;&#x88C5;&#x4E0D;&#x540C;&#x7684;&#x7CFB;&#x7EDF;, &#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x8F6F;&#x4EF6;&#x7B49;, &#x76F8;&#x5F53;&#x4E8E;&#x5C06;&#x7B2C;&#x4E00;&#x6761;&#x8FDB;&#x884C;&#x6A2A;&#x5411;&#x6269;&#x5C55;, &#x589E;&#x52A0;&#x6865;&#x63A5;&#x7684;&#x6570;&#x91CF;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-12">&#x5B9E;&#x4F8B;</h4>

<p>&#x8BBE;&#x60F3;&#x5982;&#x679C;&#x8981;&#x7ED8;&#x5236;&#x77E9;&#x5F62;, &#x4E09;&#x89D2;&#x5F62;, &#x6211;&#x4EEC;&#x81F3;&#x5C11;&#x9700;&#x8981;2&#x4E2A;&#x5F62;&#x72B6;&#x7C7B;, &#x5982;&#x679C;&#x7ED8;&#x5236;&#x7684;&#x56FE;&#x5F62;&#x8FD8;&#x9700;&#x8981;&#x4E0D;&#x540C;&#x7684;&#x989C;&#x8272;.<br>
&#x7B2C;&#x4E00;&#x79CD;&#x505A;&#x6CD5;: &#x6BCF;&#x4E00;&#x79CD;&#x5F62;&#x72B6;&#x90FD;&#x63D0;&#x4F9B;&#x4E00;&#x5957;&#x5404;&#x79CD;&#x989C;&#x8272;&#x7684;&#x7248;&#x672C;.<br>
&#x7B2C;&#x4E8C;&#x79CD;&#x505A;&#x6CD5;: &#x6839;&#x636E;&#x5B9E;&#x9645;&#x9700;&#x8981;&#x5BF9;&#x5F62;&#x72B6;&#x548C;&#x989C;&#x8272;&#x8FDB;&#x884C;&#x7EC4;&#x5408;.<br>
&#x660E;&#x663E;&#x7B2C;&#x4E8C;&#x79CD;&#x505A;&#x6CD5;&#x91C7;&#x7528;&#x805A;&#x5408;&#x7684;&#x65B9;&#x5F0F;&#x7EC4;&#x7EC7;&#x7C7B;&#x7ED3;&#x6784;&#x80FD;&#x591F;&#x4F7F;&#x7C7B;&#x7684;&#x6570;&#x91CF;&#x51CF;&#x5C11;&#x5F88;&#x591A;<br>
<strong>&#x62BD;&#x8C61;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Color.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _COLOR_H_  
#define _COLOR_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class Color {

public:

  Color() {}
  virtual ~Color() {}

  virtual string Name() = 0;

protected:

  string m_Name;

};

class Black: public Color {

public:

  Black();
  virtual ~Black();

  virtual string Name();

};

class Red: public Color {

public:

  Red();
  virtual ~Red();
  virtual string Name();

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Color.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Color.h&quot;

Black::Black() {

  m_Name = &quot;Black&quot;;

}

Black::~Black() {

}

string Black::Name() {

  return m_Name;

}

Red::Red() {

  m_Name = &quot;Red&quot;;

}

Red::~Red() {

}

string Red::Name() {

  return m_Name;

}
</code></pre><p><strong>&#x5B9E;&#x73B0;&#x7C7B;&#x63A5;&#x53E3;/&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Shape.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _SHAPE_H_
#define _SHAPE_H_

#include &quot;Color.h&quot;

class Shape {

public:

  Shape() {}
  virtual ~Shape() {}

  void SetColor(Color* color);
  virtual void MyShape() = 0;

protected:

  Color* m_Color;

};

class Rectangle: public Shape {

public:

  Rectangle();
  ~Rectangle();

  virtual void MyShape();

};

class Circle: public Shape {

public:

  Circle();
  ~Circle();

  virtual void MyShape();

};

#endif
</code></pre><p><strong>&#x5B9E;&#x73B0;&#x7C7B;&#x63A5;&#x53E3;/&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Shape.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Shape.h&quot;

void Shape::SetColor(Color* color) {

  m_Color = color;

}

Rectangle::Rectangle() {

}

Rectangle::~Rectangle() {

}

void Rectangle::MyShape() {

  cout &lt;&lt; &quot;Rectangle And &quot; + m_Color-&gt;Name() &lt;&lt; endl; 

}

Circle::Circle() {

}

Circle::~Circle() {

}

void Circle::MyShape() {

  cout &lt;&lt; &quot;Circle And &quot; + m_Color-&gt;Name() &lt;&lt; endl;

}
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Shape.h&quot;
#include &quot;Color.h&quot;

#define DELETEOBJECT(x) if (x != nullptr) {delete x; x = nullptr;}

int main() {

  Color* red = new Red();
  Color* black = new Black();

  Shape* rectangle = new Rectangle();
  rectangle-&gt;SetColor(red);

  Shape* circle = new Circle();
  circle-&gt;SetColor(black);

  rectangle-&gt;MyShape();
  circle-&gt;MyShape();

  DELETEOBJECT(red);
  DELETEOBJECT(black);
  DELETEOBJECT(rectangle);
  DELETEOBJECT(circle);

  return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-12">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-12">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x5206;&#x79BB;&#x62BD;&#x8C61;&#x63A5;&#x53E3;&#x53CA;&#x5176;&#x5B9E;&#x73B0;&#x90E8;&#x5206;. &#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x4F7F;&#x7528; &quot;&#x5BF9;&#x8C61;&#x95F4;&#x7684;&#x5173;&#x8054;&#x5173;&#x7CFB;&quot; &#x89E3;&#x8026;&#x4E86;&#x62BD;&#x8C61;&#x548C;&#x5B9E;&#x73B0;&#x4E4B;&#x95F4;&#x56FA;&#x6709;&#x7684;&#x7ED1;&#x5B9A;&#x5173;&#x7CFB;, &#x4F7F;&#x5F97;&#x62BD;&#x8C61;&#x548C;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x6CBF;&#x7740;&#x5404;&#x81EA;&#x7684;&#x7EF4;&#x5EA6;&#x6765;&#x53D8;&#x5316;. &#x6240;&#x8C13;&#x62BD;&#x8C61;&#x548C;&#x5B9E;&#x73B0;&#x6CBF;&#x7740;&#x5404;&#x81EA;&#x7EF4;&#x5EA6;&#x7684;&#x53D8;&#x5316;, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x62BD;&#x8C61;&#x548C;&#x5B9E;&#x73B0;&#x4E0D;&#x518D;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x7EE7;&#x627F;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x4E2D;, &#x800C;&#x662F; &quot;&#x5B50;&#x7C7B;&#x5316;&quot; &#x5B83;&#x4EEC;, &#x4F7F;&#x5B83;&#x4EEC;&#x5404;&#x81EA;&#x90FD;&#x5177;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x5B50;&#x7C7B;, &#x4EE5;&#x4FBF;&#x4EFB;&#x4F55;&#x7EC4;&#x5408;&#x5B50;&#x7C7B;, &#x4ECE;&#x800C;&#x83B7;&#x5F97;&#x591A;&#x7EF4;&#x5EA6;&#x7EC4;&#x5408;&#x5BF9;&#x8C61;.</li>
<li>&#x5728;&#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;, &#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x53D6;&#x4EE3;&#x591A;&#x5C42;&#x7EE7;&#x627F;&#x65B9;&#x6848;, &#x591A;&#x5C42;&#x7EE7;&#x627F;&#x65B9;&#x6848;&#x8FDD;&#x80CC; &quot;&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;&quot;, &#x590D;&#x7528;&#x6027;&#x8F83;&#x5DEE;, &#x4E14;&#x7C7B;&#x7684;&#x4E2A;&#x6570;&#x975E;&#x5E38;&#x591A;, &#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x662F;&#x6BD4;&#x591A;&#x5C42;&#x7EE7;&#x627F;&#x65B9;&#x6848;&#x66F4;&#x597D;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;, &#x5B83;&#x6781;&#x5927;&#x51CF;&#x5C11;&#x4E86;&#x5B50;&#x7C7B;&#x7684;&#x4E2A;&#x6570;.</li>
<li>&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x63D0;&#x9AD8;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x53EF;&#x6269;&#x5C55;&#x6027;, &#x5728;&#x4E24;&#x4E2A;&#x53D8;&#x5316;&#x7EF4;&#x5EA6;&#x4E2D;&#x4EFB;&#x610F;&#x6269;&#x5C55;&#x4E00;&#x4E2A;&#x7EF4;&#x5EA6;, &#x90FD;&#x4E0D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x539F;&#x6709;&#x7CFB;&#x7EDF;, &#x7B26;&#x5408; &quot;&#x5F00;&#x95ED;&#x539F;&#x5219;&quot;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-12">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x7684;&#x4F7F;&#x7528;&#x4F1A;&#x589E;&#x52A0;&#x7CFB;&#x7EDF;&#x7684;&#x7406;&#x89E3;&#x4E0E;&#x8BBE;&#x8BA1;&#x96BE;&#x5EA6;, &#x7531;&#x4E8E;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x5EFA;&#x7ACB;&#x5728;&#x62BD;&#x8C61;&#x5C42;, &#x8981;&#x6C42;&#x5F00;&#x53D1;&#x8005;&#x4E00;&#x5F00;&#x59CB;&#x5C31;&#x9488;&#x5BF9;&#x62BD;&#x8C61;&#x5C42;&#x8FDB;&#x884C;&#x8BBE;&#x8BA1;&#x4E0E;&#x7F16;&#x7A0B;.</li>
<li>&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x8981;&#x6C42;&#x6B63;&#x786E;&#x8BC6;&#x522B;&#x51FA;&#x7CFB;&#x7EDF;&#x4E2D;&#x4E24;&#x4E2A;&#x72EC;&#x7ACB;&#x53D8;&#x5316;&#x7684;&#x7EF4;&#x5EA6;, &#x56E0;&#x6B64;&#x5176;&#x4F7F;&#x7528;&#x8303;&#x56F4;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5C40;&#x9650;&#x6027;, &#x5982;&#x4F55;&#x6B63;&#x786E;&#x8BC6;&#x522B;&#x4E24;&#x4E2A;&#x72EC;&#x7ACB;&#x7EF4;&#x5EA6;&#x4E5F;&#x9700;&#x8981;&#x4E00;&#x5B9A;&#x7684;&#x7ECF;&#x9A8C;&#x79EF;&#x7D2F;.</li>
</ul>
<h4 class="mume-header" id="%E8%A3%85%E9%A5%B0-%E6%A1%A5%E6%8E%A5-%E5%92%8C-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-%E7%9A%84%E5%BC%82%E5%90%8C">&#x88C5;&#x9970;, &#x6865;&#x63A5; &#x548C; &#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F; &#x7684;&#x5F02;&#x540C;</h4>

<p>&#x4E09;&#x8005;&#x90FD;&#x662F;&#x7ED3;&#x6784;&#x578B;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;, &#x800C;&#x4E14;&#x90FD;&#x5B58;&#x5728;&#x4F9D;&#x8D56;&#x62BD;&#x8C61;&#x7684;&#x60C5;&#x51B5;.</p>
<p><strong>&#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F;:</strong><br>
&#x91CD;&#x70B9;&#x5F3A;&#x8C03;&#x7684;&#x662F;<strong>&#x9002;&#x914D;&#x7684;&#x529F;&#x80FD;</strong>. (&#x9002;&#x914D;&#x5668;&#x4F9D;&#x8D56;&#x62BD;&#x8C61;)<br>
&#x5173;&#x952E;&#x70B9;&#x662F;:</p>
<ul>
<li>&#x4E3B;&#x4F53;&#x7C7B;&#x548C;&#x9002;&#x914D;&#x5668;&#x7C7B;&#x5B9E;&#x73B0;&#x76F8;&#x540C;&#x7684;&#x63A5;&#x53E3;A</li>
<li>&#x4E3B;&#x4F53;&#x7C7B;&#x4F9D;&#x8D56;&#x9002;&#x914D;&#x5668;&#x7C7B;</li>
<li>&#x9002;&#x914D;&#x5668;&#x7C7B;&#x4F9D;&#x8D56;&#x62BD;&#x8C61;&#x63A5;&#x53E3;B</li>
<li>&#x88AB;&#x9002;&#x914D;&#x7684;&#x7C7B;&#x5B9E;&#x73B0;&#x62BD;&#x8C61;&#x63A5;&#x53E3;B</li>
</ul>
<p>&#x6700;&#x7EC8;&#x7684;&#x6548;&#x679C;&#x5C31;&#x662F;, &#x4E3B;&#x4F53;&#x7C7B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x4E0D;&#x76F8;&#x5173;&#x7684;&#x88AB;&#x9002;&#x914D;&#x7C7B;&#x4E2D;&#x7684;&#x67D0;&#x4E9B;&#x529F;&#x80FD;.</p>
<p><strong>&#x6865;&#x63A5;&#x6A21;&#x5F0F;:</strong><br>
&#x91CD;&#x70B9;&#x5F3A;&#x8C03;&#x7684;&#x662F;<strong>&#x591A;&#x7EF4;&#x5EA6;&#x7684;&#x53D8;&#x5316;</strong>. (&#x4E3B;&#x4F53;&#x7C7B;&#x76F4;&#x63A5;&#x4F9D;&#x8D56;&#x62BD;&#x8C61;)<br>
&#x5173;&#x952E;&#x70B9;:</p>
<ul>
<li>&#x4E3B;&#x4F53;&#x7C7B;&#x4F9D;&#x8D56;&#x62BD;&#x8C61;A</li>
<li>&#x4E3B;&#x4F53;&#x7C7B;&#x5177;&#x6709;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;</li>
<li>&#x62BD;&#x8C61;A&#x5177;&#x6709;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;</li>
</ul>
<p>&#x6700;&#x7EC8;&#x7684;&#x6548;&#x679C;&#x5C31;&#x662F;, &#x4E3B;&#x4F53;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x548C;&#x62BD;&#x8C61;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x5206;&#x522B;&#x53EF;&#x4EE5;&#x5728;&#x4E24;&#x4E2A;&#x7EF4;&#x5EA6;&#x4E0A;&#x8FDB;&#x884C;&#x5404;&#x81EA;&#x7684;&#x53D8;&#x5316;. &#x5982;&#x679C;&#x4E3B;&#x4F53;&#x7C7B;&#x4F9D;&#x8D56;&#x591A;&#x4E2A;&#x62BD;&#x8C61;, &#x5219;&#x7EF4;&#x5EA6;&#x8FDB;&#x884C;&#x589E;&#x52A0;, &#x65B9;&#x4FBF;&#x6269;&#x5C55;.</p>
<p><strong>&#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F;:</strong><br>
&#x91CD;&#x70B9;&#x5F3A;&#x8C03;&#x7684;&#x662F;&#x88C5;&#x9970;&#x529F;&#x80FD;. (&#x4E3B;&#x4F53;&#x7C7B;&#x4E0D;&#x4EC5;&#x4F9D;&#x8D56;&#x62BD;&#x8C61;, &#x800C;&#x4E14;&#x5B9E;&#x73B0;&#x8BE5;&#x62BD;&#x8C61;&#x63A5;&#x53E3;)<br>
&#x5173;&#x952E;&#x70B9;:</p>
<ul>
<li>&#x62BD;&#x8C61;A&#x5177;&#x6709;&#x591A;&#x4E2A;&#x5177;&#x4F53;&#x5B50;&#x7C7B;</li>
<li>&#x88C5;&#x9970;&#x5668;&#x7C7B;&#x4F9D;&#x8D56;&#x62BD;&#x8C61;A</li>
<li>&#x88C5;&#x9970;&#x5668;&#x7C7B;&#x5B9E;&#x73B0;&#x62BD;&#x8C61;A</li>
<li>&#x88C5;&#x9970;&#x5668;&#x7C7B;&#x5B58;&#x5728;&#x4E0D;&#x540C;&#x5B50;&#x7C7B;</li>
</ul>
<p>&#x6700;&#x7EC8;&#x7684;&#x6548;&#x679C;&#x5C31;&#x662F;, &#x88C5;&#x9970;&#x5668;&#x5B9E;&#x73B0;&#x7C7B; &#x5BF9; &#x539F;&#x62BD;&#x8C61;&#x7684;&#x5B50;&#x7C7B; &#x8FDB;&#x884C;&#x67D0;&#x4E9B;&#x65B9;&#x6CD5;&#x7684;&#x529F;&#x80FD;&#x52A0;&#x5F3A;.</p>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-3">&#x603B;&#x7ED3;</h4>

<p>&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x6709;&#x7528;&#x7684;&#x6A21;&#x5F0F;, &#x5728;&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x4E2D;&#x4F53;&#x73B0;&#x4E86;&#x5F88;&#x591A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8BBE;&#x8BA1;&#x539F;&#x5219;&#x7684;&#x601D;&#x60F3;, &#x5305;&#x62EC; &quot;&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;&quot;, &quot;&#x5F00;&#x95ED;&#x539F;&#x5219;&quot;, &quot;&#x5408;&#x6210;&#x590D;&#x7528;&#x539F;&#x5219;&quot;, &quot;&#x91CC;&#x6C0F;&#x4EE3;&#x6362;&#x539F;&#x5219;&quot;, &quot;&#x4F9D;&#x8D56;&#x5012;&#x8F6C;&#x539F;&#x5219;&quot;&#x7B49;. &#x719F;&#x6089;&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x6709;&#x52A9;&#x4E8E;&#x6211;&#x4EEC;&#x6DF1;&#x5165;&#x7406;&#x89E3;&#x8FD9;&#x4E9B;&#x8BBE;&#x8BA1;&#x539F;&#x5219;, &#x4E5F;&#x6709;&#x52A9;&#x4E8E;&#x6211;&#x4EEC;&#x5F62;&#x6210;&#x6B63;&#x786E;&#x7684;&#x8BBE;&#x8BA1;&#x601D;&#x60F3;&#x548C;&#x57F9;&#x517B;&#x826F;&#x597D;&#x7684;&#x8BBE;&#x8BA1;&#x98CE;&#x683C;.</p>
<hr>
<h2 class="mume-header" id="%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F">&#x884C;&#x4E3A;&#x578B;&#x6A21;&#x5F0F;</h2>

<p>&#x884C;&#x4E3A;&#x578B;&#x6A21;&#x5F0F;&#x7279;&#x522B;&#x5173;&#x6CE8;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;, &#x884C;&#x4E3A;&#x578B;&#x6A21;&#x5F0F;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;<strong>11</strong>&#x79CD;:</p>
<ul>
<li><strong>&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;</strong> (<em><strong>Iterator Pattern</strong></em>)</li>
<li><strong>&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;</strong> (<em><strong>Template Pattern</strong></em>)</li>
<li><strong>&#x7B56;&#x7565;&#x6A21;&#x5F0F;</strong> (<em><strong>Strategy Pattern</strong></em>)</li>
<li><strong>&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;</strong> (<em><strong>Visitor Pattern</strong></em>)</li>
<li><strong>&#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;</strong> (<em><strong>Chain of Responsibility Pattern</strong></em>)</li>
<li><strong>&#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F;</strong> (<em><strong>Mediator Pattern</strong></em>)</li>
<li><strong>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;</strong> (<em><strong>Observer Pattern</strong></em>)</li>
<li><strong>&#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;</strong> (<em><strong>Memento Pattern</strong></em>)</li>
<li><strong>&#x72B6;&#x6001;&#x6A21;&#x5F0F;</strong> (<em><strong>State Pattern</strong></em>)</li>
<li><strong>&#x547D;&#x4EE4;&#x6A21;&#x5F0F;</strong> (<em><strong>Command Pattern</strong></em>)</li>
<li><strong>&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;</strong> (<em><strong>Interpreter Pattern</strong></em>)</li>
</ul>
<h3 class="mume-header" id="%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F">&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-13">&#x7B80;&#x4ECB;</h4>

<p>&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;&#x662F;&#x9488;&#x5BF9;&#x96C6;&#x5408;&#x5BF9;&#x8C61;&#x800C;&#x751F;&#x7684;, &#x5BF9;&#x4E8E;&#x96C6;&#x5408;&#x5BF9;&#x8C61;&#x800C;&#x8A00;, &#x80AF;&#x5B9A;&#x4F1A;&#x6D89;&#x53CA;&#x5230;&#x5BF9;&#x96C6;&#x5408;&#x7684;&#x6DFB;&#x52A0;&#x548C;&#x5220;&#x9664;&#x64CD;&#x4F5C;, &#x540C;&#x65F6;&#x4E5F;&#x80AF;&#x5B9A;&#x652F;&#x6301;&#x904D;&#x5386;&#x96C6;&#x5408;&#x5143;&#x7D20;&#x7684;&#x64CD;&#x4F5C;, &#x6211;&#x4EEC;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x628A;&#x904D;&#x5386;&#x64CD;&#x4F5C;&#x653E;&#x5728;&#x96C6;&#x5408;&#x5BF9;&#x8C61;&#x4E2D;, &#x4F46;&#x8FD9;&#x6837;&#x7684;&#x8BDD;, &#x96C6;&#x5408;&#x5BF9;&#x8C61;&#x65E2;&#x627F;&#x62C5;&#x592A;&#x591A;&#x7684;&#x8D23;&#x4EFB;&#x4E86;, &#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8BBE;&#x8BA1;&#x539F;&#x5219;&#x4E2D;&#x6709;&#x4E00;&#x6761;&#x5C31;&#x662F;&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;, &#x6240;&#x6709;&#x6211;&#x4EEC;&#x8981;&#x5C3D;&#x53EF;&#x80FD;&#x5730;&#x5206;&#x79BB;&#x8FD9;&#x4E9B;&#x804C;&#x8D23;, &#x7528;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x53D6;&#x627F;&#x62C5;&#x4E0D;&#x540C;&#x7684;&#x8D23;&#x4EFB;, &#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;&#x5C31;&#x662F;&#x7528;&#x8FED;&#x4EE3;&#x5668;&#x7C7B;&#x6765;&#x627F;&#x62C5;&#x904D;&#x5386;&#x96C6;&#x5408;&#x7684;&#x804C;&#x8D23;.</p>
<p>&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x987A;&#x5E8F;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x5143;&#x7D20;, &#x800C;&#x53C8;&#x65E0;&#x9700;&#x66B4;&#x9732;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x90E8;&#x5B9E;&#x73B0;, &#x8FD9;&#x6837;&#x65E2;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x4E0D;&#x66B4;&#x9732;&#x96C6;&#x5408;&#x7684;&#x5185;&#x90E8;&#x7ED3;&#x6784;, &#x53C8;&#x53EF;&#x8BA9;&#x5916;&#x90E8;&#x4EE3;&#x7801;&#x900F;&#x660E;&#x5730;&#x8BBF;&#x95EE;&#x96C6;&#x5408;&#x5185;&#x90E8;&#x7684;&#x6570;&#x636E;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-13">&#x7ED3;&#x6784;</h4>

<p>&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x5BB9;&#x5668;&#x89D2;&#x8272;(Agregate)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x5BB9;&#x5668;&#x89D2;&#x8272;(Concrete Aggregate)</strong></li>
<li><strong>&#x62BD;&#x8C61;&#x8FED;&#x4EE3;&#x5668;&#x89D2;&#x8272;(Iterator)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x8FED;&#x4EE3;&#x5668;&#x89D2;&#x8272;(Concrete Iterator)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E5%AE%B9%E5%99%A8%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x5BB9;&#x5668;&#x89D2;&#x8272;</h5>

<p>&#x8D1F;&#x8D23;&#x63D0;&#x4F9B;&#x521B;&#x5EFA;&#x5177;&#x4F53;&#x8FED;&#x4EE3;&#x5668;&#x89D2;&#x8272;&#x7684;&#x63A5;&#x53E3;, &#x4E00;&#x822C;&#x662F;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;, &#x63D0;&#x4F9B;&#x4E00;&#x4E2A; <em><strong>iterator</strong></em> ()&#x65B9;&#x6CD5;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E5%AE%B9%E5%99%A8%E8%A7%92%E8%89%B2">&#x5177;&#x4F53;&#x5BB9;&#x5668;&#x89D2;&#x8272;</h5>

<p>&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x62BD;&#x8C61;&#x5BB9;&#x5668;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x7C7B;.</p>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x8FED;&#x4EE3;&#x5668;&#x89D2;&#x8272;</h5>

<p>&#x8D1F;&#x8D23;&#x5B9A;&#x4E49;&#x8BBF;&#x95EE;&#x548C;&#x904D;&#x5386;&#x5143;&#x7D20;&#x7684;&#x63A5;&#x53E3;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%A7%92%E8%89%B2">&#x5177;&#x4F53;&#x8FED;&#x4EE3;&#x5668;&#x89D2;&#x8272;</h5>

<p>&#x5B9E;&#x73B0;&#x8FED;&#x4EE3;&#x5668;&#x63A5;&#x53E3;, &#x5E76;&#x8981;&#x8BB0;&#x5F55;&#x904D;&#x5386;&#x4E2D;&#x7684;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-13">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5BB9;&#x800C;&#x65E0;&#x9700;&#x66B4;&#x9732;&#x5B83;&#x7684;&#x5185;&#x90E8;&#x8868;&#x793A;.</li>
<li>&#x4E3A;&#x904D;&#x5386;&#x4E0D;&#x540C;&#x7684;&#x96C6;&#x5408;&#x7ED3;&#x6784;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7EDF;&#x4E00;&#x7684;&#x63A5;&#x53E3;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-13">&#x5B9E;&#x4F8B;</h4>

<p><strong>&#x62BD;&#x8C61;&#x5BB9;&#x5668;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Aggregate.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _AGGREGATE_H_
#define _AGGREGATE_H_

#include &lt;bits/stdc++.h&gt;
using namespace std;

class Aggregate {

public:

  Aggregate();
  virtual ~Aggregate();

  virtual int Count() = 0;
  virtual string&amp; operator [](int i) = 0;

  void insert(string obj);

protected:

  vector&lt;string&gt; m_Vec;

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x5BB9;&#x5668;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Aggregate.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Aggregate.h&quot;

Aggregate::Aggregate() {

}

Aggregate::~Aggregate() {

}

void Aggregate::insert(string obj) {

  m_Vec.push_back(obj);

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5BB9;&#x5668;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ConcreteAggregate.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CONCRETEAGGREGATE_H_
#define _CONCRETEAGGREGATE_H_

#include &quot;Iterator.h&quot;

class ConcreteAggregate: public Aggregate {

public:

  ConcreteAggregate();
  int Count() override;
  string &amp;operator[](int i) override;

private:

  Iterator* m_Iterator;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5BB9;&#x5668;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ConcreteAggregate.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteAggregate.h&quot;

ConcreteAggregate::ConcreteAggregate() {

}

int ConcreteAggregate::Count() {

  return static_cast&lt;int&gt;(m_Vec.size());

}

string&amp; ConcreteAggregate::operator[](int i) {

  return m_Vec[size_t(i)];

}  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x8FED;&#x4EE3;&#x5668;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Iterator.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteAggregate.h&quot;

ConcreteAggregate::ConcreteAggregate() {

}

int ConcreteAggregate::Count() {

  return static_cast&lt;int&gt;(m_Vec.size());

}

string&amp; ConcreteAggregate::operator[](int i) {

  return m_Vec[size_t(i)];

}  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x8FED;&#x4EE3;&#x5668;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Iterator.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Iterator.h&quot;

Iterator::Iterator(Aggregate* aggregate)
        : m_Aggregate(aggregate) {

}

Iterator::~Iterator() {
  
}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x8FED;&#x4EE3;&#x5668;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ConcreteIterator.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CONCRETEITERATOR_H_
#define _CONCRETEITERATOR_H_

#include &quot;Iterator.h&quot;
#include &quot;Aggregate.h&quot;

class ConcreteIterator: public Iterator {

public:

  ConcreteIterator(Aggregate* aggregate);
  string First() override;
  string Next() override;
  bool IsDone() override;
  string CurrentItem() override;

private:

  int m_CurrentIndex;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x8FED;&#x4EE3;&#x5668;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ConcreteIterator.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteIterator.h&quot;

ConcreteIterator::ConcreteIterator(Aggregate* aggregate)
                : Iterator(aggregate) {

  m_CurrentIndex = 0;

}

string ConcreteIterator::First() {

  return (*m_Aggregate)[0];

}

string ConcreteIterator::Next() {

  m_CurrentIndex++;

  if (m_CurrentIndex &lt; m_Aggregate-&gt;Count()) {

      return (*m_Aggregate)[m_CurrentIndex];

  }else {

      return &quot;&quot;;

  }

}

bool ConcreteIterator::IsDone() {

  return (m_CurrentIndex &gt;= m_Aggregate-&gt;Count())? true: false;

}

string ConcreteIterator::CurrentItem() {

  return (*m_Aggregate)[m_CurrentIndex];

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteAggregate.h&quot;
#include &quot;ConcreteIterator.h&quot;

int main() {

  Aggregate* agt = new ConcreteAggregate();
  agt-&gt;insert(&quot;Kiana&quot;);
  agt-&gt;insert(&quot;Asuna&quot;);
  agt-&gt;insert(&quot;Orange&quot;);

  Iterator* i = new ConcreteIterator(agt);

  while (!i-&gt;IsDone()) {

    cout &lt;&lt; i-&gt;CurrentItem() &lt;&lt; &quot; &#x8BF7;&#x51FA;&#x793A;&#x60A8;&#x7684;&#x8F66;&#x7968;!&quot; &lt;&lt; endl;
    i-&gt;Next();

  }

  return 0;
  
}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-13">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-13">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;&#x4F7F;&#x5F97;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5BB9;&#x800C;&#x65E0;&#x9700;&#x66B4;&#x9732;&#x5B83;&#x7684;&#x5185;&#x90E8;&#x8868;&#x793A;, &#x5373;&#x8FED;&#x4EE3;&#x62BD;&#x8C61;.</li>
<li>&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;&#x4E3A;&#x904D;&#x5386;&#x4E0D;&#x540C;&#x7684;&#x96C6;&#x5408;&#x7ED3;&#x6784;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x7EDF;&#x4E00;&#x7684;&#x63A5;&#x53E3;, &#x4ECE;&#x800C;&#x652F;&#x6301;&#x540C;&#x6837;&#x7684;&#x7B97;&#x6CD5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x96C6;&#x5408;&#x7ED3;&#x6784;&#x4E0A;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-13">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;&#x5728;&#x904D;&#x5386;&#x7684;&#x540C;&#x65F6;&#x66F4;&#x6539;&#x8FED;&#x4EE3;&#x5668;&#x6240;&#x5728;&#x7684;&#x96C6;&#x5408;&#x7ED3;&#x6784;&#x4F1A;&#x5BFC;&#x81F4;&#x51FA;&#x73B0;&#x5F02;&#x5E38;. &#x6240;&#x4EE5;&#x4F7F;&#x7528;foreach&#x8BED;&#x53E5;&#x53EA;&#x80FD;&#x5728;&#x5BF9;&#x96C6;&#x5408;&#x8FDB;&#x884C;&#x904D;&#x5386;, &#x4E0D;&#x80FD;&#x5728;&#x904D;&#x5386;&#x7684;&#x540C;&#x65F6;&#x66F4;&#x6539;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5143;&#x7D20;.</li>
</ul>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-4">&#x603B;&#x7ED3;</h4>

<p>&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F; &#x5C31;&#x662F;&#x62BD;&#x8C61;&#x4E00;&#x4E2A;&#x8FED;&#x4EE3;&#x5668;&#x7C7B;&#x6765;&#x5206;&#x79BB;&#x4E86;&#x96C6;&#x5408;&#x5BF9;&#x8C61;&#x7684;&#x904D;&#x5386;&#x884C;&#x4E3A;. &#x8FD9;&#x6837;&#x65E2;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x4E0D;&#x66B4;&#x9732;&#x96C6;&#x5408;&#x7684;&#x5185;&#x90E8;&#x7ED3;&#x6784;, &#x53C8;&#x53EF;&#x8BA9;&#x5916;&#x90E8;&#x4EE3;&#x7801;&#x900F;&#x660E;&#x5730;&#x8BBF;&#x95EE;&#x96C6;&#x5408;&#x5185;&#x90E8;&#x7684;&#x6570;&#x636E;.</p>
<hr>
<h3 class="mume-header" id="%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F">&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-14">&#x7B80;&#x4ECB;</h4>

<p>&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;, &#x5728;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x9AA8;&#x67B6;, &#x800C;&#x5C06;&#x4E00;&#x4E9B;&#x6B65;&#x9AA4;&#x7684;&#x5B9E;&#x73B0;&#x5EF6;&#x8FDF;&#x5230;&#x5B50;&#x7C7B;&#x4E2D;. &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x4F7F;&#x5F97;&#x5B50;&#x7C7B;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x6539;&#x53D8;&#x7B97;&#x6CD5;&#x7ED3;&#x6784;&#x7684;&#x60C5;&#x51B5;&#x4E0B;, &#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x7B97;&#x6CD5;&#x4E2D;&#x67D0;&#x4E9B;&#x6B65;&#x9AA4;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;.</p>
<p>&#x770B;&#x5230; &quot;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&quot; &#x8FD9;&#x56DB;&#x4E2A;&#x5B57;&#x6211;&#x4EEC;&#x5F80;&#x5F80;&#x4F1A;&#x89C9;&#x5F97;&#x9AD8;&#x6DF1;&#x83AB;&#x6D4B;, &#x4F46;&#x662F;&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x5374;&#x662F;&#x4E00;&#x4E2A;&#x4F8B;&#x5916;, &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x786E;&#x5B9E;&#x975E;&#x5E38;&#x7B80;&#x5355;, <strong>&#x4EC5;&#x4EC5;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x673A;&#x5236;</strong>, &#x4F46;&#x662F;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x975E;&#x5E38;&#x5E7F;&#x6CDB;&#x7684;&#x6A21;&#x5F0F;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-14">&#x7ED3;&#x6784;</h4>

<p>&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x6A21;&#x677F;&#x7C7B;(Abstract Class)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x6A21;&#x677F;&#x7C7B;(Concrete Class)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E6%A8%A1%E6%9D%BF%E7%B1%BB">&#x62BD;&#x8C61;&#x6A21;&#x677F;&#x7C7B;</h5>

<p>&#x5B9A;&#x4E49;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x6A21;&#x677F;&#x65B9;&#x6CD5;, &#x8FD9;&#x4E2A;&#x6A21;&#x677F;&#x4E00;&#x822C;&#x662F;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x65B9;&#x6CD5;, &#x5B83;&#x7ED9;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x9876;&#x7EA7;&#x903B;&#x8F91;&#x7684;&#x9AA8;&#x67B6;, &#x800C;&#x903B;&#x8F91;&#x7684;&#x7EC4;&#x6210;&#x6B65;&#x9AA4;&#x5728;&#x76F8;&#x5E94;&#x7684;&#x62BD;&#x8C61;&#x64CD;&#x4F5C;&#x4E2D;, &#x63A8;&#x8FDF;&#x5230;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E6%A8%A1%E6%9D%BF%E7%B1%BB">&#x5177;&#x4F53;&#x6A21;&#x677F;&#x7C7B;</h5>

<p>&#x5B9E;&#x73B0;&#x7236;&#x7C7B;&#x6240;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;, &#x6BCF;&#x4E00;&#x4E2A; AbstractClass &#x90FD;&#x53EF;&#x4EE5;&#x6709;&#x4EFB;&#x610F;&#x591A;&#x4E2A; ConcreteClass &#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;, &#x800C;&#x6BCF;&#x4E00;&#x4E2A; ConcreteClass &#x90FD;&#x53EF;&#x4EE5;&#x7ED9;&#x51FA;&#x8FD9;&#x4E9B;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x7684;&#x4E0D;&#x540C;&#x5B9E;&#x73B0;, &#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x9876;&#x7EA7;&#x903B;&#x8F91;&#x7684;&#x5B9E;&#x73B0;&#x5404;&#x4E0D;&#x76F8;&#x540C;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-14">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<p>&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x7B97;&#x6CD5;&#x7684;&#x9AA8;&#x67B6;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x65F6;&#x5019;, &#x800C;&#x7B97;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#x53EF;&#x80FD;&#x6709;&#x5F88;&#x591A;&#x79CD;&#x7684;&#x65F6;&#x5019;, &#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;.</p>
<ul>
<li>&#x591A;&#x4E2A;&#x5B50;&#x7C7B;&#x6709;&#x5171;&#x6709;&#x7684;&#x65B9;&#x6CD5;, &#x5E76;&#x4E14;&#x903B;&#x8F91;&#x57FA;&#x672C;&#x76F8;&#x540C;.</li>
<li>&#x91CD;&#x8981;, &#x590D;&#x6742;&#x7684;&#x7B97;&#x6CD5;, &#x53EF;&#x4EE5;&#x628A;&#x6838;&#x5FC3;&#x7B97;&#x6CD5;&#x8BBE;&#x8BA1;&#x4E3A;&#x6A21;&#x677F;&#x65B9;&#x6CD5;, &#x5468;&#x8FB9;&#x7684;&#x76F8;&#x5173;&#x7EC6;&#x8282;&#x529F;&#x80FD;&#x5219;&#x7531;&#x5404;&#x4E2A;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;.</li>
<li>&#x91CD;&#x6784;&#x65F6;, &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x662F;&#x4E00;&#x4E2A;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;, &#x628A;&#x76F8;&#x540C;&#x7684;&#x4EE3;&#x7801;&#x62BD;&#x53D6;&#x5230;&#x7236;&#x7C7B;&#x4E2D;, &#x7136;&#x540E;&#x901A;&#x8FC7;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7EA6;&#x675F;&#x5176;&#x884C;&#x4E3A;.</li>
</ul>
<p>&#x6BD4;&#x5982;: &#x9700;&#x8981;&#x505A;&#x4E00;&#x4E2A;&#x62A5;&#x8868;&#x6253;&#x5370;&#x7A0B;&#x5E8F;, &#x7528;&#x6237;&#x89C4;&#x5B9A;&#x9700;&#x8981;&#x8868;&#x5934;, &#x6B63;&#x6587;, &#x8868;&#x5C3E;. &#x4F46;&#x662F;&#x5BA2;&#x6237;&#x7684;&#x9700;&#x6C42;&#x4F1A;&#x53D8;&#x5316;, &#x4E00;&#x4F1A;&#x5E0C;&#x671B;&#x8FD9;&#x6837;&#x663E;&#x793A;&#x8868;&#x5934;, &#x4E00;&#x4F1A;&#x5E0C;&#x671B;&#x90A3;&#x6837;&#x663E;&#x793A;. &#x8FD9;&#x65F6;&#x5019;&#x91C7;&#x7528;&#x6A21;&#x677F;&#x65B9;&#x5F0F;&#x5C31;&#x5408;&#x9002;.</p>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-14">&#x5B9E;&#x4F8B;</h4>

<p><strong>&#x62BD;&#x8C61;&#x6A21;&#x677F;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>AbstractClass.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ABSTRACTCLASS_H_
#define _ABSTRACTCLASS_H_

#include &lt;bits/stdc++.h&gt;

class AbstractClass {

public:

  AbstractClass();
  virtual ~AbstractClass();

  void MethodA();
  virtual int MethodB(int a = 0, int b = 0);

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x6A21;&#x677F;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>AbstractClass.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;AbstractClass.h&quot;

AbstractClass::AbstractClass() {

}

AbstractClass::~AbstractClass() {

}

void AbstractClass::MethodA() {

    std::cout &lt;&lt; __FUNCTION__ &lt;&lt; &quot; Call method b : &quot; &lt;&lt; this-&gt;MethodB(5, 4) &lt;&lt; std::endl;

}

int AbstractClass::MethodB(int a, int b) {

    return a + b;

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x6A21;&#x677F;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ConcreteClassA.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ABSTRACTCLASSA_H_
#define _ABSTRACTCLASSA_H_

#include &quot;AbstractClass.h&quot;

class ConcreteClassA: public AbstractClass {

public:

  ConcreteClassA();
  int MethodB(int a = 0, int b = 0) override;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x6A21;&#x677F;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ConcreteClassB.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ABSTRACTCLASSB_H_
#define _ABSTRACTCLASSB_H_

#include &quot;AbstractClass.h&quot;

class ConcreteClassB: public AbstractClass {

public:

  ConcreteClassB();
  int MethodB(int a = 0, int b = 0) override;


};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x6A21;&#x677F;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ConcreteClassA.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteClassA.h&quot;

ConcreteClassA::ConcreteClassA() {

}

int ConcreteClassA::MethodB(int a, int b) {

    return a * b;

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x6A21;&#x677F;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ConcreteClassB.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteClassB.h&quot;

ConcreteClassB::ConcreteClassB() {

}

int ConcreteClassB::MethodB(int a, int b) {

    return a - b;

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteClassA.h&quot;
#include &quot;ConcreteClassB.h&quot;

int main() {

    ConcreteClassA* classA = new ConcreteClassA();
    ConcreteClassB* classB = new ConcreteClassB();

    classA-&gt;MethodA();
    classB-&gt;MethodA();

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-14">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-14">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x5C01;&#x88C5;&#x4E0D;&#x53D8;&#x90E8;&#x5206;, &#x6269;&#x5C55;&#x53EF;&#x53D8;&#x90E8;&#x5206;. &#x628A;&#x8BA4;&#x4E3A;&#x4E0D;&#x53D8;&#x90E8;&#x5206;&#x7684;&#x7B97;&#x6CD5;&#x5C01;&#x88C5;&#x5230;&#x7236;&#x7C7B;&#x4E2D;&#x5B9E;&#x73B0;, &#x800C;&#x53EF;&#x53D8;&#x90E8;&#x5206;&#x7684;&#x5219;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7EE7;&#x627F;&#x6765;&#x7EE7;&#x7EED;&#x6269;&#x5C55;.</li>
<li>&#x63D0;&#x53D6;&#x516C;&#x5171;&#x90E8;&#x5206;&#x4EE3;&#x7801;, &#x4FBF;&#x4E8E;&#x7EF4;&#x62A4;.</li>
<li>&#x884C;&#x4E3A;&#x7531;&#x7236;&#x7C7B;&#x63A7;&#x5236;, &#x5B50;&#x7C7B;&#x5B9E;&#x73B0;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-14">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x7B97;&#x6CD5;&#x9AA8;&#x67B6;&#x9700;&#x8981;&#x6539;&#x53D8;&#x65F6;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x62BD;&#x8C61;&#x7C7B;.</li>
<li>&#x6309;&#x7167;&#x8BBE;&#x8BA1;&#x4E60;&#x60EF;, &#x62BD;&#x8C61;&#x7C7B;&#x8D1F;&#x8D23;&#x58F0;&#x660E;&#x6700;&#x62BD;&#x8C61;, &#x6700;&#x4E00;&#x822C;&#x7684;&#x4E8B;&#x7269;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;, &#x5B9E;&#x73B0;&#x7C7B;&#x8D1F;&#x8D23;&#x5B8C;&#x6210;&#x5177;&#x4F53;&#x7684;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;, &#x4F46;&#x662F;&#x6A21;&#x677F;&#x65B9;&#x5F0F;&#x6B63;&#x597D;&#x76F8;&#x53CD;, &#x5B50;&#x7C7B;&#x6267;&#x884C;&#x7684;&#x7ED3;&#x679C;&#x5F71;&#x54CD;&#x4E86;&#x7236;&#x7C7B;&#x7684;&#x7ED3;&#x679C;, &#x4F1A;&#x589E;&#x52A0;&#x4EE3;&#x7801;&#x9605;&#x8BFB;&#x7684;&#x96BE;&#x5EA6;.</li>
</ul>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-5">&#x603B;&#x7ED3;</h4>

<p><strong>&#x91CD;&#x590D; = &#x6613;&#x9519; + &#x96BE;&#x6539;</strong>, &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x662F; <strong>&#x901A;&#x8FC7;&#x7236;&#x7C7B;&#x5EFA;&#x7ACB;&#x6846;&#x67B6;, &#x5B50;&#x7C7B;&#x5728;&#x91CD;&#x5199;&#x4E86;&#x7236;&#x7C7B;&#x90E8;&#x5206;&#x65B9;&#x6CD5;&#x4E4B;&#x540E;, &#x5728;&#x8C03;&#x7528;&#x4ECE;&#x7236;&#x7C7B;&#x7EE7;&#x627F;&#x7684;&#x65B9;&#x6CD5;, &#x4EA7;&#x751F;&#x4E0D;&#x540C;&#x7684;&#x6548;&#x679C;, &#x901A;&#x8FC7;&#x4FEE;&#x6539;&#x5B50;&#x7C7B;, &#x5F71;&#x54CD;&#x7236;&#x7C7B;&#x884C;&#x4E3A;&#x7684;&#x7ED3;&#x679C;</strong>. &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x5728;&#x4E00;&#x4E9B;&#x5F00;&#x6E90;&#x6846;&#x67B6;&#x4E2D;&#x5E94;&#x7528;&#x975E;&#x5E38;&#x591A;, &#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;, &#x7136;&#x540E;&#x5F00;&#x6E90;&#x6846;&#x67B6;&#x5199;&#x4E86;&#x4E00;&#x5806;&#x5B50;&#x7C7B;, &#x5982;&#x679C;&#x9700;&#x8981;&#x6269;&#x5C55;&#x529F;&#x80FD;, &#x53EF;&#x4EE5;&#x7EE7;&#x627F;&#x6B64;&#x62BD;&#x8C61;&#x7C7B;, &#x7136;&#x540E;&#x8986;&#x5199; protected &#x57FA;&#x672C;&#x65B9;&#x6CD5;, &#x7136;&#x540E;&#x5728;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C; <em><strong>TemplateMethod</strong></em>() &#x7684;&#x6A21;&#x677F;&#x65B9;&#x6CD5;, &#x5B8C;&#x6210;&#x6269;&#x5C55;&#x5F00;&#x53D1;.</p>
<hr>
<h3 class="mume-header" id="%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F">&#x7B56;&#x7565;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-15">&#x7B80;&#x4ECB;</h4>

<p>&#x7B56;&#x7565;&#x6A21;&#x5F0F;, <strong>&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7B97;&#x6CD5;, &#x5E76;&#x5C06;&#x6BCF;&#x4E2A;&#x7B97;&#x6CD5;&#x5C01;&#x88C5;&#x8D77;&#x6765;, &#x4F7F;&#x4ED6;&#x4EEC;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x66FF;&#x6362;, &#x4E14;&#x7B97;&#x6CD5;&#x7684;&#x53D8;&#x5316;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x4F7F;&#x7528;&#x7B97;&#x6CD5;&#x7684;&#x5BA2;&#x6237;.</strong> &#x9700;&#x8981;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;, &#x4E3A;&#x4E00;&#x7CFB;&#x5217;&#x5B9E;&#x73B0;&#x7C7B;&#x63D0;&#x4F9B;&#x7EDF;&#x4E00;&#x7684;&#x65B9;&#x6CD5;, &#x591A;&#x4E2A;&#x5B9E;&#x73B0;&#x7C7B;&#x5B9E;&#x73B0;&#x8BE5;&#x63A5;&#x53E3;, &#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;(&#x53EF;&#x6709;&#x53EF;&#x65E0;, &#x5C5E;&#x4E8E;&#x8F85;&#x52A9;&#x7C7B;), &#x63D0;&#x4F9B;&#x8F85;&#x52A9;&#x51FD;&#x6570;.</p>
<p>&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;&#x548C;&#x5C01;&#x88C5;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x7B97;&#x6CD5;, &#x5B83;&#x4EEC;&#x662F;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x66FF;&#x6362;&#x7684;, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5B83;&#x4EEC;&#x5177;&#x6709;&#x5171;&#x6027;, &#x800C;&#x5B83;&#x4EEC;&#x7684;&#x5171;&#x6027;&#x5C31;&#x4F53;&#x73B0;&#x5728;&#x7B56;&#x7565;&#x63A5;&#x53E3;&#x7684;&#x884C;&#x4E3A;&#x4E0A;, &#x53E6;&#x5916;&#x4E3A;&#x4E86;&#x8FBE;&#x5230;&#x6700;&#x540E;&#x4E00;&#x53E5;&#x8BDD;&#x7684;&#x76EE;&#x7684;, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x8BA9;&#x7B97;&#x6CD5;&#x72EC;&#x7ACB;&#x4E8E;&#x4F7F;&#x7528;&#x5B83;&#x7684;&#x5BA2;&#x6237;&#x800C;&#x72EC;&#x7ACB;&#x53D8;&#x5316;, &#x6211;&#x4EEC;&#x9700;&#x8981;&#x8BA9;&#x5BA2;&#x6237;&#x7AEF;&#x4F9D;&#x8D56;&#x4E8E;&#x7B56;&#x7565;&#x63A5;&#x53E3;.</p>
<p>&#x4E00;&#x79CD;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x89E3;&#x91CA;, &#x5728;&#x6211;&#x4EEC;&#x7684;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;, &#x7ECF;&#x5E38;&#x4F1A;&#x9047;&#x5230;&#x5927;&#x91CF;&#x7684; <strong>if - else</strong> &#x6216;&#x662F; <strong>switch - case</strong> &#x8BED;&#x53E5;, &#x5F53;&#x8FD9;&#x4E9B;&#x8BED;&#x53E5;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x8D77;&#x5230;&#x5206;&#x6D41;&#x4F5C;&#x7528;, &#x8FD9;&#x4E9B;&#x5206;&#x6D41;&#x548C;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x65E0;&#x5173;, &#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x7528;&#x7B56;&#x7565;&#x6A21;&#x5F0F;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-15">&#x7ED3;&#x6784;</h4>

<p>&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x4E0A;&#x4E0B;&#x6587;&#x73AF;&#x5883;&#x89D2;&#x8272;(Context)</strong></li>
<li><strong>&#x62BD;&#x8C61;&#x7B56;&#x7565;&#x89D2;&#x8272;(Strategy)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x7B56;&#x7565;&#x89D2;&#x8272;(Context Strategy)</strong></li>
</ul>
<h5 class="mume-header" id="%E4%B8%8A%E4%B8%8B%E6%96%87%E7%8E%AF%E5%A2%83%E8%A7%92%E8%89%B2">&#x4E0A;&#x4E0B;&#x6587;&#x73AF;&#x5883;&#x89D2;&#x8272;</h5>

<p>Context &#x4E0A;&#x4E0B;&#x6587;, &#x7528;&#x4E00;&#x4E2A; Context Strategy &#x6765;&#x914D;&#x7F6E;, &#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x5BF9; Strategy &#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;.</p>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E7%AD%96%E7%95%A5%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x7B56;&#x7565;&#x89D2;&#x8272;</h5>

<p>&#x7B56;&#x7565;&#x7C7B;, &#x5B9A;&#x4E49;&#x6240;&#x6709;&#x652F;&#x6301;&#x7684;&#x7B97;&#x6CD5;&#x7684;&#x516C;&#x5171;&#x63A5;&#x53E3;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E8%A7%92%E8%89%B2">&#x5177;&#x4F53;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x89D2;&#x8272;</h5>

<p>&#x5C01;&#x88C5;&#x4E86;&#x5177;&#x4F53;&#x7684;&#x7B97;&#x6CD5;&#x6216;&#x884C;&#x4E3A;, &#x7EE7;&#x627F;&#x4E8E; Strategy</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-15">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x591A;&#x4E2A;&#x7C7B;&#x53EA;&#x533A;&#x522B;&#x5728;&#x8868;&#x73B0;&#x884C;&#x4E3A;&#x4E0D;&#x540C;, &#x53EF;&#x4EE5;&#x4F7F;&#x7528;Strategy&#x6A21;&#x5F0F;, &#x5728;&#x8FD0;&#x884C;&#x65F6;&#x52A8;&#x6001;&#x9009;&#x62E9;&#x5177;&#x4F53;&#x8981;&#x6267;&#x884C;&#x7684;&#x884C;&#x4E3A;.</li>
<li>&#x9700;&#x8981;&#x5728;&#x4E0D;&#x540C;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x7B56;&#x7565;(&#x7B97;&#x6CD5;), &#x6216;&#x8005;&#x7B56;&#x7565;&#x8FD8;&#x53EF;&#x80FD;&#x5728;&#x672A;&#x6765;&#x7528;&#x5176;&#x5B83;&#x65B9;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;.</li>
<li>&#x5BF9;&#x5BA2;&#x6237;&#x9690;&#x85CF;&#x5177;&#x4F53;&#x7B56;&#x7565;(&#x7B97;&#x6CD5;)&#x7684;&#x5B9E;&#x73B0;&#x7EC6;&#x8282;, &#x5F7C;&#x6B64;&#x5B8C;&#x5168;&#x72EC;&#x7ACB;.</li>
</ul>
<p>&#x4E3E;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;, &#x5546;&#x573A;&#x641E;&#x4FC3;&#x9500;: &#x6253;8&#x6298;, &#x6EE1;200&#x9001;50, &#x6EE1;1000&#x9001;&#x793C;&#x7269;, &#x8FD9;&#x79CD;&#x4FC3;&#x9500;&#x5C31;&#x662F;&#x7B56;&#x7565;.</p>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-15">&#x5B9E;&#x4F8B;</h4>

<p>&#x5546;&#x573A;&#x4FC3;&#x9500;&#x7B56;&#x7565;.<br>
<strong>&#x5934;&#x6587;&#x4EF6;</strong> (<em><strong>Common.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _COMMON_H_  
#define _COMMON_H_

#include &quot;Strategy.h&quot;
#include &quot;CashNormal.h&quot;
#include &quot;CashRebate.h&quot;
#include &quot;CashReturn.h&quot;

#endif  
</code></pre><p><strong>&#x4E0A;&#x4E0B;&#x6587;&#x73AF;&#x5883;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Context.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CONTEXT_H_  
#define _CONTEXT_H_


#include &quot;Strategy.h&quot;

class Context {

public:

  Context(std::string strName);

  double getResult(double cash);

private:

  Strategy* m_Strategy;

};

#endif  
</code></pre><p><strong>&#x4E0A;&#x4E0B;&#x6587;&#x73AF;&#x5883;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Context.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Context.h&quot;
#include &quot;Common.h&quot;

Context::Context(std::string strName) {

    if (strName == &quot;dis&quot;) {

        m_Strategy = new CashRebate(0.8);

    }else if (strName == &quot;return&quot;) {

        m_Strategy = new CashReturn(200, 100);

    }else if (strName == &quot;nor&quot;) {

        m_Strategy = new CashNormal();

    }

}

double Context::getResult(double cash) {

    if (m_Strategy) {
        return m_Strategy-&gt;getResult(cash);
    }

}  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x7B56;&#x7565;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Strategy.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _STRATEGY_H_  
#define _STRATEGY_H_

#include &lt;bits/stdc++.h&gt;

class Strategy {

public:

  Strategy();
  virtual ~Strategy();

  virtual double getResult(double price) { return 0; };

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x7B56;&#x7565;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Strategy.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Strategy.h&quot;  

Strategy::Strategy() {

}

Strategy::~Strategy() {

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x7B56;&#x7565;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>CashNormal.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CASHNORMAL_H_  
#define _CASHNORMAL_H_

#include &quot;Strategy.h&quot;

class CashNormal: public Strategy {

public:

  CashNormal();
  double getResult(double price) override;

};

#endif
</code></pre><p><strong>&#x5177;&#x4F53;&#x7B56;&#x7565;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>CashNormal.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;CashNormal.h&quot;

CashNormal::CashNormal() {

}

double CashNormal::getResult(double price) {

    assert(price &gt; 0);
    return price;

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x7B56;&#x7565;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>CashRebate.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CASHREBATE_H_  
#define _CASHREBATE_H_

#include &quot;Strategy.h&quot;

class CashRebate: public Strategy {

public:

  CashRebate(double rebate);
  double getResult(double price) override;

private:

  double m_Rebate;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x7B56;&#x7565;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>CashRebate.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;CashRebate.h&quot;

CashRebate::CashRebate(double rebate)
          : m_Rebate(rebate) {
  
}

double CashRebate::getResult(double price) {

    assert(price &gt; 0);
    return price * m_Rebate;

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x7B56;&#x7565;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>CashReturn.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CASHRETURN_H_
#define _CASHRETURN_H_

#include &quot;Strategy.h&quot;

class CashReturn: public Strategy {

public:

  CashReturn(double condition, double returnNum);
  double getResult(double price) override;

private:

  double m_Condition;
  double m_ReturnNum;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x7B56;&#x7565;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>CashReturn.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;CashReturn.h&quot;

CashReturn::CashReturn(double condition, double returnNum) 
          : m_Condition(condition),
            m_ReturnNum(returnNum) {

}

double CashReturn::getResult(double price) {

    if (price &gt;= m_Condition) {

        return price - m_ReturnNum;

    }else {

        return price;

    }

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Context.h&quot;

int main() {

    std::string input;

    std::cout &lt;&lt; &quot;select promotions:&quot; &lt;&lt; std::endl;
    std::cin &gt;&gt; input;

    Context cn(input);
    double ret = cn.getResult(1000);
    std::cout &lt;&lt; &quot;Result is :&quot; &lt;&lt; ret &lt;&lt; std::endl;

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-15">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-15">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x7ED3;&#x6784;&#x6E05;&#x6670;, &#x628A;&#x7B56;&#x7565;&#x5206;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x7C7B;, &#x66FF;&#x6362;&#x4E86;&#x4F20;&#x7EDF;&#x7684; <strong>if - else</strong></li>
<li>&#x4EE3;&#x7801;&#x8026;&#x5408;&#x5EA6;&#x964D;&#x4F4E;, &#x5404;&#x4E2A;&#x7B56;&#x7565;&#x7684;&#x7EC6;&#x8282;&#x88AB;&#x5C4F;&#x853D;, &#x5B89;&#x5168;&#x6027;&#x63D0;&#x9AD8;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-15">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x5FC5;&#x987B;&#x8981;&#x77E5;&#x9053;&#x6240;&#x6709;&#x7684;&#x7B56;&#x7565;&#x7C7B;, &#x5426;&#x5219;&#x4F60;&#x4E0D;&#x77E5;&#x9053;&#x8BE5;&#x4F7F;&#x7528;&#x90A3;&#x4E2A;&#x7B56;&#x7565;, &#x6240;&#x4EE5;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x9002;&#x7528;&#x4E8E;&#x63D0;&#x524D;&#x77E5;&#x9053;&#x6240;&#x6709;&#x7B56;&#x7565;&#x7684;&#x60C5;&#x51B5;&#x4E0B;.</li>
<li>&#x6BCF;&#x4E00;&#x4E2A;&#x7B56;&#x7565;&#x7C7B;&#x590D;&#x7528;&#x6027;&#x5F88;&#x5C0F;, &#x5982;&#x679C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x7B97;&#x6CD5;, &#x5C31;&#x53EA;&#x80FD;&#x65B0;&#x589E;&#x7C7B;, &#x7B56;&#x7565;&#x7C7B;&#x6570;&#x91CF;&#x589E;&#x591A;.</li>
</ul>
<h4 class="mume-header" id="%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F-%E5%92%8C-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-%E7%9A%84%E5%BC%82%E5%90%8C">&#x7B56;&#x7565;&#x6A21;&#x5F0F; &#x548C; &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x7684;&#x5F02;&#x540C;</h4>

<p>&#x7B56;&#x7565;&#x6A21;&#x5F0F; &#x548C; &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F; &#x770B;&#x8D77;&#x6765;&#x975E;&#x5E38;&#x76F8;&#x4F3C;, &#x90FD;&#x662F;&#x901A;&#x8FC7;&#x591A;&#x6001;&#x6765;&#x5B9E;&#x73B0;&#x4E0D;&#x540C;&#x5B50;&#x7C7B;&#x7684;&#x9009;&#x53D6;, &#x8FD9;&#x79CD;&#x601D;&#x60F3;&#x5E94;&#x8BE5;&#x662F;&#x4ECE;&#x7A0B;&#x5E8F;&#x7684;&#x6574;&#x4F53;&#x6765;&#x770B;&#x5F97;&#x51FA;&#x7684;.</p>
<p>&#x5982;&#x679C;&#x4ECE;&#x4F7F;&#x7528;&#x8FD9;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#x7684;&#x8BDD;, &#x6211;&#x4EEC;&#x4F1A;&#x53D1;&#x73B0;&#x5728;&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E2D;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x4F20;&#x9012;&#x76F8;&#x5E94;&#x7684;&#x6761;&#x4EF6;&#x5C31;&#x80FD;&#x5F97;&#x5230;&#x60F3;&#x8981;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;, &#x7136;&#x540E;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x7B97;&#x6CD5;&#x7684;&#x64CD;&#x4F5C;. &#x800C;&#x7B56;&#x7565;&#x6A21;&#x5F0F;, &#x4F7F;&#x7528;&#x65F6;&#x5FC5;&#x987B;&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x60F3;&#x4F7F;&#x7528;&#x7684;&#x7C7B;&#x5BF9;&#x8C61;, &#x7136;&#x540E;&#x5C06;&#x8BE5;&#x5BF9;&#x8C61;&#x6700;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x8FDB;&#x53BB;, &#x901A;&#x8FC7;&#x8BE5;&#x5BF9;&#x8C61;&#x8C03;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x7B97;&#x6CD5;.</p>
<p><strong>&#x5728;&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E2D;&#x5B9E;&#x73B0;&#x4E86;&#x901A;&#x8FC7;&#x6761;&#x4EF6;&#x9009;&#x53D6;&#x4E00;&#x4E2A;&#x7C7B;&#x53BB;&#x5B9E;&#x4F8B;&#x5316;&#x5BF9;&#x8C61;, &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x5219;&#x5C06;&#x9009;&#x53D6;&#x76F8;&#x5E94;&#x5BF9;&#x8C61;&#x7684;&#x5DE5;&#x4F5C;&#x4EA4;&#x7ED9;&#x6A21;&#x5F0F;&#x7684;&#x4F7F;&#x7528;&#x8005;, &#x5B83;&#x672C;&#x8EAB;&#x4E0D;&#x53BB;&#x505A;&#x9009;&#x53D6;&#x5DE5;&#x4F5C;.</strong></p>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-6">&#x603B;&#x7ED3;</h4>

<p>&#x7B56;&#x7565;&#x6A21;&#x5F0F;, <strong>&#x5B9E;&#x8D28;&#x5C31;&#x662F;&#x5C01;&#x88C5;&#x4E86;&#x4E00;&#x4E9B;&#x7B97;&#x6CD5;, &#x8BA9;&#x7B97;&#x6CD5;&#x53EF;&#x4EE5;&#x4E92;&#x76F8;&#x66FF;&#x6362;</strong>, &#x7528;&#x6237;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x9009;&#x62E9;&#x8FD9;&#x4E9B;&#x7B97;&#x6CD5;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;, &#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#x5176;&#x672C;&#x8EAB;&#x4E3B;&#x8981;&#x7ED3;&#x5408;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E00;&#x8D77;&#x4F7F;&#x7528;.</p>
<hr>
<h3 class="mume-header" id="%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F">&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-16">&#x7B80;&#x4ECB;</h4>

<p>&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;, &#x8868;&#x793A;&#x4E00;&#x4E2A;&#x4F5C;&#x7528;&#x4E8E;&#x5176;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x5404;&#x5143;&#x7D20;&#x7684;&#x64CD;&#x4F5C;, &#x5B83;&#x4F7F;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x6539;&#x53D8;&#x5404;&#x5143;&#x7D20;&#x7C7B;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#x5B9A;&#x4E49;&#x4F5C;&#x7528;&#x4E8E;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x7684;&#x65B0;&#x64CD;&#x4F5C;. &#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x7406;&#x89E3;: &#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;, &#x5B83;&#x662F;&#x4F5C;&#x7528;&#x4E8E;&#x4E00;&#x4E9B;&#x5143;&#x7D20;&#x4E4B;&#x4E0A;&#x7684;, &#x800C;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x5C5E;&#x4E8E;&#x67D0;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;. &#x540C;&#x65F6;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x4E0D;&#x6539;&#x53D8;&#x5404;&#x5143;&#x7D20;&#x7C7B;&#x7684;&#x524D;&#x63D0;&#x4E0B;, &#x5728;&#x8FD9;&#x4E2A;&#x524D;&#x63D0;&#x4E0B;&#x5B9A;&#x4E49;&#x65B0;&#x64CD;&#x4F5C;&#x662F;&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x7CBE;&#x9AD3;&#x4E2D;&#x7684;&#x7CBE;&#x9AD3;.</p>
<p>&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x89E3;&#x51B3;<strong>&#x7A33;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x548C;&#x6613;&#x53D8;&#x7684;&#x64CD;&#x4F5C;&#x8026;&#x5408;&#x95EE;&#x9898;. &#x5C31;&#x662F;&#x628A;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x548C;&#x4F5C;&#x7528;&#x4E8E;&#x7ED3;&#x6784;&#x4E0A;&#x7684;&#x64CD;&#x4F5C;&#x89E3;&#x8026;&#x5408;, &#x4F7F;&#x5F97;&#x64CD;&#x4F5C;&#x96C6;&#x5408;&#x53EF;&#x76F8;&#x5BF9;&#x81EA;&#x7531;&#x5730;&#x6F14;&#x5316;.</strong></p>
<p>&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#x4E3B;&#x8981;&#x5C31;&#x662F;<strong>&#x901A;&#x8FC7;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x597D;&#x8C03;&#x7528;&#x7684;&#x901A;&#x8DEF;,  &#x5728;&#x88AB;&#x8BBF;&#x95EE;&#x7684;&#x5BF9;&#x8C61;&#x4E0A;&#x5B9A;&#x4E49;</strong> <em><strong>accept</strong></em> <strong>&#x65B9;&#x6CD5;, &#x5728;&#x8BBF;&#x95EE;&#x8005;&#x7684;&#x5BF9;&#x8C61;&#x4E0A;&#x5B9A;&#x4E49;</strong> <em><strong>visit</strong></em> <strong>&#x65B9;&#x6CD5;, &#x7136;&#x540E;&#x5728;&#x8C03;&#x7528;&#x771F;&#x6B63;&#x53D1;&#x751F;&#x7684;&#x65F6;&#x5019;, &#x901A;&#x8FC7;&#x4E24;&#x6B21;&#x5206;&#x53D1;&#x7684;&#x6280;&#x672F;, &#x5229;&#x7528;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x901A;&#x8DEF;, &#x56DE;&#x8C03;&#x5230;&#x8BBF;&#x95EE;&#x8005;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x4E0A;.</strong></p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-16">&#x7ED3;&#x6784;</h4>

<p>&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x8BBF;&#x95EE;&#x8005;&#x63A5;&#x53E3;(Vistor)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x8BBF;&#x95EE;&#x8005;&#x63A5;&#x53E3;(Concrete Vistor)</strong></li>
<li><strong>&#x62BD;&#x8C61;&#x5143;&#x7D20;&#x89D2;&#x8272;(Element)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x5143;&#x7D20;&#x89D2;&#x8272;(Concrete Element)</strong></li>
<li><strong>&#x7ED3;&#x6784;&#x5BF9;&#x8C61;&#x89D2;&#x8272;(Object Structure)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E8%AE%BF%E9%97%AE%E8%80%85%E6%8E%A5%E5%8F%A3">&#x62BD;&#x8C61;&#x8BBF;&#x95EE;&#x8005;&#x63A5;&#x53E3;</h5>

<p>&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x8BBF;&#x95EE;&#x7684;&#x884C;&#x4E3A;, &#x5B83;&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x7684;&#x5143;&#x7D20;, &#x5B83;&#x7684;&#x65B9;&#x6CD5;&#x4E2A;&#x6570;&#x7406;&#x8BBA;&#x4E0A;&#x6765;&#x8BB2;&#x4E0E;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x662F;&#x4E00;&#x6837;&#x7684;, &#x4ECE;&#x8FD9;&#x70B9;&#x4E0D;&#x96BE;&#x770B;&#x51FA;, &#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x8981;&#x6C42;&#x5143;&#x7D20;&#x7C7B;&#x7684;&#x4E2A;&#x6570;&#x4E0D;&#x80FD;&#x6539;&#x53D8;, <strong>&#x4E0D;&#x80FD;&#x6539;&#x53D8;&#x7684;&#x610F;&#x601D;&#x662F;&#x8BF4;, &#x5982;&#x679C;&#x5143;&#x7D20;&#x7C7B;&#x7684;&#x4E2A;&#x6570;&#x7ECF;&#x5E38;&#x6539;&#x53D8;, &#x5219;&#x8BF4;&#x660E;&#x4E0D;&#x9002;&#x5408;&#x4F7F;&#x7528;&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;</strong></p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E8%AE%BF%E9%97%AE%E8%80%85%E6%8E%A5%E5%8F%A3">&#x5177;&#x4F53;&#x8BBF;&#x95EE;&#x8005;&#x63A5;&#x53E3;</h5>

<p>&#x5B83;&#x9700;&#x8981;&#x7ED9;&#x51FA;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7C7B;&#x8BBF;&#x95EE;&#x65F6;&#x6240;&#x4EA7;&#x751F;&#x7684;&#x5177;&#x4F53;&#x884C;&#x4E3A;.</p>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E5%85%83%E7%B4%A0%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x5143;&#x7D20;&#x89D2;&#x8272;</h5>

<p>&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x63A5;&#x53D7;&#x8BBF;&#x95EE;&#x8005; <em>accept</em> &#x7684;&#x65B9;&#x6CD5;, &#x5176;&#x610F;&#x4E49;&#x662F;&#x6307;: &#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x8981;&#x53EF;&#x4EE5;&#x88AB;&#x8BBF;&#x95EE;&#x8005;&#x8BBF;&#x95EE;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E5%85%83%E7%B4%A0%E8%A7%92%E8%89%B2">&#x5177;&#x4F53;&#x5143;&#x7D20;&#x89D2;&#x8272;</h5>

<p>&#x5B83;&#x63D0;&#x4F9B;&#x63A5;&#x53D7;&#x8BBF;&#x95EE;&#x65B9;&#x6CD5;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;, &#x800C;&#x8FD9;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;, &#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x4F7F;&#x7528;&#x8BBF;&#x95EE;&#x8005;&#x63D0;&#x4F9B;&#x7684;&#x8BBF;&#x95EE;&#x8BE5;&#x5143;&#x7D20;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;.</p>
<h5 class="mume-header" id="%E7%BB%93%E6%9E%84%E5%AF%B9%E8%B1%A1%E8%A7%92%E8%89%B2">&#x7ED3;&#x6784;&#x5BF9;&#x8C61;&#x89D2;&#x8272;</h5>

<p>&#x8FD9;&#x4E2A;&#x4FBF;&#x662F;&#x5B9A;&#x4E49;&#x5F53;&#x4E2D;&#x6240;&#x63D0;&#x5230;&#x7684;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;, &#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x662F;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x8868;&#x8FF0;, &#x5177;&#x4F53;&#x70B9;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x5BB9;&#x5668;&#x6027;&#x8D28;&#x6216;&#x8005;&#x590D;&#x5408;&#x5BF9;&#x8C61;&#x7279;&#x6027;&#x7684;&#x7C7B;, &#x5B83;&#x4F1A;&#x542B;&#x6709;&#x4E00;&#x7EC4;&#x5143;&#x7D20;, &#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x8FED;&#x4EE3;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;, &#x4F9B;&#x8BBF;&#x95EE;&#x8005;&#x8BBF;&#x95EE;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-16">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x6BD4;&#x8F83;&#x7A33;&#x5B9A;, &#x4F46;&#x7ECF;&#x5E38;&#x9700;&#x8981;&#x5728;&#x6B64;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x4E0A;&#x5B9A;&#x4E49;&#x65B0;&#x7684;&#x64CD;&#x4F5C;.</li>
<li>&#x9700;&#x8981;&#x5BF9;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x5F88;&#x591A;&#x4E0D;&#x540C;&#x7684;&#x4E14;&#x4E0D;&#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;, &#x800C;&#x9700;&#x8981;&#x907F;&#x514D;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&quot;&#x6C61;&#x67D3;&quot;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;, &#x4E5F;&#x4E0D;&#x5E0C;&#x671B;&#x5728;&#x589E;&#x52A0;&#x65B0;&#x64CD;&#x4F5C;&#x65F6;&#x4FEE;&#x6539;&#x8FD9;&#x4E9B;&#x7C7B;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-16">&#x5B9E;&#x4F8B;</h4>

<p><strong>&#x62BD;&#x8C61;&#x8BBF;&#x95EE;&#x8005;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Action.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ACTION_H_
#define _ACTION_H_

#include &quot;Man.h&quot;
#include &quot;Woman.h&quot;

class Action {

public:

  Action();
  ~Action();

  virtual void PerformanceMan(Man* man) = 0;
  virtual void PerformanceWoman(Woman* woman) = 0;

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x8BBF;&#x95EE;&#x8005;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Action.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Action.h&quot;  

Action::Action() {

}

Action::~Action() {
  
}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x8BBF;&#x95EE;&#x8005;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Success.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _SUCCESS_H_  
#define _SUCCESS_H_

#include &quot;Action.h&quot;

class Success: public Action {

public:

  Success();

  void PerformanceMan(Man* man) override;
  void PerformanceWoman(Woman* woman) override;

private:

  std::string m_Type;

};

#endif
</code></pre><p><strong>&#x5177;&#x4F53;&#x8BBF;&#x95EE;&#x8005;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Success.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Success.h&quot;

Success::Success()
       : m_Type(&quot;&#x6210;&#x529F;&quot;) {

}

void Success::PerformanceMan(Man* man) {

    std::cout &lt;&lt; man-&gt;Type() &lt;&lt; this-&gt;m_Type &lt;&lt; &quot;&#x65F6;&#x5019;&#x7684;&#x8868;&#x73B0;&quot; &lt;&lt; std::endl;

}

void Success::PerformanceWoman(Woman* woman) {

    std::cout &lt;&lt; woman-&gt;Type() &lt;&lt; this-&gt;m_Type &lt;&lt; &quot;&#x65F6;&#x5019;&#x7684;&#x8868;&#x73B0;&quot; &lt;&lt; std::endl;

}  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x5143;&#x7D20;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Person.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _PERSON_H_  
#define _PERSON_H_

#include &lt;bits/stdc++.h&gt;

class Action;

class Person {

public:

  Person();
  virtual void Accept(Action* action);

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x5143;&#x7D20;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Person.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Person.h&quot;

Person::Person() {
  
}

void Person::Accept(Action* action) {
  
}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5143;&#x7D20;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Man.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _MAN_H_
#define _MAN_H_

#include &quot;Person.h&quot;

class Man: public Person {

public:

  Man();
  void Accept(Action* action) override;
  std::string Type();

private:

  std::string m_Type;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5143;&#x7D20;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Man.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Man.h&quot;
#include &quot;Action.h&quot;  

Man::Man()
   : m_Type(&quot;&#x7537;&#x4EBA;&quot;) {

}

void Man::Accept(Action* action) {

    action-&gt;PerformanceMan(this);

}

std::string Man::Type() {

    return m_Type;

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5143;&#x7D20;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Woman.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _WOMAN_H_
#define _WOMAN_H_

#include &quot;Person.h&quot; 

class Woman: public Person {

public:

  Woman();
  void Accept(Action* action) override;
  std::string Type();

private:

  std::string m_Type;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5143;&#x7D20;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Woman.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Woman.h&quot;
#include &quot;Action.h&quot;  

Woman::Woman()
     : m_Type(&quot;&#x5973;&#x4EBA;&quot;) {

}

void Woman::Accept(Action* action) {

    action-&gt;PerformanceWoman(this);

}

std::string Woman::Type() {

    return m_Type;

}  
</code></pre><p><strong>&#x7ED3;&#x6784;&#x5BF9;&#x8C61;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ObjectStruct.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _OBJECTSTRUCT_H_
#define _OBJECTSTRUCT_H_

#include &quot;Person.h&quot;
#include &quot;Action.h&quot;

class ObjectStruct {

public:

  ObjectStruct();

  void Display(Action* action);

  void Attach(Person* person);
  void Detach(Person* person);

  std::list&lt;Person*&gt; m_Person;

};

#endif
</code></pre><p><strong>&#x7ED3;&#x6784;&#x5BF9;&#x8C61;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ObjectStruct.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ObjectStruct.h&quot;

ObjectStruct::ObjectStruct() {

}

void ObjectStruct::Display(Action* action) {

    for (auto person : m_Person) {

        person-&gt;Accept(action);

    }

}

void ObjectStruct::Attach(Person* person) {

    m_Person.push_back(person);

}

void ObjectStruct::Detach(Person* person) {

    m_Person.remove(person);

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ObjectStruct.h&quot;
#include &quot;Man.h&quot;
#include &quot;Woman.h&quot;
#include &quot;Success.h&quot;

int main() {

    ObjectStruct obj;

    Man* man = new Man();
    obj.Attach(man);

    Woman* woman = new Woman();
    obj.Attach(woman);

    Success* success = new Success();
    obj.Display(success);

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-16">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-16">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x4F7F;&#x5F97;&#x6613;&#x4E8E;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x64CD;&#x4F5C;, &#x8BBF;&#x95EE;&#x8005;&#x4F7F;&#x5F97;&#x589E;&#x52A0;&#x4F9D;&#x8D56;&#x4E8E;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x7684;&#x6784;&#x4EF6;&#x7684;&#x64CD;&#x4F5C;&#x53D8;&#x5F97;&#x5BB9;&#x6613;&#x4E86;. &#x4EC5;&#x9700;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8BBF;&#x95EE;&#x8005;&#x5373;&#x53EF;&#x5728;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x4E0A;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x64CD;&#x4F5C;. &#x76F8;&#x53CD;, &#x5982;&#x679C;&#x6BCF;&#x4E2A;&#x529F;&#x80FD;&#x90FD;&#x5206;&#x6563;&#x5728;&#x591A;&#x4E2A;&#x7C7B;&#x4E4B;&#x4E0A;&#x7684;&#x8BDD;, &#x5B9A;&#x4E49;&#x65B0;&#x7684;&#x64CD;&#x4F5C;&#x65F6;&#x5FC5;&#x987B;&#x4FEE;&#x6539;&#x6BCF;&#x4E00;&#x7C7B;.</li>
<li>&#x8BBF;&#x95EE;&#x8005;&#x96C6;&#x4E2D;&#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#x800C;&#x5206;&#x79BB;&#x65E0;&#x5173;&#x7684;&#x64CD;&#x4F5C;. &#x76F8;&#x5173;&#x7684;&#x884C;&#x4E3A;&#x4E0D;&#x662F;&#x5206;&#x5E03;&#x5728;&#x5B9A;&#x4E49;&#x8BE5;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x7684;&#x5404;&#x4E2A;&#x7C7B;&#x4E0A;, &#x800C;&#x662F;&#x96C6;&#x4E2D;&#x5728;&#x4E00;&#x4E2A;&#x8BBF;&#x95EE;&#x8005;&#x4E2D;. &#x65E0;&#x5173;&#x884C;&#x4E3A;&#x5374;&#x88AB;&#x5206;&#x522B;&#x653E;&#x5728;&#x5B83;&#x4EEC;&#x5404;&#x81EA;&#x7684;&#x8BBF;&#x95EE;&#x8005;&#x5B50;&#x7C7B;&#x4E2D;, &#x8FD9;&#x5C31;&#x65E2;&#x7B80;&#x5316;&#x4E86;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x7684;&#x7C7B;, &#x4E5F;&#x7B80;&#x5316;&#x4E86;&#x5728;&#x8FD9;&#x4E9B;&#x8BBF;&#x95EE;&#x8005;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x7B97;&#x6CD5;. &#x6240;&#x6709;&#x4E0E;&#x5B83;&#x7684;&#x7B97;&#x6CD5;&#x76F8;&#x5173;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x9690;&#x85CF;&#x5728;&#x8BBF;&#x95EE;&#x8005;&#x4E2D;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-16">&#x7F3A;&#x70B9;</h5>

<ul>
<li>
<p><strong>&#x589E;&#x52A0;&#x65B0;&#x7684; ConcreteElement &#x7C7B;&#x5F88;&#x56F0;&#x96BE;</strong>.<br>
Visitor&#x6A21;&#x5F0F; &#x4F7F;&#x5F97;&#x96BE;&#x4EE5;&#x589E;&#x52A0;&#x65B0;&#x7684; Element &#x7684;&#x5B50;&#x7C7B;. &#x6BCF;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684; ConcreteElement &#x90FD;&#x8981;&#x5728; Vistor &#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x62BD;&#x8C61;&#x64CD;&#x4F5C;, &#x5E76;&#x5728;&#x6BCF;&#x4E00;&#x4E2A; ConcretVisitor &#x7C7B;&#x4E2D;&#x5B9E;&#x73B0;&#x76F8;&#x5E94;&#x7684;&#x64CD;&#x4F5C;. &#x6709;&#x65F6;&#x53EF;&#x4EE5;&#x5728; Visitor &#x4E2D;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7F3A;&#x7701;&#x7684;&#x5B9E;&#x73B0;, &#x8FD9;&#x4E00;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x88AB;&#x5927;&#x591A;&#x6570;&#x7684; ConcreteVisitor &#x7EE7;&#x627F;, &#x4F46;&#x8FD9;&#x4E0E;&#x5176;&#x8BF4;&#x662F;&#x4E00;&#x4E2A;&#x89C4;&#x5F8B;&#x8FD8;&#x4E0D;&#x5982;&#x8BF4;&#x662F;&#x4E00;&#x79CD;&#x4F8B;&#x5916;.</p>
<p>&#x6240;&#x4EE5;&#x5728;&#x5E94;&#x7528;&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x65F6;&#x8003;&#x8651;&#x5173;&#x952E;&#x7684;&#x95EE;&#x9898;&#x662F;&#x7CFB;&#x7EDF;&#x7684;&#x54EA;&#x4E2A;&#x90E8;&#x5206;&#x4F1A;&#x7ECF;&#x5E38;&#x53D8;&#x5316;,<br>
&#x662F;&#x4F5C;&#x7528;&#x4E8E;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x4E0A;&#x7684;&#x7B97;&#x6CD5;&#x5462;&#x8FD8;&#x662F;&#x6784;&#x6210;&#x8BE5;&#x7ED3;&#x6784;&#x7684;&#x5404;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;. &#x5982;&#x679C;&#x8001;&#x662F;&#x6709;&#x65B0;&#x7684; ConcretElement &#x7C7B;&#x52A0;&#x5165;&#x8FDB;&#x6765;&#x7684;&#x8BDD;, Vistor &#x7C7B;&#x5C42;&#x6B21;&#x5C06;&#x53D8;&#x5F97;&#x96BE;&#x4EE5;&#x7EF4;&#x62A4;. &#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;,&#x76F4;&#x63A5;&#x5728;&#x6784;&#x6210;&#x8BE5;&#x7ED3;&#x6784;&#x7684;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x53EF;&#x80FD;&#x66F4;&#x5BB9;&#x6613;&#x4E00;&#x4E9B;. &#x5982;&#x679C; Element &#x7C7B;&#x5C42;&#x6B21;&#x662F;&#x7A33;&#x5B9A;&#x7684;, &#x800C;&#x4F60;&#x4E0D;&#x65AD;&#x5730;&#x589E;&#x52A0;&#x64CD;&#x4F5C;&#x83B7;&#x4FEE;&#x6539;&#x7B97;&#x6CD5;, &#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x4F60;&#x7BA1;&#x7406;&#x8FD9;&#x4E9B;&#x6539;&#x52A8;.</p>
</li>
<li>
<p><strong>&#x7834;&#x574F;&#x5C01;&#x88C5;</strong><br>
&#x8BBF;&#x95EE;&#x8005;&#x65B9;&#x6CD5;&#x5047;&#x5B9A; Concrete Element &#x63A5;&#x53E3;&#x7684;&#x529F;&#x80FD;&#x8DB3;&#x591F;&#x5F3A;, &#x8DB3;&#x4EE5;&#x8BA9;&#x8BBF;&#x95EE;&#x8005;&#x8FDB;&#x884C;&#x5B83;&#x4EEC;&#x7684;&#x5DE5;&#x4F5C;. &#x7ED3;&#x679C;&#x662F;&#x8BE5;&#x6A21;&#x5F0F;&#x5E38;&#x5E38;&#x8FEB;&#x4F7F;&#x4F60;&#x63D0;&#x4F9B;&#x8BBF;&#x95EE;&#x5143;&#x7D20;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x7684;&#x516C;&#x5171;&#x64CD;&#x4F5C;, &#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x7834;&#x574F;&#x5B83;&#x7684;&#x5C01;&#x88C5;&#x6027;.</p>
</li>
</ul>
<hr>
<h3 class="mume-header" id="%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F">&#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;</h3>

<h5 class="mume-header" id="%E7%AE%80%E4%BB%8B-17">&#x7B80;&#x4ECB;</h5>

<p>&#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;, &#x4F7F;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x6709;&#x673A;&#x4F1A;&#x5904;&#x7406;&#x8BF7;&#x6C42;, &#x4ECE;&#x800C;&#x907F;&#x514D;&#x4E86;&#x8BF7;&#x6C42;&#x7684;&#x53D1;&#x9001;&#x8005;&#x548C;&#x63A5;&#x53D7;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#x5173;&#x7CFB;. &#x4E3A;&#x8BF7;&#x6C42;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x63A5;&#x6536;&#x8005;&#x5BF9;&#x8C61;&#x7684;&#x94FE;, &#x5E76;&#x6CBF;&#x7740;&#x8FD9;&#x6761;&#x94FE;&#x4F20;&#x9012;&#x8BE5;&#x8BF7;&#x6C42;, &#x76F4;&#x5230;&#x6709;&#x5BF9;&#x8C61;&#x5904;&#x7406;&#x5B83;&#x4E3A;&#x6B62;, &#x5176;&#x8FC7;&#x7A0B;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x9012;&#x5F52;&#x8C03;&#x7528;.</p>
<p>&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x51FA;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;, &#x94FE;&#x4E0A;&#x7684;&#x5BF9;&#x8C61;&#x90FD;&#x6709;&#x673A;&#x4F1A;&#x6765;&#x5904;&#x7406;&#x8FD9;&#x4E00;&#x8BF7;&#x6C42;, &#x800C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x8C01;&#x662F;&#x5177;&#x4F53;&#x7684;&#x5904;&#x7406;&#x5BF9;&#x8C61;, &#x5E76;&#x4E14;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x7684;&#x7EC4;&#x5408;&#x804C;&#x8D23;&#x94FE;, &#x4F7F;&#x7F16;&#x7A0B;&#x66F4;&#x6709;&#x7075;&#x6D3B;&#x6027;.</p>
<p>&#x8981;&#x70B9;&#x4E3B;&#x8981;&#x662F;:</p>
<ul>
<li>&#x6709;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x5171;&#x540C;&#x5BF9;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x8FDB;&#x884C;&#x5904;&#x7406;</li>
<li>&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x94FE;&#x5F0F;&#x5B58;&#x50A8;&#x7ED3;&#x6784;, &#x5F62;&#x6210;&#x4E00;&#x4E2A;&#x94FE;, &#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x77E5;&#x9053;&#x81EA;&#x5DF1;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;.</li>
<li>&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5BF9;&#x4EFB;&#x52A1;&#x8FDB;&#x884C;&#x5904;&#x7406;, &#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#x540E;&#x5C06;&#x5BF9;&#x8C61;&#x4F20;&#x9012;&#x4E2A;&#x4E0B;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;, &#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x6B64;&#x5BF9;&#x8C61;&#x4E0A;&#x7ED3;&#x675F;&#x4EFB;&#x52A1;&#x7684;&#x5904;&#x7406;, &#x5E76;&#x7ED3;&#x675F;&#x4EFB;&#x52A1;.</li>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8D23;&#x7EC4;&#x88C5;&#x94FE;&#x5F0F;&#x7ED3;&#x6784;, &#x4F46;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x6700;&#x7EC8;&#x662F;&#x8C01;&#x6765;&#x5904;&#x7406;&#x4E86;&#x4EFB;&#x52A1;.</li>
</ul>
<h5 class="mume-header" id="%E7%BB%93%E6%9E%84-17">&#x7ED3;&#x6784;</h5>

<p>&#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;&#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x5904;&#x7406;&#x8005;&#x89D2;&#x8272;(Handler)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x89D2;&#x8272;(Concrete Handler)</strong></li>
</ul>
<h6 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E5%A4%84%E7%90%86%E8%80%85%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x5904;&#x7406;&#x8005;&#x89D2;&#x8272;</h6>

<p>&#x5B9A;&#x4E49;&#x51FA;&#x4E00;&#x4E2A;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x63A5;&#x53E3;, &#x5982;&#x679C;&#x9700;&#x8981;, &#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x51FA;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x4EE5;&#x8BBE;&#x5B9A;&#x548C;&#x8FD4;&#x56DE;&#x5BF9;&#x4E0B;&#x5BB6;&#x7684;&#x5F15;&#x7528;.</p>
<h6 class="mume-header" id="%E5%85%B7%E4%BD%93%E5%A4%84%E7%90%86%E8%80%85%E8%A7%92%E8%89%B2">&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x89D2;&#x8272;</h6>

<p>&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x63A5;&#x5230;&#x8BF7;&#x6C42;&#x540E;, &#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5C06;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x6389;, &#x6216;&#x8005;&#x5C06;&#x8BF7;&#x6C42;&#x4F20;&#x7ED9;&#x4E0B;&#x5BB6;. &#x7531;&#x4E8E;&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x6301;&#x6709;&#x5BF9;&#x4E0B;&#x5BB6;&#x7684;&#x5F15;&#x7528;, &#x56E0;&#x6B64;&#x5982;&#x679C;&#x9700;&#x8981;, &#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x4E0B;&#x5BB6;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-17">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x540C;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;, &#x4F46;&#x662F;&#x5177;&#x4F53;&#x7531;&#x54EA;&#x4E2A;&#x5BF9;&#x8C61;&#x5904;&#x7406;&#x662F;&#x7531;&#x8FD0;&#x884C;&#x65F6;&#x523B;&#x52A8;&#x6001;&#x51B3;&#x5B9A;&#x7684;, &#x8FD9;&#x79CD;&#x5BF9;&#x8C61;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;, &#x628A;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x6210;&#x804C;&#x8D23;&#x5BF9;&#x8C61;, &#x7136;&#x540E;&#x6784;&#x9020;&#x94FE;, &#x5F53;&#x8BF7;&#x6C42;&#x5728;&#x8FD9;&#x4E2A;&#x94FE;&#x4E2D;&#x4F20;&#x9012;&#x7684;&#x65F6;&#x5019;, &#x4F1A;&#x6839;&#x636E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x5224;&#x65AD;.</li>
<li>&#x5728;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x8005;&#x4E0D;&#x660E;&#x786E;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5411;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x63D0;&#x4EA4;&#x8BF7;&#x6C42;.</li>
<li>&#x9700;&#x8981;&#x52A8;&#x6001;&#x6307;&#x5B9A;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;&#x5BF9;&#x8C61;&#x96C6;&#x5408;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-17">&#x5B9E;&#x4F8B;</h4>

<p>&#x4EE5; &#x516C;&#x53F8;&#x5BA1;&#x6279;&#x6D41;&#x7A0B; &#x4E3A;&#x4F8B;&#x5B50;.<br>
<strong>&#x62BD;&#x8C61;&#x5904;&#x7406;&#x8005;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Manager.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _MANAGER_H_  
#define _MANAGER_H_

#include &quot;Request.h&quot;

class Manager{

public:

  Manager();
  virtual ~Manager();

  virtual void DoRequest(Request &amp;Request) = 0;

  void SetLastLevel(Manager* manager);

protected:

  Manager* m_Last;

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x5904;&#x7406;&#x8005;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Manager.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Manager.h&quot;  

Manager::Manager() {

}

Manager::~Manager() {

}

void Manager::SetLastLevel(Manager* manager) {

    m_Last = manager;

}
</code></pre><p><strong>&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ManagerP.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _MANAGERP_H_  
#define _MANAGERP_H_

#include &quot;Manager.h&quot;

class ManagerP: public Manager {

public:

  ManagerP();
  void DoRequest(Request &amp;request) override;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ManagerP.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ManagerP.h&quot;

ManagerP::ManagerP() {

}

void ManagerP::DoRequest(Request &amp;request) {

    if (request.Type() == &quot;&#x8BF7;&#x5047;&quot; &amp;&amp; 
        request.Count() &lt; 6) {

        std::cout &lt;&lt; &quot;&#x7ECF;&#x7406;&#x6279;&#x51C6;&#x8BF7;&#x5047;&quot; &lt;&lt; std::endl;

    }else if (request.Type() == &quot;&#x52A0;&#x85AA;&quot; &amp;&amp;
              request.Count() &lt; 200) {

        std::cout &lt;&lt; &quot;&#x7ECF;&#x7406;&#x6279;&#x51C6;&#x52A0;&#x85AA;&quot; &lt;&lt; std::endl;

    }else {

        if (m_Last) {
            m_Last-&gt;DoRequest(request);
        }

    }

}
</code></pre><p><strong>&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Director.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _DIRECTOR_H_
#define _DIRECTOR_H_

#include &quot;Manager.h&quot;

class Director: public Manager {

public:

  Director();
  void DoRequest(Request &amp;request) override;

};

#endif
</code></pre><p><strong>&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Director.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Director.h&quot;

Director::Director() {

}

void Director::DoRequest(Request &amp;request) {

    if (request.Type() == &quot;&#x8BF7;&#x5047;&quot; &amp;&amp;
        request.Count() &lt; 11) {

        std::cout &lt;&lt; &quot;&#x603B;&#x76D1;&#x6279;&#x51C6;&#x8BF7;&#x5047;&quot; &lt;&lt; std::endl;

    }else if (request.Type() == &quot;&#x52A0;&#x85AA;&quot; &amp;&amp;
              request.Count() &lt; 1000) {

        std::cout &lt;&lt; &quot;&#x603B;&#x76D1;&#x6279;&#x51C6;&#x52A0;&#x85AA;&quot; &lt;&lt; std::endl;

    }else {

        if (m_Last) {
            m_Last-&gt;DoRequest(request);
        }

    }

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>GeneralManager.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _GENERALMANAGER_H_
#define _GENERALMANAGER_H_

#include &quot;Manager.h&quot;

class GeneralManager: public Manager {

public:

  GeneralManager();
  void DoRequest(Request &amp;request) override;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x5904;&#x7406;&#x8005;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>GeneralManager.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;GeneralManager.h&quot;

GeneralManager::GeneralManager() {

}

void GeneralManager::DoRequest(Request &amp;request) {

    if (request.Type() == &quot;&#x8BF7;&#x5047;&quot; &amp;&amp;
        request.Count() &lt; 8) {

        std::cout &lt;&lt; &quot;&#x603B;&#x7ECF;&#x7406;&#x6279;&#x51C6;&#x8BF7;&#x5047;&quot; &lt;&lt; std::endl;

    }else if (request.Type() == &quot;&#x52A0;&#x85AA;&quot; &amp;&amp;
              request.Count() &lt; 500) {

        std::cout &lt;&lt; &quot;&#x603B;&#x7ECF;&#x7406;&#x6279;&#x51C6;&#x52A0;&#x85AA;&quot; &lt;&lt; std::endl;

    }

}  
</code></pre><p><strong>&#x8BF7;&#x6C42;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Request.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _REQUEST_H_  
#define _REQUEST_H_

#include &lt;bits/stdc++.h&gt;

class Request {

public:

  Request(std::string type, std::string content, int count);

  std::string Type();
  std::string Content();

  int Count();

private:

  std::string   m_Type;
  std::string   m_Content;
  int           m_Count;

};

#endif
</code></pre><p><strong>&#x8BF7;&#x6C42;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Request.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Request.h&quot;

Request::Request(std::string type, std::string content, int count)
       : m_Type(type),
         m_Content(content),
         m_Count(count) {

}

std::string Request::Type() {

    return m_Type;

}

std::string Request::Content() {

    return m_Content;

}

int Request::Count() {

    return m_Count;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-17">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-17">&#x4F18;&#x70B9;</h5>

<p>&#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;&#x7684;&#x6700;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x5C31;&#x662F;: <strong>&#x52A8;&#x6001;&#x7EC4;&#x5408;, &#x8BF7;&#x6C42;&#x8005; &#x548C; &#x63A5;&#x53D7;&#x8005;&#x89E3;&#x8026;.</strong></p>
<ul>
<li>
<p><strong>&#x8BF7;&#x6C42;&#x8005;&#x548C;&#x63A5;&#x53D7;&#x8005;&#x677E;&#x6563;&#x8026;&#x5408;</strong><br>
&#x8BF7;&#x6C42;&#x8005;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x63A5;&#x53D7;&#x8005;, &#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5904;&#x7406;. &#x6BCF;&#x4E2A;&#x804C;&#x8D23;&#x5BF9;&#x8C61;&#x53EA;&#x8D1F;&#x8D23;&#x81EA;&#x5DF1;&#x7684;&#x804C;&#x8D23;&#x8303;&#x56F4;, &#x5176;&#x4ED6;&#x7684;&#x4EA4;&#x7ED9;&#x540E;&#x7EE7;&#x8005;, &#x5404;&#x4E2A;&#x7EC4;&#x4EF6;&#x95F4;&#x5B8C;&#x5168;&#x89E3;&#x8026;.</p>
</li>
<li>
<p><strong>&#x52A8;&#x6001;&#x7EC4;&#x5408;&#x804C;&#x8D23;</strong><br>
&#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;&#x4F1A;&#x628A;&#x529F;&#x80FD;&#x5206;&#x6563;&#x5230;&#x5355;&#x72EC;&#x7684;&#x804C;&#x8D23;&#x5BF9;&#x8C61;&#x4E2D;, &#x7136;&#x540E;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x52A8;&#x6001;&#x7684;&#x7EC4;&#x5408;&#x5F62;&#x6210;&#x94FE;, &#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x7075;&#x6D3B;&#x7684;&#x5206;&#x914D;&#x804C;&#x8D23;&#x5BF9;&#x8C61;, &#x4E5F;&#x53EF;&#x4EE5;&#x7075;&#x6D3B;&#x7684;&#x6DFB;&#x52A0;&#x6539;&#x53D8;&#x5BF9;&#x8C61;&#x804C;&#x8D23;.</p>
</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-17">&#x7F3A;&#x70B9;</h5>

<ul>
<li>
<p><strong>&#x4EA7;&#x751F;&#x5F88;&#x591A;&#x7EC6;&#x7C92;&#x5EA6;&#x7684;&#x5BF9;&#x8C61;</strong><br>
&#x56E0;&#x4E3A;&#x529F;&#x80FD;&#x5904;&#x7406;&#x90FD;&#x5206;&#x6563;&#x5230;&#x4E86;&#x5355;&#x72EC;&#x7684;&#x804C;&#x8D23;&#x5BF9;&#x8C61;&#x4E2D;, &#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x529F;&#x80FD;&#x5355;&#x4E00;, &#x8981;&#x628A;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x5904;&#x7406;&#x5B8C;, &#x9700;&#x8981;&#x5F88;&#x591A;&#x7684;&#x804C;&#x8D23;&#x5BF9;&#x8C61;, &#x4F1A;&#x4EA7;&#x751F;&#x5927;&#x91CF;&#x7684;&#x7EC6;&#x7C92;&#x5EA6;&#x804C;&#x8D23;&#x5BF9;&#x8C61;.</p>
</li>
<li>
<p><strong>&#x4E0D;&#x4E00;&#x5B9A;&#x80FD;&#x5904;&#x7406;</strong><br>
&#x6BCF;&#x4E2A;&#x804C;&#x8D23;&#x5BF9;&#x8C61;&#x90FD;&#x53EA;&#x8D1F;&#x8D23;&#x81EA;&#x5DF1;&#x7684;&#x90E8;&#x5206;, &#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x67D0;&#x4E2A;&#x8BF7;&#x6C42;, &#x5373;&#x4F7F;&#x628A;&#x6574;&#x4E2A;&#x94FE;&#x8D70;&#x5B8C;, &#x90FD;&#x6CA1;&#x6709;&#x804C;&#x8D23;&#x5BF9;&#x8C61;&#x5904;&#x7406;&#x5B83;. &#x8FD9;&#x5C31;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x9ED8;&#x8BA4;&#x5904;&#x7406;, &#x5E76;&#x4E14;&#x6CE8;&#x610F;&#x6784;&#x9020;&#x94FE;&#x7684;&#x6709;&#x6548;&#x6027;.</p>
</li>
</ul>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-7">&#x603B;&#x7ED3;</h4>

<p>&#x5BF9;&#x4E8E;&#x8D23;&#x4EFB;&#x94FE;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5904;&#x7406;&#x8005;&#x5BF9;&#x8C61;, &#x6709;&#x4E24;&#x4E2A;&#x884C;&#x4E3A;: <strong>&#x4E00;&#x662F;&#x5904;&#x7406;&#x8BF7;&#x6C42;, &#x4E8C;&#x662F;&#x5C06;&#x8BF7;&#x6C42;&#x4F20;&#x9012;&#x5230;&#x4E0B;&#x4E00;&#x8282;&#x70B9;.</strong>, &#x4E0D;&#x5141;&#x8BB8;&#x67D0;&#x4E2A;&#x5904;&#x7406;&#x8005;&#x5BF9;&#x8C61;&#x5728;&#x5904;&#x7406;&#x4E86;&#x8BF7;&#x6C42;&#x540E;&#x53C8;&#x5C06;&#x8BF7;&#x6C42;&#x4F20;&#x9001;&#x7ED9;&#x4E0A;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x60C5;&#x51B5;.</p>
<p>&#x5BF9;&#x4E8E;&#x4E00;&#x6761;&#x8D23;&#x4EFB;&#x94FE;&#x6765;&#x8BF4;, &#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x6700;&#x7EC8;&#x53EA;&#x6709;&#x4E24;&#x79CD;&#x60C5;&#x51B5;: <strong>&#x4E00;&#x662F;&#x88AB;&#x67D0;&#x4E2A;&#x5904;&#x7406;&#x5BF9;&#x8C61;&#x6240;&#x5904;&#x7406;, &#x53E6;&#x4E00;&#x4E2A;&#x662F;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x5747;&#x672A;&#x5BF9;&#x5176;&#x5904;&#x7406;</strong>, &#x5BF9;&#x4E8E;&#x524D;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x6211;&#x4EEC;&#x79F0;&#x4E3A;<strong>&#x7EAF;&#x7684;&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;</strong>, &#x540E;&#x4E00;&#x79CD;&#x4E3A;<strong>&#x4E0D;&#x7EAF;&#x7684;&#x8D23;&#x4EFB;&#x94FE;</strong>. &#x5B9E;&#x9645;&#x4E2D;&#x5927;&#x591A;&#x4E3A;&#x4E0D;&#x7EAF;&#x7684;&#x8D23;&#x4EFB;&#x94FE;.</p>
<hr>
<h3 class="mume-header" id="%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F">&#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-18">&#x7B80;&#x4ECB;</h4>

<p>&#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F;, &#x662F;&#x7528;&#x6765;&#x964D;&#x4F4E;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x548C;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x590D;&#x6742;&#x6027;. <strong>&#x7528;&#x4E00;&#x4E2A;&#x4E2D;&#x4ECB;&#x5BF9;&#x8C61;&#x6765;&#x5C01;&#x88C5;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x5BF9;&#x8C61;&#x4EA4;&#x4E92;, &#x4E2D;&#x4ECB;&#x8005;&#x4F7F;&#x5404;&#x5BF9;&#x8C61;&#x4E0D;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x5730;&#x76F8;&#x4E92;&#x5F15;&#x7528;, &#x4ECE;&#x800C;&#x4F7F;&#x5176;&#x8026;&#x5408;&#x677E;&#x6563;, &#x800C;&#x4E14;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x5730;&#x6539;&#x53D8;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x4EA4;&#x4E92;.</strong></p>
<p>&#x4E2D;&#x4ECB;&#x8005;&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x884C;&#x4E3A;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;, &#x5B83;&#x516C;&#x5F00;&#x4E00;&#x4E2A;&#x7EDF;&#x4E00;&#x7684;&#x63A5;&#x53E3;, &#x7CFB;&#x7EDF;&#x7684;&#x4E0D;&#x540C;&#x5BF9;&#x8C61;&#x6216;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BE5;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x901A;&#x4FE1;. &#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x4E2D;&#x4ECB;&#x8005;&#x5BF9;&#x8C61;&#x540E;, &#x6240;&#x6709;&#x7684;&#x76F8;&#x5173;&#x5BF9;&#x8C61;&#x901A;&#x8FC7;&#x4E2D;&#x4ECB;&#x8005;&#x5BF9;&#x8C61;&#x6765;&#x901A;&#x4FE1;, &#x800C;&#x4E0D;&#x662F;&#x4E92;&#x76F8;&#x5F15;&#x7528;, &#x6240;&#x4EE5;&#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;, &#x53EA;&#x9700;&#x8981;&#x901A;&#x77E5;&#x4E2D;&#x4ECB;&#x8005;&#x5BF9;&#x8C61;&#x5373;&#x53EF;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-18">&#x7ED3;&#x6784;</h4>

<p>&#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F;, &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x4E2D;&#x4ECB;&#x8005;&#x63A5;&#x53E3;(Mediator)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x4E2D;&#x4ECB;&#x8005;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;(Concrete Mediator)</strong></li>
<li><strong>&#x540C;&#x4E8B;&#x7C7B;(Colleague)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x7684;&#x540C;&#x4E8B;&#x7C7B;(Concrete Colleague)</strong></li>
</ul>
<h5 class="mume-header" id="%E4%B8%AD%E4%BB%8B%E8%80%85%E6%8E%A5%E5%8F%A3">&#x4E2D;&#x4ECB;&#x8005;&#x63A5;&#x53E3;</h5>

<p>&#x5728;&#x91CC;&#x9762;&#x5B9A;&#x4E49;&#x5404;&#x4E2A;&#x540C;&#x4E8B;&#x4E4B;&#x95F4;&#x4EA4;&#x4E92;&#x9700;&#x8981;&#x7684;&#x65B9;&#x6CD5;, &#x53EF;&#x4EE5;&#x662F;&#x516C;&#x5171;&#x7684;&#x901A;&#x8BAF;&#x65B9;&#x6CD5;, &#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5C0F;&#x8303;&#x56F4;&#x7684;&#x4EA4;&#x4E92;&#x65B9;&#x5F0F;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E4%B8%AD%E4%BB%8B%E8%80%85%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1">&#x5177;&#x4F53;&#x4E2D;&#x4ECB;&#x8005;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;</h5>

<p>&#x5B83;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x5E76;&#x7EF4;&#x62A4;&#x5404;&#x4E2A;&#x540C;&#x4E8B;&#x5BF9;&#x8C61;, &#x5E76;&#x8D1F;&#x8D23;&#x5177;&#x4F53;&#x7684;&#x534F;&#x8C03;&#x5404;&#x540C;&#x4E8B;&#x5BF9;&#x8C61;&#x7684;&#x4EA4;&#x4E92;&#x5173;&#x7CFB;.</p>
<h5 class="mume-header" id="%E5%90%8C%E4%BA%8B%E7%B1%BB">&#x540C;&#x4E8B;&#x7C7B;</h5>

<p>&#x4E3B;&#x8981;&#x8D1F;&#x8D23;&#x7EA6;&#x675F;&#x540C;&#x4E8B;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;, &#x5E76;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x5177;&#x4F53;&#x540C;&#x4E8B;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x516C;&#x5171;&#x529F;&#x80FD;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E7%9A%84%E5%90%8C%E4%BA%8B%E7%B1%BB">&#x5177;&#x4F53;&#x7684;&#x540C;&#x4E8B;&#x7C7B;</h5>

<p>&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;, &#x5728;&#x9700;&#x8981;&#x4E0E;&#x5176;&#x5B83;&#x540C;&#x4E8B;&#x901A;&#x8BAF;&#x7684;&#x65F6;&#x5019;, &#x5C31;&#x4E0E;&#x6301;&#x6709;&#x7684;&#x4E2D;&#x4ECB;&#x8005;&#x901A;&#x4FE1;, &#x4E2D;&#x4ECB;&#x8005;&#x4F1A;&#x8D1F;&#x8D23;&#x4E0E;&#x5176;&#x5B83;&#x7684;&#x540C;&#x4E8B;&#x4EA4;&#x4E92;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-18">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x4E00;&#x7EC4;&#x5B9A;&#x4E49;&#x826F;&#x597D;&#x7684;&#x5BF9;&#x8C61;, &#x73B0;&#x5728;&#x8981;&#x8FDB;&#x884C;&#x590D;&#x6742;&#x7684;&#x901A;&#x4FE1;.</li>
<li>&#x5B9A;&#x5236;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5728;&#x591A;&#x4E2A;&#x7C7B;&#x4E2D;&#x7684;&#x884C;&#x4E3A;, &#x800C;&#x53C8;&#x4E0D;&#x60F3;&#x751F;&#x6210;&#x592A;&#x591A;&#x7684;&#x5B50;&#x7C7B;.</li>
</ul>
<p><strong>&#x4E2D;&#x4ECB;&#x5BF9;&#x8C61;&#x4E3B;&#x8981;&#x662F;&#x7528;&#x6765;&#x5C01;&#x88C5;&#x884C;&#x4E3A;&#x7684;, &#x884C;&#x4E3A;&#x7684;&#x53C2;&#x4E0E;&#x8005;&#x5C31;&#x662F;&#x90A3;&#x4E9B;&#x5BF9;&#x8C61;, &#x4F46;&#x662F;&#x901A;&#x8FC7;&#x4E2D;&#x4ECB;&#x8005;, &#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x4E0D;&#x7528;&#x76F8;&#x4E92;&#x77E5;&#x9053;.</strong></p>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-18">&#x5B9E;&#x4F8B;</h4>

<p>&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x4E2D;&#x4ECB;&#x5A92;&#x4F53;, &#x4E3A;&#x4E24;&#x4F4D;&#x540C;&#x4E8B;&#x4F20;&#x8BDD;.<br>
<strong>&#x5177;&#x4F53;&#x4E2D;&#x4ECB;&#x8005;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Mediator.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _MEDIATOR_H_
#define _MEDIATOR_H_

#include &lt;bits/stdc++.h&gt;

class Colleague;
class Mediator {

public:

  Mediator();
  void Send(std::string message, Colleague* colleague);

  void SetColleague1(Colleague* colleague);
  void SetColleague2(Colleague* colleague);

private:

  Colleague* m_Colleague1;
  Colleague* m_Colleague2;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x4E2D;&#x4ECB;&#x8005;&#x5B9E;&#x73B0;&#x5BF9;&#x8C61;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Mediator.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Mediator.h&quot;
#include &quot;Colleague.h&quot;
#include &quot;ConcreteColleague.h&quot;

Mediator::Mediator() {

}

void Mediator::Send(std::string message, Colleague* colleague) {

    if (colleague == m_Colleague1) {

        m_Colleague2-&gt;Notify(message);

    }else {

        m_Colleague1-&gt;Notify(message);

    }

}

void Mediator::SetColleague1(Colleague* colleague) {

    m_Colleague1 = colleague;

}

void Mediator::SetColleague2(Colleague* colleague) {

    m_Colleague2 = colleague;

}  
</code></pre><p><strong>&#x540C;&#x4E8B;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Colleague.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _COLLEAGUE_H_  
#define _COLLEAGUE_H_

#include &lt;bits/stdc++.h&gt;
#include &quot;Mediator.h&quot;

//class Mediator;
class Colleague {

public:

  Colleague();
  Colleague(Mediator* mediator);
  virtual ~Colleague();

  virtual void Notify(std::string message) = 0;
  virtual void Send(std::string message) = 0;

private:

  Mediator*  m_Mediator;

};

#endif  
</code></pre><p><strong>&#x540C;&#x4E8B;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Colleague.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Colleague.h&quot;
#include &quot;Mediator.h&quot;

Colleague::Colleague() {

}


Colleague::Colleague(Mediator* mediator) {

    m_Mediator = mediator;

}

Colleague::~Colleague() {

}
</code></pre><p><strong>&#x5177;&#x4F53;&#x7684;&#x540C;&#x4E8B;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ConcreteColleague.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CONCRETECOLLEAGUE_H_  
#define _CONCRETECOLLEAGUE_H_

#include &quot;Colleague.h&quot;

class ConcreteColleague1: public Colleague {

public:

  ConcreteColleague1(Mediator* mediator);
  void Send(std::string message) override;
  void Notify(std::string message) override;

private:

  Mediator*  m_Mediator;

};

class ConcreteColleague2: public Colleague {

public:

  ConcreteColleague2(Mediator* mediator);
  void Send(std::string message) override;
  void Notify(std::string message) override;

private:

  Mediator*  m_Mediator;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x7684;&#x540C;&#x4E8B;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ConcreteColleague.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteColleague.h&quot;

ConcreteColleague1::ConcreteColleague1(Mediator* mediator) {

    m_Mediator = mediator;

}

void ConcreteColleague1::Send(std::string message) {

    m_Mediator-&gt;Send(message, this);

}

void ConcreteColleague1::Notify(std::string message) {

    std::cout &lt;&lt; &quot;&#x540C;&#x4E8B;1&#x5F97;&#x5230;&#x6D88;&#x606F;: &quot; &lt;&lt; message &lt;&lt; std::endl;

}

ConcreteColleague2::ConcreteColleague2(Mediator* mediator) {

    m_Mediator = mediator;

}

void ConcreteColleague2::Send(std::string message) {

    m_Mediator-&gt;Send(message, this);

}

void ConcreteColleague2::Notify(std::string message) {

    std::cout &lt;&lt; &quot;&#x540C;&#x4E8B;2&#x5F97;&#x5230;&#x6D88;&#x606F;: &quot; &lt;&lt; message &lt;&lt; std::endl;

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ConcreteColleague.h&quot;
#include &quot;Mediator.h&quot;

int main() {

    Mediator* mediator = new Mediator();

    Colleague* c1 = new ConcreteColleague1(mediator);
    Colleague* c2 = new ConcreteColleague2(mediator);

    mediator-&gt;SetColleague1(c1);
    mediator-&gt;SetColleague2(c2);

    c1-&gt;Send(&quot;&#x5403;&#x4E86;&#x5417;?&quot;);
    c2-&gt;Send(&quot;&#x6211;&#x5403;&#x8FC7;&#x4E86;, &#x4F60;&#x5462;?&quot;);

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-18">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-18">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x51CF;&#x5C11;&#x5404;&#x4E2A; Colleague &#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;, &#x4F7F;&#x5F97;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x5730;&#x6539;&#x53D8;&#x548C;&#x590D;&#x7528;&#x5404;&#x4E2A; Colleague&#x7C7B; &#x548C; Mediator.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-18">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F;&#x7684;&#x7F3A;&#x70B9;&#x662F;&#x663E;&#x800C;&#x6613;&#x89C1;&#x7684;, &#x56E0;&#x4E3A;&#x8FD9;&#x4E2A; &quot;&#x4E2D;&#x4ECB;&quot; &#x627F;&#x62C5;&#x4E86;&#x8F83;&#x591A;&#x7684;&#x8D23;&#x4EFB;, &#x6240;&#x4EE5;&#x4E00;&#x65E6;&#x8FD9;&#x4E2A;&#x4E2D;&#x4ECB;&#x5BF9;&#x8C61;&#x51FA;&#x73B0;&#x4E86;&#x95EE;&#x9898;, &#x90A3;&#x4E48;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x53D7;&#x5230;&#x91CD;&#x5927;&#x7684;&#x5F71;&#x54CD;.</li>
</ul>
<hr>
<h3 class="mume-header" id="%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F">&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-19">&#x7B80;&#x4ECB;</h4>

<p>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F; &#x53C8;&#x53EB;&#x505A; <strong>&#x53D1;&#x5E03;-&#x8BA2;&#x9605;&#x6A21;&#x5F0F;, &#x6A21;&#x578B;-&#x89C6;&#x56FE;&#x6A21;&#x5F0F;, &#x6E90;-&#x76D1;&#x542C;&#x5668;&#x6A21;&#x5F0F;, &#x4ECE;&#x5C5E;&#x8005;&#x6A21;&#x5F0F;</strong>. &#x5728;&#x8BB8;&#x591A;&#x8BBE;&#x8BA1;&#x4E2D;, &#x7ECF;&#x5E38;&#x6D89;&#x53CA;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x5BF9;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53D8;&#x5316;&#x611F;&#x5174;&#x8DA3;, &#x800C;&#x4E14;&#x8FD9;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x5E0C;&#x671B;&#x8DDF;&#x8E2A;&#x90A3;&#x4E2A;&#x7279;&#x6B8A;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53D8;&#x5316;, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5F53;&#x5BF9;&#x8C61;&#x95F4;&#x5B58;&#x5728;&#x4E00;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#x65F6;, &#x5728;&#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;. <strong>&#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x88AB;&#x4FEE;&#x6539;&#x65F6;, &#x5219;&#x4F1A;&#x81EA;&#x52A8;&#x901A;&#x77E5;&#x5B83;&#x7684;&#x4F9D;&#x8D56;&#x5BF9;&#x8C61;.</strong></p>
<p>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;, &#x662F;&#x5173;&#x4E8E;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x60F3;&#x77E5;&#x9053;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;&#x6570;&#x636E;&#x53D8;&#x5316;&#x60C5;&#x51B5;&#x7684;&#x4E00;&#x79CD;&#x6210;&#x719F;&#x7684;&#x6A21;&#x5F0F;. &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x79F0;&#x4F5C; &quot;&#x4E3B;&#x9898;&quot; &#x7684;&#x5BF9;&#x8C61;&#x548C;&#x82E5;&#x5E72;&#x4E2A;&#x79F0;&#x4F5C; &quot;&#x89C2;&#x5BDF;&#x8005;&quot; &#x7684;&#x5BF9;&#x8C61;, &quot;&#x4E3B;&#x9898;&quot; &#x548C; &quot;&#x89C2;&#x5BDF;&#x8005;&quot; &#x95F4;&#x662F;&#x4E00;&#x79CD;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;, &#x5F53; &quot;&#x4E3B;&#x9898;&quot; &#x7684;&#x72B6;&#x6001;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;, &#x6240;&#x6709; &quot;&#x89C2;&#x5BDF;&#x8005;&quot; &#x90FD;&#x5F97;&#x5230;&#x901A;&#x77E5;.</p>
<p><strong>&#x4E3B;&#x8981;&#x89E3;&#x51B3;: &#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x7ED9;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x901A;&#x77E5;&#x7684;&#x95EE;&#x9898;, &#x800C;&#x4E14;&#x8981;&#x8003;&#x8651;&#x5230;&#x6613;&#x7528;&#x548C;&#x4F4E;&#x8026;&#x5408;, &#x4FDD;&#x8BC1;&#x9AD8;&#x5EA6;&#x7684;&#x534F;&#x4F5C;.</strong></p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-19">&#x7ED3;&#x6784;</h4>

<p>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x7684;&#x7ED3;&#x6784;&#x4E2D;&#x5305;&#x542B;&#x56DB;&#x79CD;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x4E3B;&#x9898;(Subject)</strong></li>
<li><strong>&#x89C2;&#x5BDF;&#x8005;(Observer)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x4E3B;&#x9898;(Concrete Subject)</strong></li>
<li><strong>&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;(Concrete Observer)</strong></li>
</ul>
<h5 class="mume-header" id="%E4%B8%BB%E9%A2%98">&#x4E3B;&#x9898;</h5>

<p>&#x4E3B;&#x9898;&#x662F;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;, &#x8BE5;&#x63A5;&#x53E3;&#x89C4;&#x5B9A;&#x4E86;&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x65B9;&#x6CD5;, &#x6BD4;&#x5982;: &#x6DFB;&#x52A0;, &#x5220;&#x9664;&#x89C2;&#x5BDF;&#x8005;&#x4EE5;&#x53CA;&#x901A;&#x77E5;&#x89C2;&#x5BDF;&#x8005;&#x66F4;&#x65B0;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;.</p>
<h5 class="mume-header" id="%E8%A7%82%E5%AF%9F%E8%80%85">&#x89C2;&#x5BDF;&#x8005;</h5>

<p>&#x89C2;&#x5BDF;&#x8005;&#x662F;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;, &#x8BE5;&#x63A5;&#x53E3;&#x89C4;&#x5B9A;&#x4E86;&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x7528;&#x6765;&#x66F4;&#x65B0;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E4%B8%BB%E9%A2%98">&#x5177;&#x4F53;&#x4E3B;&#x9898;</h5>

<p>&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x662F;&#x5B9E;&#x73B0;&#x4E3B;&#x9898;&#x63A5;&#x53E3;&#x7C7B;&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;, &#x8BE5;&#x5B9E;&#x4F8B;&#x5305;&#x542B;&#x6709;&#x53EF;&#x4EE5;&#x7ECF;&#x5E38;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x6570;&#x636E;, &#x5177;&#x4F53;&#x4E3B;&#x9898;&#x9700;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x96C6;&#x5408;, &#x6BD4;&#x5982; ArrayList, &#x5B58;&#x653E;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x5F15;&#x7528;, &#x4EE5;&#x4FBF;&#x6570;&#x636E;&#x53D8;&#x5316;&#x65F6;&#x901A;&#x77E5;&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E8%A7%82%E5%AF%9F%E8%80%85">&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;</h5>

<p>&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x662F;&#x5B9E;&#x73B0;&#x89C2;&#x5BDF;&#x8005;&#x63A5;&#x53E3;&#x7C7B;&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;. &#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x5305;&#x542B;&#x6709;&#x53EF;&#x4EE5;&#x5B58;&#x653E;&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x5F15;&#x7528;&#x7684;&#x4E3B;&#x9898;&#x63A5;&#x53E3;&#x53D8;&#x91CF;, &#x4EE5;&#x4FBF;&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x8BA9;&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x5F15;&#x7528;&#x6DFB;&#x52A0;&#x5230;&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x7684;&#x96C6;&#x5408;&#x4E2D;, &#x4F7F;&#x81EA;&#x5DF1;&#x6210;&#x4E3A;&#x5B83;&#x7684;&#x89C2;&#x5BDF;&#x8005;, &#x6216;&#x8BA9;&#x8FD9;&#x4E2A;&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x5C06;&#x81EA;&#x5DF1;&#x4ECE;&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x7684;&#x96C6;&#x5408;&#x4E2D;&#x5220;&#x9664;, &#x4F7F;&#x81EA;&#x5DF1;&#x4E0D;&#x518D;&#x662F;&#x5B83;&#x7684;&#x89C2;&#x5BDF;&#x8005;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-19">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x65F6;&#x9700;&#x8981;&#x901A;&#x77E5;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;, &#x4F46;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x53C8;&#x4E0D;&#x5E0C;&#x671B;&#x548C;&#x88AB;&#x901A;&#x77E5;&#x7684;&#x90A3;&#x4E9B;&#x5BF9;&#x8C61;&#x5F62;&#x6210;&#x7D27;&#x8026;&#x5408;.</li>
<li>&#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x65F6;, &#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x8BA9;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x4E5F;&#x5404;&#x81EA;&#x66F4;&#x65B0;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;, &#x4F46;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0D;&#x77E5;&#x9053;&#x5177;&#x4F53;&#x6709;&#x591A;&#x5C11;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x6570;&#x636E;.</li>
</ul>
<p>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5728;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x7684;&#x5E94;&#x7528;&#x4E2D;&#x975E;&#x5E38;&#x5E38;&#x89C1;, &#x6BD4;&#x5982;: &#x4F60;&#x5230; ATM &#x673A;&#x5668;&#x4E0A;&#x53D6;&#x94B1;, &#x591A;&#x6B21;&#x8F93;&#x9519;&#x5BC6;&#x7801;, &#x5361;&#x5C31;&#x4F1A;&#x88AB; ATM &#x541E;&#x6389;, &#x541E;&#x5361;&#x52A8;&#x4F5C;&#x53D1;&#x751F;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x89E6;&#x53D1;&#x54EA;&#x4E9B;&#x4E8B;&#x4EF6;&#x5462;?</p>
<p>&#x7B2C;&#x4E00;, &#x6444;&#x50CF;&#x5934;&#x8FDE;&#x7EED;&#x5FEB;&#x62CD;;<br>
&#x7B2C;&#x4E8C;, &#x901A;&#x77E5;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;, &#x541E;&#x5361;&#x53D1;&#x751F;;<br>
&#x7B2C;&#x4E09;, &#x521D;&#x59CB;&#x5316; ATM &#x673A;&#x5C4F;&#x5E55;, &#x8FD4;&#x56DE;&#x6700;&#x521D;&#x72B6;&#x6001;.</p>
<p>&#x4E00;&#x822C;&#x524D;&#x4E24;&#x4E2A;&#x52A8;&#x4F5C;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x6765;&#x5B8C;&#x6210;&#x7684;, &#x89C2;&#x5BDF;&#x8005;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6D88;&#x606F;&#x7684;&#x5E7F;&#x64AD;, <strong>&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x53EF;&#x4EE5;&#x89E6;&#x53D1;&#x591A;&#x4E2A;&#x4E8B;&#x4EF6;</strong>, &#x8FD9;&#x662F;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x529F;&#x80FD;.</p>
<p>&#x4F7F;&#x7528;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4E5F;&#x6709;&#x4E24;&#x4E2A;&#x91CD;&#x70B9;&#x95EE;&#x9898;&#x8981;&#x89E3;&#x51B3;:</p>
<ul>
<li><strong>&#x5E7F;&#x64AD;&#x94FE;&#x7684;&#x95EE;&#x9898;</strong> &#x5728;&#x4E00;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4E2D;&#x6700;&#x591A;&#x51FA;&#x73B0;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x65E2;&#x662F;&#x89C2;&#x5BDF;&#x8005;&#x4E5F;&#x662F;&#x88AB;&#x89C2;&#x5BDF;&#x8005;, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6D88;&#x606F;&#x6700;&#x591A;&#x8F6C;&#x53D1;&#x4E00;&#x6B21;.</li>
<li><strong>&#x5F02;&#x6B65;&#x5904;&#x7406;&#x95EE;&#x9898;</strong> &#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x53D1;&#x751F;&#x52A8;&#x4F5C;&#x4E86;, &#x89C2;&#x5BDF;&#x8005;&#x8981;&#x505A;&#x51FA;&#x56DE;&#x5E94;, &#x5982;&#x679C;&#x89C2;&#x5BDF;&#x8005;&#x6BD4;&#x8F83;&#x591A;, &#x5C31;&#x8981;&#x7528;&#x5F02;&#x6B65;&#x5904;&#x7406;, &#x5F02;&#x6B65;&#x5904;&#x7406;&#x5C31;&#x8981;&#x8003;&#x8651;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x548C;&#x961F;&#x5217;&#x7684;&#x95EE;&#x9898;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-19">&#x5B9E;&#x4F8B;</h4>

<p>&#x738B;&#x8005;&#x8363;&#x8000;&#x4E2D;, &#x725B;&#x9B54; &#x4F7F;&#x7528;&#x4E86;&#x5927;&#x95EA;, &#x674E;&#x767D; &#x548C; &#x9999;&#x9999; &#x5206;&#x522B;&#x7528;&#x4E86;&#x81EA;&#x5DF1;&#x7684;&#x4F4D;&#x79FB;&#x6280;&#x80FD;&#x8FDB;&#x884C;&#x4E86;&#x8EB2;&#x907F;.<br>
<strong>&#x4E3B;&#x9898;&#x7C7B;/&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Subject.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _SUBJECT_H_  
#define _SUBJECT_H_

#include &lt;bits/stdc++.h&gt;
#include &quot;ObServer.h&quot;

class Subject {

public:

    Subject(std::string name);
    virtual ~Subject();

    virtual void Attach(ObServer* obs);
    virtual void Detach(ObServer* obs);
    virtual void Notify();

    virtual void SetAction(std::string act);
    virtual std::string GetAction();

private:

    std::string m_Name;
    std::string m_Action;
    std::vector&lt;ObServer*&gt; m_ObServerVec;

};

class ConcretSubject: public Subject {

public:  

    ConcretSubject(std::string name);
    virtual ~ConcretSubject();

};

#endif  
</code></pre><p><strong>&#x4E3B;&#x9898;&#x7C7B;/&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Subject.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Subject.h&quot;
#include &quot;ObServer.h&quot;

Subject::Subject(std::string name) {

    m_Name = name;

}

Subject::~Subject() {

}

void Subject::Attach(ObServer* obs) {

    m_ObServerVec.push_back(obs);

}

void Subject::Detach(ObServer* obs) {

    for (auto it = m_ObServerVec.begin(); it != m_ObServerVec.end(); it++) {

        if (*it == obs) {
            m_ObServerVec.erase(it);
        }

    }

}

void Subject::Notify() {

    for (ObServer* obs : m_ObServerVec) {

        obs-&gt;Update(this);

    }

}

void Subject::SetAction(std::string act) {

    m_Action = act;

}

std::string Subject::GetAction() {

    return m_Action;

}

ConcretSubject::ConcretSubject(std::string name) 
              : Subject(name) {

}

ConcretSubject::~ConcretSubject() {
  
}  
</code></pre><p><strong>&#x89C2;&#x5BDF;&#x8005;&#x7C7B;/&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ObServer.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _OBSERVER_H_  
#define _OBSERVER_H_

#include &lt;bits/stdc++.h&gt;

class Subject;
class ObServer {

public:

  ObServer(std::string name);
  virtual ~ObServer();

  virtual void Update(Subject* obj);

protected:

  std::string m_Name;

};

class ConcretObServer: public ObServer {

public:

  ConcretObServer(std::string name);
  virtual ~ConcretObServer();

};

#endif  
</code></pre><p><strong>&#x89C2;&#x5BDF;&#x8005;&#x7C7B;/&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ObServer.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ObServer.h&quot;
#include &quot;Subject.h&quot;

ObServer::ObServer(std::string name) {

    m_Name = name;

}

ObServer::~ObServer() {

}

void ObServer::Update(Subject* obj) {

    std::string action;

    if (m_Name == &quot;&#x674E;&#x767D;&quot;) {

        action = &quot;&#x4F7F;&#x7528;&#x7075;&#x52A8;&#x7684;&#x4E00;&#x6280;&#x80FD;&#x5FEB;&#x901F;&#x907F;&#x5F00;&quot;;

    }else if (m_Name == &quot;&#x9999;&#x9999;&quot;) {

        action = &quot;&#x4F7F;&#x7528;&#x7FFB;&#x6EDA;&#xFF0C;&#x5E76;&#x8D70;&#x4F4D;&#x627E;&#x673A;&#x4F1A;&#x6253;&#x51FA;&#x7FFB;&#x6EDA;&#x4E4B;&#x540E;&#x7684;&#x52A0;&#x6210;&#x4F24;&#x5BB3;&quot;;

    }

    std::cout &lt;&lt; m_Name &lt;&lt; &quot; &quot; &lt;&lt; action &lt;&lt; std::endl;

}

ConcretObServer::ConcretObServer(std::string name) 
               : ObServer(name) {

}

ConcretObServer::~ConcretObServer() {
  
}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ObServer.h&quot;
#include &quot;Subject.h&quot;

int main() {

    Subject* sub = new ConcretSubject(&quot;&#x654C;&#x65B9;&#x725B;&#x9B54;&quot;);

    ObServer* obj1 = new ConcretObServer(&quot;&#x674E;&#x767D;&quot;);
    ObServer* obj2 = new ConcretObServer(&quot;&#x9999;&#x9999;&quot;);

    sub-&gt;Attach(obj1);
    sub-&gt;Attach(obj2);

    sub-&gt;SetAction(&quot;&#x4F7F;&#x7528;&#x4E86;&#x5927;&#x95EA;&quot;);
    sub-&gt;Notify();

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-19">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-19">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x548C;&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x662F;&#x677E;&#x8026;&#x5408;&#x5173;&#x7CFB;. &#x7531;&#x4E8E;&#x4E3B;&#x9898;&#x63A5;&#x53E3;&#x4EC5;&#x4EC5;&#x4F9D;&#x8D56;&#x4E8E;&#x89C2;&#x5BDF;&#x8005;&#x63A5;&#x53E3;, &#x56E0;&#x6B64;&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x53EA;&#x662F;&#x77E5;&#x9053;&#x5B83;&#x7684;&#x89C2;&#x5BDF;&#x8005;&#x662F;&#x5B9E;&#x73B0;&#x89C2;&#x5BDF;&#x8005;&#x63A5;&#x53E3;&#x7684;&#x67D0;&#x4E2A;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;, &#x4F46;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5177;&#x4F53;&#x662F;&#x54EA;&#x4E2A;&#x7C7B;. &#x7531;&#x4E8E;&#x89C2;&#x5BDF;&#x8005;&#x4EC5;&#x4EC5;&#x4F9D;&#x8D56;&#x4E8E;&#x4E3B;&#x9898;&#x63A5;&#x53E3;, &#x56E0;&#x6B64;&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x53EA;&#x662F;&#x77E5;&#x9053;&#x5B83;&#x4F9D;&#x8D56;&#x7684;&#x4E3B;&#x9898;&#x662F;&#x5B9E;&#x73B0;&#x4E3B;&#x9898;&#x63A5;&#x53E3;&#x7684;&#x67D0;&#x4E2A;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;, &#x4F46;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5177;&#x4F53;&#x662F;&#x54EA;&#x4E2A;&#x7C7B;.</li>
<li>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x6EE1;&#x8DB3; &quot;&#x5F00;&#x95ED;&#x539F;&#x5219;&quot;, &#x4E3B;&#x9898;&#x63A5;&#x53E3;&#x4EC5;&#x4EC5;&#x4F9D;&#x8D56;&#x4E8E;&#x89C2;&#x5BDF;&#x8005;&#x63A5;&#x53E3;, &#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x8BA9;&#x521B;&#x5EFA;&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x7684;&#x7C7B;&#x4E5F;&#x4EC5;&#x4EC5;&#x662F;&#x4F9D;&#x8D56;&#x4E8E;&#x89C2;&#x5BDF;&#x8005;&#x63A5;&#x53E3;. &#x56E0;&#x6B64;, &#x5982;&#x679C;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x5B9E;&#x73B0;&#x89C2;&#x5BDF;&#x8005;&#x63A5;&#x53E3;&#x7684;&#x7C7B;, &#x4E0D;&#x5FC5;&#x4FEE;&#x6539;&#x521B;&#x5EFA;&#x5177;&#x4F53;&#x4E3B;&#x9898;&#x7684;&#x7C7B;&#x7684;&#x4EE3;&#x7801;. &#x540C;&#x6837;, &#x521B;&#x5EFA;&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x7C7B;&#x4EC5;&#x4EC5;&#x4F9D;&#x8D56;&#x4E8E;&#x4E3B;&#x9898;&#x63A5;&#x53E3;, &#x5982;&#x679C;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x5B9E;&#x73B0;&#x4E3B;&#x9898;&#x63A5;&#x53E3;&#x7684;&#x7C7B;, &#x4E5F;&#x4E0D;&#x5FC5;&#x4FEE;&#x6539;&#x521B;&#x5EFA;&#x5177;&#x4F53;&#x89C2;&#x5BDF;&#x8005;&#x7C7B;&#x7684;&#x4EE3;&#x7801;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-19">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x5BF9;&#x8C61;&#x6709;&#x5F88;&#x591A;&#x7684;&#x76F4;&#x63A5;&#x548C;&#x95F4;&#x63A5;&#x7684;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x8BDD;, &#x5C06;&#x6240;&#x6709;&#x7684;&#x89C2;&#x5BDF;&#x8005;&#x90FD;&#x901A;&#x77E5;&#x5230;&#x4F1A;&#x82B1;&#x8D39;&#x5F88;&#x591A;&#x65F6;&#x95F4;.</li>
<li>&#x5982;&#x679C;&#x5728;&#x89C2;&#x5BDF;&#x8005;&#x548C;&#x89C2;&#x5BDF;&#x76EE;&#x6807;&#x4E4B;&#x95F4;&#x6709;&#x5FAA;&#x73AF;&#x4F9D;&#x8D56;&#x7684;&#x8BDD;, &#x89C2;&#x5BDF;&#x76EE;&#x6807;&#x4F1A;&#x89E6;&#x53D1;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x5FAA;&#x73AF;&#x8C03;&#x7528;, &#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x5D29;&#x6E83;.</li>
<li>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x6CA1;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x673A;&#x5236;&#x8BA9;&#x89C2;&#x5BDF;&#x8005;&#x77E5;&#x9053;&#x6240;&#x89C2;&#x5BDF;&#x7684;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x662F;&#x600E;&#x4E48;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;, &#x800C;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x77E5;&#x9053;&#x89C2;&#x5BDF;&#x76EE;&#x6807;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;.</li>
</ul>
<h4 class="mume-header" id="%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F-%E4%B8%8E-%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F-%E7%9A%84%E5%BC%82%E5%90%8C">&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F; &#x4E0E; &#x4E2D;&#x4ECB;&#x6A21;&#x5F0F; &#x7684;&#x5F02;&#x540C;</h4>

<ul>
<li>&#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F;&#x4E0E;&#x4E1A;&#x52A1;&#x76F8;&#x5173;, &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4E0E;&#x4E1A;&#x52A1;&#x65E0;&#x5173;.</li>
<li>&#x4E24;&#x4E2A;&#x6A21;&#x5F0F;&#x90FD;&#x6709;&#x96C6;&#x4E2D;&#x8C03;&#x5EA6;&#x6548;&#x679C;, &#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x4E0D;&#x76F4;&#x63A5;&#x53C2;&#x4E0E;&#x901A;&#x4FE1;.</li>
</ul>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-8">&#x603B;&#x7ED3;</h4>

<p>&#x5B9E;&#x73B0;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x7684;&#x65F6;&#x5019;&#x8981;&#x6CE8;&#x610F;, <strong>&#x89C2;&#x5BDF;&#x8005;&#x548C;&#x88AB;&#x89C2;&#x5BDF;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x7684;&#x4E92;&#x52A8;&#x5173;&#x7CFB;&#x4E0D;&#x80FD;&#x4F53;&#x73B0;&#x6210;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x76F4;&#x63A5;&#x8C03;&#x7528;, &#x5426;&#x5219;&#x5C31;&#x5C06;&#x4F7F;&#x89C2;&#x5BDF;&#x8005;&#x548C;&#x88AB;&#x89C2;&#x5BDF;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x7D27;&#x5BC6;&#x7684;&#x8026;&#x5408;&#x8D77;&#x6765;, &#x4ECE;&#x6839;&#x672C;&#x4E0A;&#x8FDD;&#x53CD;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x8BBE;&#x8BA1;&#x7684;&#x539F;&#x5219;</strong>. &#x65E0;&#x8BBA;&#x662F; &#x89C2;&#x5BDF;&#x8005; &quot;&#x89C2;&#x5BDF;&quot; &#x89C2;&#x5BDF;&#x5BF9;&#x8C61;, &#x8FD8;&#x662F;&#x88AB; &#x89C2;&#x5BDF;&#x8005; &#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x6539;&#x53D8; &quot;&#x901A;&#x77E5;&quot; &#x89C2;&#x5BDF;&#x8005;, &#x90FD;&#x4E0D;&#x5E94;&#x8BE5;&#x76F4;&#x63A5;&#x8C03;&#x7528;.</p>
<hr>
<h3 class="mume-header" id="%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F">&#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-20">&#x7B80;&#x4ECB;</h4>

<p>&#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;, &#x53C8;&#x53EB;&#x505A; <strong>&#x5FEB;&#x7167;&#x6A21;&#x5F0F;</strong> &#x6216; <strong>Token&#x6A21;&#x5F0F;</strong>, &#x662F; GOF &#x7684;23&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x4E00;, &#x5C5E;&#x4E8E;&#x884C;&#x4E3A;&#x6A21;&#x5F0F;. &#x610F;&#x56FE;&#x662F;&#x5728;&#x4E0D;&#x7834;&#x574F;&#x5C01;&#x95ED;&#x7684;&#x524D;&#x63D0;&#x4E0B;, &#x6355;&#x83B7;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x90E8;&#x72B6;&#x6001;, &#x5E76;&#x5728;&#x8BE5;&#x5BF9;&#x8C61;&#x4E4B;&#x5916;&#x4FDD;&#x5B58;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;. &#x8FD9;&#x6837;&#x4EE5;&#x540E;&#x5C31;&#x53EF;&#x5C06;&#x8BE5;&#x5BF9;&#x8C61;&#x6062;&#x590D;&#x5230;&#x539F;&#x5148;&#x4FDD;&#x5B58;&#x7684;&#x72B6;&#x6001;. &#x8BE5;&#x6A21;&#x5F0F;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;&#x5BF9;&#x8C61;&#x5F53;&#x524D;&#x72B6;&#x6001;, &#x5E76;&#x4E14;&#x5728;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x518D;&#x6B21;&#x6062;&#x590D;&#x5230;&#x6B64;&#x72B6;&#x6001;. &#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;&#x5B9E;&#x73B0;&#x7684;&#x65B9;&#x5F0F;<strong>&#x9700;&#x8981;&#x4FDD;&#x8BC1;&#x88AB;&#x4FDD;&#x5B58;&#x7684;&#x5BF9;&#x8C61;&#x72B6;&#x6001;&#x4E0D;&#x80FD;&#x88AB;&#x5BF9;&#x8C61;&#x4ECE;&#x5916;&#x90E8;&#x8BBF;&#x95EE;, &#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x62A4;&#x88AB;&#x4FDD;&#x5B58;&#x7684;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x72B6;&#x6001;&#x7684;&#x5B8C;&#x6574;&#x6027;&#x4EE5;&#x53CA;&#x5185;&#x90E8;&#x5B9E;&#x73B0;&#x4E0D;&#x5411;&#x5916;&#x66B4;&#x9732;</strong>.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-20">&#x7ED3;&#x6784;</h4>

<p>&#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x4E3B;&#x8981;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x53D1;&#x8D77;&#x4EBA;(Originator)</strong></li>
<li><strong>&#x5907;&#x5FD8;&#x5F55;(Memento)</strong></li>
<li><strong>&#x7BA1;&#x7406;&#x8005;(Caretaker)</strong></li>
</ul>
<h5 class="mume-header" id="%E5%8F%91%E8%B5%B7%E4%BA%BA">&#x53D1;&#x8D77;&#x4EBA;</h5>

<p>&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5907;&#x5FD8;&#x5F55; Memento, &#x7528;&#x4EE5;&#x8BB0;&#x5F55;&#x5F53;&#x524D;&#x65F6;&#x523B;&#x81EA;&#x8EAB;&#x7684;&#x5185;&#x90E8;&#x72B6;&#x6001;, &#x5E76;&#x53EF;&#x4F7F;&#x7528;&#x5907;&#x5FD8;&#x5F55;&#x6062;&#x590D;&#x5185;&#x90E8;&#x72B6;&#x6001;. Originator &#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x51B3;&#x5B9A; Memento &#x5B58;&#x50A8;&#x81EA;&#x5DF1;&#x7684;&#x54EA;&#x4E9B;&#x5185;&#x90E8;&#x72B6;&#x6001;.</p>
<h5 class="mume-header" id="%E5%A4%87%E5%BF%98%E5%BD%95">&#x5907;&#x5FD8;&#x5F55;</h5>

<p>&#x8D1F;&#x8D23;&#x5B58;&#x50A8; Originator &#x5BF9;&#x8C61;&#x7684;&#x5185;&#x90E8;&#x72B6;&#x6001;, &#x5E76;&#x53EF;&#x4EE5;&#x9632;&#x6B62; Originator &#x4EE5;&#x5916;&#x7684;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x8BBF;&#x95EE;&#x5907;&#x5FD8;&#x5F55;. &#x5907;&#x5FD8;&#x5F55;&#x6709;&#x4E24;&#x4E2A;&#x63A5;&#x53E3;: <strong>Caretaker &#x53EA;&#x80FD;&#x770B;&#x5230;&#x5907;&#x5FD8;&#x5F55;&#x7684;&#x7A84;&#x63A5;&#x53E3;, &#x4ED6;&#x53EA;&#x80FD;&#x5C06;&#x5907;&#x5FD8;&#x5F55;&#x4F20;&#x9012;&#x7ED9;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;; Originator &#x5374;&#x53EF;&#x770B;&#x5230;&#x5907;&#x5FD8;&#x5F55;&#x7684;&#x5BBD;&#x63A5;&#x53E3;, &#x5141;&#x8BB8;&#x5B83;&#x8BBF;&#x95EE;&#x8FD4;&#x56DE;&#x5230;&#x5148;&#x524D;&#x72B6;&#x6001;&#x6240;&#x9700;&#x8981;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;.</strong></p>
<h5 class="mume-header" id="%E7%AE%A1%E7%90%86%E8%80%85">&#x7BA1;&#x7406;&#x8005;</h5>

<p>&#x8D1F;&#x8D23;&#x5907;&#x5FD8;&#x5F55; Memento, &#x4E0D;&#x80FD;&#x5BF9; Memento &#x7684;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x6216;&#x8005;&#x64CD;&#x4F5C;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-20">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x548C;&#x6062;&#x590D;&#x6570;&#x636E;&#x7684;&#x76F8;&#x5173;&#x72B6;&#x6001;&#x573A;&#x666F;.</li>
<li>&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x53EF;&#x56DE;&#x6EDA;(rollback)&#x7684;&#x64CD;&#x4F5C;.</li>
<li>&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7684;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5C31;&#x662F;&#x7528;&#x7684;&#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-20">&#x5B9E;&#x4F8B;</h4>

<p>&#x6A21;&#x62DF;&#x8C61;&#x68CB;&#x6094;&#x68CB;&#x7684;&#x64CD;&#x4F5C;, &#x652F;&#x6301;&#x591A;&#x6B21;&#x6094;&#x68CB;&#x4EE5;&#x53CA;&#x64A4;&#x9500;&#x6094;&#x68CB;, &#x652F;&#x6301;&#x6094;&#x68CB;&#x540E;&#x91CD;&#x65B0;&#x843D;&#x5B50;, &#x91C7;&#x7528;&#x4E24;&#x4E2A;&#x6808;&#x5B58;&#x50A8;&#x5907;&#x5FD8;&#x5F55;.<br>
<strong>&#x53D1;&#x8D77;&#x4EBA;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Originator.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ORIGINATOR_H_
#define _ORIGINATOR_H_

#include &lt;bits/stdc++.h&gt;
#include &quot;Memento.h&quot;

class ChessMemento;
class ChessMan {

public:  

    ChessMan(const std::string &amp;type, int x, int y);
    ~ChessMan();

    void moveX(int i);
    void moveY(int i);

    int getX();
    int getY();

    std::string getType();

    ChessMemento* save();

    void restore(ChessMemento* memento);

private:

    std::string type;
    int x;
    int y;

};

#endif
</code></pre><p><strong>&#x53D1;&#x8D77;&#x4EBA;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Originator.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Originator.h&quot;  

ChessMan::ChessMan(const std::string &amp;type, int x, int y) {

    this-&gt;type = type;
    this-&gt;x = x;
    this-&gt;y = y;

    std::cout &lt;&lt; &quot;ChessMan Hello, Type = &quot; 
    &lt;&lt; this-&gt;type &lt;&lt; &quot; X = &quot; &lt;&lt; this-&gt;x &lt;&lt; &quot; Y = &quot; &lt;&lt; this-&gt;y &lt;&lt; std::endl;

}

ChessMan::~ChessMan() {

}

void ChessMan::moveX(int i) {

    this-&gt;x = i;

}

void ChessMan::moveY(int i) {

    this-&gt;y = i;

}

int ChessMan::getX() {

    return x;

}

int ChessMan::getY() {

    return y;

}

std::string ChessMan::getType() {

    return type;

}

ChessMemento* ChessMan::save() {


    return new ChessMemento(type, x, y);

}

void ChessMan::restore(ChessMemento* memento) {

    type = memento-&gt;getType();
    x = memento-&gt;getX();
    y = memento-&gt;getY();

}  
</code></pre><p><strong>&#x5907;&#x5FD8;&#x5F55;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Memento.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _MEMENTO_H_
#define _MEMENTO_H_

#include &lt;bits/stdc++.h&gt;

class ChessMemento {

public:  

    ChessMemento(const std::string &amp;type, int x, int y);
    ~ChessMemento();

    int getX();
    int getY();

    std::string getType();

private:  

    std::string type;  
    int x;
    int y;

};

#endif  
</code></pre><p><strong>&#x5907;&#x5FD8;&#x5F55;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Memento.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Memento.h&quot;

ChessMemento::ChessMemento(const std::string &amp;type, int x, int y) {

    this-&gt;type = type;
    this-&gt;x = x;
    this-&gt;y = y;
    std::cout &lt;&lt; &quot;ChessMemento Hello, Type = &quot; &lt;&lt; this-&gt;type &lt;&lt; &quot; X = &quot; &lt;&lt; this-&gt;x &lt;&lt; &quot; Y = &quot;
    &lt;&lt; this-&gt;y &lt;&lt; std::endl;

}

ChessMemento::~ChessMemento() {

    std::cout &lt;&lt; &quot;ChessMemento Bye, Type = &quot; &lt;&lt; this-&gt;type &lt;&lt; &quot; X = &quot; &lt;&lt; this-&gt;x &lt;&lt; &quot; Y = &quot;
    &lt;&lt; this-&gt;y &lt;&lt; std::endl;

}

int ChessMemento::getX() {

    return x;

}

int ChessMemento::getY() {

    return y;

}

std::string ChessMemento::getType() {

    return type;

}  
</code></pre><p><strong>&#x7BA1;&#x7406;&#x8005;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Caretaker.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CARETAKER_H_  
#define _CARETAKER_H_  

#include &lt;bits/stdc++.h&gt;
#include &quot;Memento.h&quot;

class ChessCaretaker {

public:  

    ChessCaretaker();
    ~ChessCaretaker();

    void saveMemento(ChessMemento* memento);
    ChessMemento* undoMemento();
    ChessMemento* redoMemento();

    ChessMemento* showCurrent();

private:  

    static void releaseStack(std::stack&lt;ChessMemento*&gt; &amp;stack) {

        while (!stack.empty()) {

            delete stack.top();
            stack.pop();

        }

    };

    std::stack&lt;ChessMemento*&gt; undoStack;
    std::stack&lt;ChessMemento*&gt; redoStack;

};

#endif
</code></pre><p><strong>&#x7BA1;&#x7406;&#x8005;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Caretaker.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Caretaker.h&quot;  

ChessCaretaker::ChessCaretaker() {

    std::cout &lt;&lt; &quot;ChessCaretaker Hello&quot; &lt;&lt; std::endl;

}

ChessCaretaker::~ChessCaretaker() {

   std::cout &lt;&lt; &quot;ChessCaretaker Bye&quot; &lt;&lt; std::endl;
   releaseStack(undoStack);
   releaseStack(redoStack); 

}

void ChessCaretaker::saveMemento(ChessMemento* memento) {

    undoStack.push(memento);
    releaseStack(redoStack);

}

ChessMemento* ChessCaretaker::undoMemento() {

    ChessMemento* memento = undoStack.top();
    undoStack.pop();
    redoStack.push(memento);
    return memento;

}

ChessMemento* ChessCaretaker::redoMemento() {

    ChessMemento* memento = redoStack.top();
    redoStack.pop();
    undoStack.push(memento);
    return memento;

}

ChessMemento* ChessCaretaker::showCurrent() {

    ChessMemento* memento = undoStack.top();
    return memento;

}
</code></pre><p><strong>&#x68CB;&#x624B;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>ChessPlayer.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CHESSPLAYER_H_  
#define _CHESSPLAYER_H_  

#include &quot;Originator.h&quot;  
#include &quot;Caretaker.h&quot;

class ChessPlayer {

public:  

    ChessPlayer();
    ~ChessPlayer();

    void play(ChessMan* chess);
    void undo();
    void redo();  

private:  

    static void printChess(ChessMemento* memento) {

        std::cout &lt;&lt; &quot;&#x68CB;&#x5B50;&quot; &lt;&lt; memento-&gt;getType() &lt;&lt; &quot;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x4E3A;: &quot; &lt;&lt; &quot; X = &quot;
        &lt;&lt; memento-&gt;getX() &lt;&lt; &quot; X = &quot; &lt;&lt; memento-&gt;getY() &lt;&lt; std::endl;

    }

    ChessCaretaker chessCaretaker;

};

#endif  
</code></pre><p><strong>&#x68CB;&#x624B;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>ChessPlayer.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;ChessPlayer.h&quot;  

ChessPlayer::ChessPlayer() {

    std::cout &lt;&lt; &quot;ChessPlayer Hello&quot; &lt;&lt; std::endl;

}

ChessPlayer::~ChessPlayer() {

    std::cout &lt;&lt; &quot;ChessPlayer Bye&quot; &lt;&lt; std::endl;

}

void ChessPlayer::play(ChessMan* chess) {

    std::cout &lt;&lt; &quot;&#x68CB;&#x5B50;&#x843D;&#x5B50;&quot; &lt;&lt; std::endl;
    ChessMemento* chessMemento = chess-&gt;save();
    chessCaretaker.saveMemento(chessMemento);

}

void ChessPlayer::undo() {

    std::cout &lt;&lt; &quot;&#x68CB;&#x624B;&#x6094;&#x68CB;&quot; &lt;&lt; std::endl;
    ChessMemento* chessMemento = chessCaretaker.undoMemento();
    printChess(chessMemento);

}

void ChessPlayer::redo() {

    std::cout &lt;&lt; &quot;&#x68CB;&#x624B;&#x91CD;&#x505A;&quot; &lt;&lt; std::endl;
    ChessMemento* chessMemento = chessCaretaker.redoMemento();
    printChess(chessMemento);

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Caretaker.h&quot; 
#include &quot;ChessPlayer.h&quot;    
#include &quot;Memento.h&quot;
#include &quot;Originator.h&quot;  

int main() {

    std::cout &lt;&lt; &quot;=====Memento Pattern Start=======&quot; &lt;&lt; std::endl;

    ChessPlayer player;

    ChessMan chessMan1(&quot;&#x8F66;&quot;, 0, 0);
    ChessMan chessMan2(&quot;&#x9A6C;&quot;, 0, 1);

    chessMan2.moveX(2);
    chessMan2.moveY(2);
    player.play(&amp;chessMan2);

    chessMan1.moveY(2);
    player.play(&amp;chessMan1);

    chessMan2.moveX(3);
    chessMan2.moveY(4);
    player.play(&amp;chessMan2);

    chessMan1.moveX(1);
    chessMan1.moveY(2);
    player.play(&amp;chessMan1);

    std::cout &lt;&lt; &quot;=================================&quot; &lt;&lt; std::endl;

    player.undo();
    player.undo();
    player.redo();

    std::cout &lt;&lt; &quot;=================================&quot; &lt;&lt; std::endl;

    chessMan1.moveX(3);
    chessMan1.moveY(2);
    player.play(&amp;chessMan1);

    std::cout &lt;&lt; &quot;======Memento Pattern End========&quot; &lt;&lt; std::endl;

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-20">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-20">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x6709;&#x65F6;&#x4E00;&#x4E9B;&#x53D1;&#x8D77;&#x4EBA;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x90E8;&#x4FE1;&#x606F;&#x5FC5;&#x987B;&#x4FDD;&#x5B58;&#x5728;&#x53D1;&#x8D77;&#x4EBA;&#x5BF9;&#x8C61;&#x4EE5;&#x5916;&#x7684;&#x5730;&#x65B9;, &#x4F46;&#x662F;&#x5FC5;&#x987B;&#x8981;&#x7531;&#x53D1;&#x8D77;&#x4EBA;&#x5BF9;&#x8C61;&#x81EA;&#x5DF1;&#x8BFB;&#x53D6;, &#x8FD9;&#x65F6;&#x4F7F;&#x7528;&#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x628A;&#x590D;&#x6742;&#x7684;&#x53D1;&#x8D77;&#x4EBA;&#x5185;&#x90E8;&#x4FE1;&#x606F;&#x5BF9;&#x5176;&#x4ED6;&#x7684;&#x5BF9;&#x8C61;&#x5C4F;&#x853D;&#x8D77;&#x6765;, &#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x6070;&#x5F53;&#x5730;&#x4FDD;&#x6301;&#x5C01;&#x88C5;&#x7684;&#x8FB9;&#x754C;.</li>
<li>&#x672C;&#x6A21;&#x5F0F;&#x7B80;&#x5316;&#x4E86; &#x53D1;&#x8D77;&#x4EBA; &#x7C7B;, &#x53D1;&#x8D77;&#x4EBA;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x7BA1;&#x7406;&#x548C;&#x4FDD;&#x5B58;&#x5176;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x7684;&#x4E00;&#x4E2A;&#x4E2A;&#x7248;&#x672C;, &#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x7BA1;&#x7406;&#x4ED6;&#x4EEC;&#x6240;&#x9700;&#x8981;&#x7684;&#x8FD9;&#x4E9B;&#x72B6;&#x6001;&#x7684;&#x7248;&#x672C;.</li>
<li>&#x5F53;&#x53D1;&#x8D77;&#x4EBA;&#x89D2;&#x8272;&#x7684;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x7684;&#x65F6;&#x5019;, &#x6709;&#x53EF;&#x80FD;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x65E0;&#x6548;, &#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6682;&#x65F6;&#x5B58;&#x50A8;&#x8D77;&#x6765;&#x7684;&#x5907;&#x5FD8;&#x5F55;&#x5C06;&#x72B6;&#x6001;&#x590D;&#x539F;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-20">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x5982;&#x679C;&#x53D1;&#x8D77;&#x4EBA;&#x89D2;&#x8272;&#x7684;&#x72B6;&#x6001;&#x9700;&#x8981;&#x5B8C;&#x6574;&#x5730;&#x5B58;&#x50A8;&#x5230;&#x5907;&#x5FD8;&#x5F55;&#x5BF9;&#x8C61;&#x4E2D;, &#x90A3;&#x4E48;&#x5728;&#x8D44;&#x6E90;&#x6D88;&#x8017;&#x4E0A;&#x9762;&#x5907;&#x5FD8;&#x5F55;&#x5BF9;&#x8C61;&#x4F1A;&#x5F88;&#x6602;&#x8D35;.</li>
<li>&#x5F53;&#x8D1F;&#x8D23;&#x4EBA;&#x89D2;&#x8272;&#x5C06;&#x4E00;&#x4E2A;&#x5907;&#x5FD8;&#x5F55; &#x5B58;&#x50A8;&#x8D77;&#x6765;&#x7684;&#x65F6;&#x5019;, &#x8D1F;&#x8D23;&#x4EBA;&#x53EF;&#x80FD;&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x4F1A;&#x5360;&#x7528;&#x591A;&#x5927;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;, &#x4ECE;&#x800C;&#x65E0;&#x6CD5;&#x63D0;&#x9192;&#x7528;&#x6237;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x662F;&#x5426;&#x5F88;&#x6602;&#x8D35;.</li>
<li>&#x5F53;&#x53D1;&#x8D77;&#x4EBA;&#x89D2;&#x8272;&#x7684;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x7684;&#x65F6;&#x5019;, &#x6709;&#x53EF;&#x80FD;&#x8FD9;&#x4E2A;&#x534F;&#x8BAE;&#x65E0;&#x6548;. &#x5982;&#x679C;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x7684;&#x6210;&#x529F;&#x7387;&#x4E0D;&#x9AD8;&#x7684;&#x8BDD;, &#x4E0D;&#x5982;&#x91C7;&#x53D6; &quot;&#x5047;&#x5982;&quot; &#x534F;&#x8BAE;&#x6A21;&#x5F0F;.</li>
</ul>
<hr>
<h3 class="mume-header" id="%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F">&#x72B6;&#x6001;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-21">&#x7B80;&#x4ECB;</h4>

<p>&#x72B6;&#x6001;&#x6A21;&#x5F0F;, &#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5728;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x65F6;&#x5141;&#x8BB8;&#x6539;&#x53D8;&#x5176;&#x884C;&#x4E3A;, &#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x662F;&#x6539;&#x53D8;&#x4E86;&#x5176;&#x7C7B;. &#x4E3B;&#x8981;&#x89E3;&#x51B3;<strong>&#x5F53;&#x63A7;&#x5236;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x72B6;&#x6001;&#x7684;&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;&#x8FC7;&#x4E8E;&#x590D;&#x6742;&#x65F6;&#x7684;&#x60C5;&#x51B5;</strong>. &#x628A;&#x72B6;&#x6001;&#x7684;&#x5224;&#x65AD;&#x903B;&#x8F91;&#x8F6C;&#x79FB;&#x5230;&#x8868;&#x793A;&#x4E0D;&#x540C;&#x72B6;&#x6001;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x7C7B;&#x4E2D;, &#x53EF;&#x4EE5;&#x628A;&#x590D;&#x6742;&#x7684;&#x5224;&#x65AD;&#x903B;&#x8F91;&#x7B80;&#x5316;. &#x4F7F;&#x7528;&#x72B6;&#x6001;&#x6A21;&#x5F0F;, &#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x5730;&#x907F;&#x514D;&#x8FC7;&#x591A;&#x7684; <strong>if - else</strong> &#x5206;&#x652F;, &#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x5C06;&#x6BCF;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x5206;&#x652F;&#x653E;&#x5165;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x7C7B;&#x4E2D;, &#x6BCF;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x5BF9;&#x8C61;&#x90FD;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x5B58;&#x5728;, &#x7A0B;&#x5E8F;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x72B6;&#x6001;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x72B6;&#x6001;&#x5BF9;&#x8C61;&#x6765;&#x5B9E;&#x73B0;&#x529F;&#x80FD;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-21">&#x7ED3;&#x6784;</h4>

<p>&#x72B6;&#x6001;&#x6A21;&#x5F0F;, &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x73AF;&#x5883;&#x7C7B;&#x89D2;&#x8272;</strong></li>
<li><strong>&#x62BD;&#x8C61;&#x72B6;&#x6001;&#x7C7B;/&#x72B6;&#x6001;&#x63A5;&#x53E3;</strong></li>
<li><strong>&#x5177;&#x4F53;&#x72B6;&#x6001;&#x7C7B;</strong></li>
</ul>
<h5 class="mume-header" id="%E7%8E%AF%E5%A2%83%E7%B1%BB%E8%A7%92%E8%89%B2">&#x73AF;&#x5883;&#x7C7B;&#x89D2;&#x8272;</h5>

<p>&#x5B9A;&#x4E49;&#x5BA2;&#x6237;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x63A5;&#x53E3;, &#x7EF4;&#x62A4;&#x4E00;&#x4E2A; State&#x5B50;&#x7C7B; &#x7684;&#x5B9E;&#x4F8B;, &#x8FD9;&#x4E2A;&#x5B9E;&#x4F8B;&#x5BF9;&#x5E94;&#x7684;&#x662F;&#x5BF9;&#x8C61;&#x5F53;&#x524D;&#x7684;&#x72B6;&#x6001;.</p>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E7%8A%B6%E6%80%81%E7%B1%BB%E7%8A%B6%E6%80%81%E6%8E%A5%E5%8F%A3">&#x62BD;&#x8C61;&#x72B6;&#x6001;&#x7C7B;/&#x72B6;&#x6001;&#x63A5;&#x53E3;</h5>

<p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x4E00;&#x7EC4;&#x884C;&#x4E3A;&#x63A5;&#x53E3;, &#x8868;&#x793A;&#x8BE5;&#x72B6;&#x6001;&#x4E0B;&#x7684;&#x884C;&#x4E3A;&#x52A8;&#x4F5C;.</p>
<h5 class="mume-header" id="%E5%85%B7%E4%BD%93%E7%8A%B6%E6%80%81%E7%B1%BB">&#x5177;&#x4F53;&#x72B6;&#x6001;&#x7C7B;</h5>

<p>&#x5B9E;&#x73B0; State&#x62BD;&#x8C61;&#x7C7B; &#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;, &#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x4E0D;&#x540C;&#x72B6;&#x6001;&#x4E0B;&#x7684;&#x4E0D;&#x540C;&#x884C;&#x4E3A;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-21">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x884C;&#x4E3A;&#x53D6;&#x51B3;&#x4E8E;&#x5B83;&#x7684;&#x72B6;&#x6001;, &#x5E76;&#x4E14;&#x5B83;&#x5FC5;&#x987B;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x523B;&#x6839;&#x636E;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x5B83;&#x7684;&#x884C;&#x4E3A;.</li>
<li>&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x4E2D;&#x542B;&#x6709;&#x5E9E;&#x5927;&#x7684;&#x591A;&#x5206;&#x652F;&#x7ED3;&#x6784;, &#x5E76;&#x4E14;&#x8FD9;&#x4E9B;&#x5206;&#x652F;&#x51B3;&#x5B9A;&#x4E8E;&#x5BF9;&#x8C61;&#x7684;&#x72B6;&#x6001;.</li>
</ul>
<p>&#x6BD4;&#x5982;, &#x6211;&#x4EEC;&#x5728;&#x5FAE;&#x535A;&#x4E0A;&#x770B;&#x5230;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;, &#x89C9;&#x5F97;&#x8FD8;&#x4E0D;&#x9519;, &#x4E8E;&#x662F;&#x60F3;&#x8BC4;&#x8BBA;&#x6216;&#x8005;&#x8F6C;&#x53D1;, &#x4F46;&#x5982;&#x679C;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x767B;&#x5F55;, &#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x5148;&#x81EA;&#x52A8;&#x8DF3;&#x8F6C;&#x5230;&#x767B;&#x5F55;&#x6CE8;&#x518C;&#x754C;&#x9762;; &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x767B;&#x5F55;, &#x5F53;&#x7136;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BC4;&#x8BBA;&#x6216;&#x8005;&#x8F6C;&#x53D1;&#x4E86;. &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;, &#x7528;&#x6237;&#x7684;&#x884C;&#x4E3A;&#x662F;&#x7531;&#x5F53;&#x524D;&#x662F;&#x5426;&#x767B;&#x5F55;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x6765;&#x51B3;&#x5B9A;&#x7684;, &#x8FD9;&#x5C31;&#x662F;&#x5178;&#x578B;&#x7684;&#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x60C5;&#x666F;.</p>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-21">&#x5B9E;&#x4F8B;</h4>

<p>&#x4E00;&#x4E2A;&#x6210;&#x5E74;&#x4EBA;, &#x4ED6;&#x6BCF;&#x5929;&#x90FD;&#x6709; &#x5DE5;&#x4F5C;&#x72B6;&#x6001; &#x6216;&#x662F; &#x751F;&#x6D3B;&#x72B6;&#x6001;.<br>
<strong>&#x73AF;&#x5883;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>People.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _PEOPLE_H_
#define _PEOPLE_H_

#include &quot;State.h&quot;

class People {

public:

  People(State* state);
  void ChangeState(State* state);
  void Show();
  void SetTime(int time);
  int Time();

private:

  int m_Now;
  State* m_State;

};

#endif  
</code></pre><p><strong>&#x73AF;&#x5883;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>People.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;People.h&quot;

People::People(State* state)
       :m_State(state) {

}

void People::ChangeState(State* state) {

    m_State = state;

}

void People::Show() {

    std::cout &lt;&lt; &quot;&#x6765;&#x5427;, &#x5C55;&#x793A;!&quot; &lt;&lt; std::endl;
    std::cout &lt;&lt; &quot;&#x5F53;&#x524D;&#x72B6;&#x6001;:&quot; &lt;&lt; m_State-&gt;Content() &lt;&lt; std::endl;

}

void People::SetTime(int time) {

    m_Now = time;
    m_State-&gt;Handle(this);

}

int People::Time() {

    return m_Now;

}  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x72B6;&#x6001;&#x7C7B;/&#x72B6;&#x6001;&#x63A5;&#x53E3;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>State.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _STATE_H_
#define _STATE_H_


#include &lt;bits/stdc++.h&gt;

class People;

class State {

public:

  State();
  State(std::string context);
  virtual ~State();
  virtual void Handle(People* people) = 0;

  std::string Content();

protected:

  std::string m_Content;

private:

  int m_Time;

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x72B6;&#x6001;&#x7C7B;/&#x72B6;&#x6001;&#x63A5;&#x53E3;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>State.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;State.h&quot;  

State::State() {

}

State::State(std::string content) {

    m_Content = content;

}

State::~State() {

}

std::string State::Content() {

    return m_Content;

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x72B6;&#x6001;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>WorkState.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _WORKSTATE_H_ 
#define _WORKSTATE_H_ 


#include &quot;State.h&quot;

class WorkState: public State {

public:

  WorkState(std::string content = &quot;&#x5DE5;&#x4F5C;&#x72B6;&#x6001;&quot;);
  void Handle(People* people) override;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x72B6;&#x6001;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>WorkState.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;lifestate.h&quot;
#include &quot;workstate.h&quot;
#include &quot;people.h&quot;

WorkState::WorkState(std::string content)
          :State(content) {

}

void WorkState::Handle(People* people) {

    int time = people-&gt;Time();

    if (time &lt; 9 || time &gt; 18) {
        people-&gt;ChangeState(new LifeState());
    }

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x72B6;&#x6001;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>LifeState.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _LIFESTATE_H_  
#define _LIFESTATE_H_ 

#include &quot;State.h&quot;

class LifeState: public State {

public:

  LifeState(std::string content = &quot;&#x751F;&#x6D3B;&#x72B6;&#x6001;&quot;);
  void Handle(People* people) override;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x72B6;&#x6001;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>LifeState.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;LifeState.h&quot;
#include &quot;WorkState.h&quot;
#include &quot;People.h&quot;

LifeState::LifeState(std::string content)
          :State(content) {

}

void LifeState::Handle(People* people) {

    int time = people-&gt;Time();

    if (time &gt; 9 &amp;&amp; time &lt; 18) {
        people-&gt;ChangeState(new WorkState());
    }

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;People.h&quot;
#include &quot;WorkState.h&quot;
#include &quot;LifeState.h&quot;

using namespace std;

int main() {

    std::shared_ptr&lt;State&gt; state1 = std::make_shared&lt;WorkState&gt;();
    People p(state1.get());

    p.Show();
    p.SetTime(9);
    p.Show();
    p.SetTime(11);
    p.Show();
    p.SetTime(20);
    p.Show();

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-21">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-21">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x5C01;&#x88C5;&#x4E86;&#x8F6C;&#x6362;&#x89C4;&#x5219;.</li>
<li>&#x679A;&#x4E3E;&#x53EF;&#x80FD;&#x7684;&#x72B6;&#x6001;, &#x5728;&#x679A;&#x4E3E;&#x72B6;&#x6001;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x786E;&#x5B9A;&#x72B6;&#x6001;&#x79CD;&#x7C7B;.</li>
<li>&#x5C06;&#x6240;&#x6709;&#x4E0E;&#x67D0;&#x4E2A;&#x72B6;&#x6001;&#x6709;&#x5173;&#x7684;&#x884C;&#x4E3A;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x7C7B;&#x4E2D;, &#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x72B6;&#x6001;, &#x53EA;&#x9700;&#x8981;&#x6539;&#x53D8;&#x5BF9;&#x8C61;&#x72B6;&#x6001;&#x5373;&#x53EF;&#x6539;&#x53D8;&#x5BF9;&#x8C61;&#x7684;&#x884C;&#x4E3A;.</li>
<li>&#x5141;&#x8BB8;&#x72B6;&#x6001;&#x8F6C;&#x6362;&#x903B;&#x8F91;&#x4E0E;&#x72B6;&#x6001;&#x5BF9;&#x8C61;&#x5408;&#x6210;&#x4E00;&#x4F53;, &#x800C;&#x4E0D;&#x662F;&#x67D0;&#x4E00;&#x4E2A;&#x5DE8;&#x5927;&#x7684;&#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x5757;.</li>
<li>&#x53EF;&#x4EE5;&#x8BA9;&#x591A;&#x4E2A;&#x73AF;&#x5883;&#x5BF9;&#x8C61;&#x5171;&#x4EAB;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x5BF9;&#x8C61;, &#x4ECE;&#x800C;&#x51CF;&#x5C11;&#x7CFB;&#x7EDF;&#x4E2D;&#x5BF9;&#x8C61;&#x7684;&#x4E2A;&#x6570;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-21">&#x7F3A;&#x70B9;</h5>

<ul>
<li>&#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x7684;&#x4F7F;&#x7528;&#x5FC5;&#x7136;&#x4F1A;&#x589E;&#x52A0;&#x7CFB;&#x7EDF;&#x7C7B;&#x548C;&#x5BF9;&#x8C61;&#x7684;&#x4E2A;&#x6570;.</li>
<li>&#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x7684;&#x7ED3;&#x6784;&#x4E0E;&#x5B9E;&#x73B0;&#x90FD;&#x8F83;&#x4E3A;&#x590D;&#x6742;, &#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E0D;&#x5F53;&#x5C06;&#x5BFC;&#x81F4;&#x7A0B;&#x5E8F;&#x7ED3;&#x6784;&#x548C;&#x4EE3;&#x7801;&#x7684;&#x6DF7;&#x4E71;.</li>
<li>&#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x5BF9; &quot;&#x5F00;&#x95ED;&#x539F;&#x5219;&quot; &#x7684;&#x652F;&#x6301;&#x5E76;&#x4E0D;&#x592A;&#x597D;, &#x5BF9;&#x4E8E;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x72B6;&#x6001;&#x7684;&#x72B6;&#x6001;&#x6A21;&#x5F0F;, &#x589E;&#x52A0;&#x65B0;&#x7684;&#x72B6;&#x6001;&#x7C7B;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x90A3;&#x4E9B;&#x8D1F;&#x8D23;&#x72B6;&#x6001;&#x8F6C;&#x6362;&#x7684;&#x6E90;&#x4EE3;&#x7801;, &#x5426;&#x5219;&#x65E0;&#x6CD5;&#x5207;&#x6362;&#x5230;&#x65B0;&#x589E;&#x72B6;&#x6001;; &#x800C;&#x4E14;&#x4FEE;&#x6539;&#x67D0;&#x4E2A;&#x72B6;&#x6001;&#x7C7B;&#x7684;&#x884C;&#x4E3A;&#x4E5F;&#x9700;&#x4FEE;&#x6539;&#x5BF9;&#x5E94;&#x7C7B;&#x7684;&#x6E90;&#x4EE3;&#x7801;.</li>
</ul>
<h5 class="mume-header" id="%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F-%E5%92%8C-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F-%E5%AF%B9%E6%AF%94">&#x72B6;&#x6001;&#x6A21;&#x5F0F; &#x548C; &#x7B56;&#x7565;&#x6A21;&#x5F0F; &#x5BF9;&#x6BD4;</h5>

<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5728;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019;, &#x9047;&#x5230;&#x5927;&#x91CF;&#x7684;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#x7684;&#x65F6;&#x5019;, &#x53EF;&#x80FD;&#x4F1A;&#x91C7;&#x7528;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x6765;&#x4F18;&#x5316;&#x7ED3;&#x6784;, &#x56E0;&#x4E3A;&#x8FD9;&#x65F6;&#x6D89;&#x53CA;&#x5230;&#x7B56;&#x7565;&#x7684;&#x9009;&#x62E9;, &#x4F46;&#x6709;&#x65F6;&#x5019;&#x4ED4;&#x7EC6;&#x67E5;&#x770B;&#x4E0B;, &#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x8FD9;&#x4E9B;&#x6240;&#x8C13;&#x7684;&#x7B56;&#x7565;&#x5176;&#x5B9E;&#x662F;&#x5BF9;&#x8C61;&#x7684;&#x4E0D;&#x540C;&#x72B6;&#x6001;, &#x66F4;&#x52A0;&#x660E;&#x663E;&#x7684;&#x662F;&#x5BF9;&#x8C61;&#x7684;&#x67D0;&#x79CD;&#x72B6;&#x6001;&#x4E5F;&#x6210;&#x4E3A;&#x5224;&#x65AD;&#x7684;&#x6761;&#x4EF6;.</p>
<p>&#x6211;&#x4EEC;<strong>&#x628A; Strategy&#x63A5;&#x53E3; &#x6539;&#x4E2A;&#x540D;&#x5B57;&#x4E3A; State, &#x8FD9;&#x5C31;&#x662F;&#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x4E86;</strong>, &#x540C;&#x6837; Context &#x4E5F;&#x6709;&#x4E00;&#x4E2A; State&#x7C7B;&#x578B; &#x7684;&#x5F15;&#x7528;, &#x4E5F;&#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x90E8;&#x95E8;&#x529F;&#x80FD;&#x59D4;&#x6258;&#x7ED9; State &#x6765;&#x5B8C;&#x6210;.</p>
<p>&#x8981;&#x4F7F;&#x7528;&#x72B6;&#x6001;&#x6A21;&#x5F0F;, &#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x660E;&#x786E;&#x4E24;&#x4E2A;&#x4E1C;&#x897F;: <strong>&#x72B6;&#x6001;&#x548C;&#x6BCF;&#x4E2A;&#x72B6;&#x6001;&#x4E0B;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;</strong>.</p>
<p>&#x5728;&#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x4E2D;, &#x56E0;&#x4E3A;&#x6240;&#x6709;&#x7684;&#x72B6;&#x6001;&#x90FD;&#x8981;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x52A8;&#x4F5C;, &#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5C06;&#x72B6;&#x6001;&#x62BD;&#x8C61;&#x51FA;&#x6765;. &#x72B6;&#x6001;&#x7684;&#x62BD;&#x8C61;&#x4E00;&#x822C;&#x6709;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;: <strong>&#x63A5;&#x53E3;&#x548C;&#x62BD;&#x8C61;&#x7C7B;</strong>. &#x5982;&#x679C;&#x6240;&#x6709;&#x7684;&#x72B6;&#x6001;&#x90FD;&#x6709;&#x5171;&#x540C;&#x7684;&#x6570;&#x636E;&#x57DF;, &#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x62BD;&#x8C61;&#x7C7B;, &#x4F46;&#x5982;&#x679C;&#x53EA;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x6267;&#x884C;&#x52A8;&#x4F5C;, &#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x63A5;&#x53E3;.</p>
<p>&#x4ED6;&#x4EEC;&#x4E4B;&#x95F4;&#x771F;&#x6B63;&#x7684;&#x533A;&#x522B;: <strong>&#x5728; &#x7B56;&#x7565;&#x6A21;&#x5F0F; &#x5BF9; Strategy &#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x7C7B;&#x6709;&#x7EDD;&#x5BF9;&#x7684;&#x63A7;&#x5236;&#x6743;, &#x5373; Context &#x8981;&#x611F;&#x77E5; Strategy &#x5177;&#x4F53;&#x7C7B;&#x578B;</strong>. &#x800C; **&#x72B6;&#x6001;&#x6A21;&#x5F0F;, Context &#x4E0D;&#x611F;&#x77E5; State &#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;, Context &#x53EA;&#x9700;&#x8C03;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x65B9;&#x6CD5;, &#x8FD9;&#x4E2A;&#x8C03;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x4F1A;&#x59D4;&#x6258;&#x7ED9; State &#x6765;&#x5B8C;&#x6210;, State &#x4F1A;&#x5728;&#x76F8;&#x5E94;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x65F6;, &#x81EA;&#x52A8;&#x4E3A; Context &#x8BBE;&#x7F6E;&#x72B6;&#x6001;, &#x800C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5BF9; Context &#x6765;&#x8BF4;&#x662F;&#x900F;&#x660E;&#x7684;, &#x4E0D;&#x88AB;&#x611F;&#x77E5;&#x7684;.</p>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-9">&#x603B;&#x7ED3;</h4>

<p>&#x5728;&#x5BF9;&#x8C61;&#x7684;&#x884C;&#x52A8;&#x53D6;&#x51B3;&#x4E8E;&#x672C;&#x8EAB;&#x7684;&#x72B6;&#x6001;&#x65F6;, &#x53EF;&#x4EE5;&#x9002;&#x7528;&#x4E8E;&#x72B6;&#x6001;&#x6A21;&#x5F0F;, &#x514D;&#x53BB;&#x4E86;&#x8FC7;&#x591A;&#x7684; <strong>if &#x2013; else</strong> &#x5224;&#x65AD;, &#x8FD9;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x590D;&#x6742;&#x7684;&#x548C;&#x7E41;&#x7410;&#x7684;&#x5224;&#x65AD;&#x903B;&#x8F91;&#x6709;&#x5F88;&#x597D;&#x7684;&#x5E2E;&#x52A9;. <strong>&#x4F46;&#x662F;&#x4F7F;&#x7528;&#x72B6;&#x6001;&#x6A21;&#x5F0F;, &#x52BF;&#x5FC5;&#x4F1A;&#x9020;&#x6210;&#x66F4;&#x591A;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x7C7B;, &#x5BF9;&#x4E8E;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x72B6;&#x6001;&#x5224;&#x65AD;, &#x53EF;&#x4EE5;&#x4E0D;&#x4F7F;&#x7528;</strong>.</p>
<hr>
<h3 class="mume-header" id="%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F">&#x547D;&#x4EE4;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-22">&#x7B80;&#x4ECB;</h4>

<p>&#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x662F;&#x4E00;&#x4E2A;<strong>&#x9AD8;&#x5185;&#x805A;</strong>&#x7684;&#x6A21;&#x5F0F;, &#x5176;&#x5B9A;&#x4E49;&#x4E3A;: <strong>&#x5C06;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;, &#x4ECE;&#x800C;&#x8BA9;&#x4F60;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x8BF7;&#x6C42;&#x628A;&#x5BA2;&#x6237;&#x7AEF;&#x53C2;&#x6570;&#x5316;, &#x5BF9;&#x8BF7;&#x6C42;&#x6392;&#x961F;&#x6216;&#x8005;&#x8BB0;&#x5F55;&#x8BF7;&#x6C42;&#x65E5;&#x5FD7;, &#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x547D;&#x4EE4;&#x7684;&#x64A4;&#x9500;&#x548C;&#x6062;&#x590D;&#x529F;&#x80FD;</strong>.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-22">&#x7ED3;&#x6784;</h4>

<p>&#x547D;&#x4EE4;&#x6A21;&#x5F0F; &#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x4E3B;&#x8981;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x63A5;&#x53D7;&#x8005;&#x89D2;&#x8272;(Receiver)</strong></li>
<li><strong>&#x547D;&#x4EE4;&#x89D2;&#x8272;(Command)</strong></li>
<li><strong>&#x8C03;&#x7528;&#x8005;&#x89D2;&#x8272;(Invoker)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8E%A5%E5%8F%97%E8%80%85%E8%A7%92%E8%89%B2">&#x63A5;&#x53D7;&#x8005;&#x89D2;&#x8272;</h5>

<p>&#x8BE5;&#x89D2;&#x8272;&#x5C31;&#x662F;&#x5E72;&#x6D3B;&#x7684;&#x89D2;&#x8272;, &#x547D;&#x4EE4;&#x4F20;&#x9012;&#x5230;&#x8FD9;&#x91CC;&#x662F;&#x5E94;&#x8BE5;&#x88AB;&#x6267;&#x884C;&#x7684;.</p>
<h5 class="mume-header" id="%E5%91%BD%E4%BB%A4%E8%A7%92%E8%89%B2">&#x547D;&#x4EE4;&#x89D2;&#x8272;</h5>

<p>&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x90FD;&#x5728;&#x8FD9;&#x91CC;&#x58F0;&#x660E;.</p>
<h5 class="mume-header" id="%E8%B0%83%E7%94%A8%E8%80%85%E8%A7%92%E8%89%B2">&#x8C03;&#x7528;&#x8005;&#x89D2;&#x8272;</h5>

<p>&#x63A5;&#x6536;&#x5230;&#x547D;&#x4EE4;, &#x5E76;&#x6267;&#x884C;&#x547D;&#x4EE4;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-22">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<p>&#x5F53;&#x9700;&#x8981;&#x5148;&#x5C06;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x767B;&#x8BB0;&#x4E0A;, &#x7136;&#x540E;&#x518D;&#x4EE5;&#x540E;&#x8C03;&#x7528;&#x6B64;&#x51FD;&#x6570;&#x65F6;, &#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;, <strong>&#x5176;&#x5B9E;&#x8FD9;&#x5C31;&#x662F;&#x56DE;&#x8C03;&#x51FD;&#x6570;</strong>.</p>
<p>&#x6709;&#x65F6;&#x5019;&#x9700;&#x8981;&#x5411;&#x67D0;&#x4E9B;&#x5BF9;&#x8C61;&#x53D1;&#x9001;&#x8BF7;&#x6C42;, &#x4F46;&#x662F;&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x8BF7;&#x6C42;&#x7684;&#x63A5;&#x6536;&#x8005;&#x662F;&#x8C01;, &#x4E5F;&#x4E0D;&#x77E5;&#x9053;&#x88AB;&#x8BF7;&#x6C42;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x4EC0;&#x4E48;. &#x6B64;&#x65F6;&#x5E0C;&#x671B;&#x7528;&#x4E00;&#x79CD;&#x677E;&#x8026;&#x5408;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8BBE;&#x8BA1;&#x7A0B;&#x5E8F;, &#x4F7F;&#x5F97;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x8005;&#x548C;&#x8BF7;&#x6C42;&#x63A5;&#x6536;&#x8005;&#x80FD;&#x591F;&#x6D88;&#x9664;&#x5F7C;&#x6B64;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#x5173;&#x7CFB;.</p>
<p>&#x6BD4;&#x5982;&#x62FF;&#x8BA2;&#x9910;&#x6765;&#x8BF4;, &#x5BA2;&#x4EBA;&#x9700;&#x8981;&#x5411;&#x53A8;&#x5E08;&#x53D1;&#x9001;&#x8BF7;&#x6C42;, &#x4F46;&#x662F;&#x5B8C;&#x5168;&#x4E0D;&#x77E5;&#x9053;&#x8FD9;&#x4E9B;&#x53A8;&#x5E08;&#x7092;&#x83DC;&#x7684;&#x65B9;&#x5F0F;&#x548C;&#x6B65;&#x9AA4;. &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x628A;&#x5BA2;&#x4EBA;&#x8BA2;&#x9910;&#x7684;&#x8BF7;&#x6C42;&#x5C01;&#x88C5;&#x6210; command &#x5BF9;&#x8C61;, &#x4E5F;&#x5C31;&#x662F;&#x8BA2;&#x9910;&#x4E2D;&#x7684;&#x8BA2;&#x5355;&#x5BF9;&#x8C61;. &#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x88AB;&#x56DB;&#x5904;&#x4F20;&#x9012;, &#x5C31;&#x50CF;&#x8BA2;&#x5355;&#x53EF;&#x4EE5;&#x4ECE;&#x670D;&#x52A1;&#x5458;&#x624B;&#x4E2D;&#x4F20;&#x5230;&#x53A8;&#x5E08;&#x7684;&#x624B;&#x4E2D;. &#x8FD9;&#x6837;&#x4E00;&#x6765;, &#x4ECE;&#x800C;&#x89E3;&#x5F00;&#x4E86;&#x8BF7;&#x6C42;&#x8C03;&#x7528;&#x8005;&#x548C;&#x8BF7;&#x6C42;&#x63A5;&#x6536;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#x5173;&#x7CFB;.</p>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-22">&#x5B9E;&#x4F8B;</h4>

<p>&#x4EE5;&#x5BA2;&#x6237;&#x8BA2;&#x9910;&#x4E3A;&#x4F8B;&#x5B50;.<br>
<strong>&#x62BD;&#x8C61;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Command.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _COMMAND_H_
#define _COMMAND_H_

#include &quot;Chef.h&quot;

class Command {

public:

  Command(Chef* Chef);

  virtual ~Command();
  virtual void ExcuteCmd() = 0;

protected:

  Chef* m_Chef;

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Command.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Command.h&quot;

Command::Command(Chef* chef) {

    m_Chef = chef;

}

Command::~Command() {
  
}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>KungPaoChickenCmd.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _KUNGPAOCHICKENCMD_H_  
#define _KUNGPAOCHICKENCMD_H_

#include &quot;Command.h&quot;
#include &quot;Chef.h&quot;

class KungPaoChickenCmd: public Command {

public: 

    KungPaoChickenCmd(Chef* chef);
    void ExcuteCmd() override;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>KungPaoChickenCmd.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;KungPaoChickenCmd.h&quot;  

KungPaoChickenCmd::KungPaoChickenCmd(Chef* chef) 
                 : Command(chef) {

}

void KungPaoChickenCmd::ExcuteCmd() {

    m_Chef-&gt;KungPaoChicken();

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>FishFlavoredShreddedPorkCmd.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _FISHFLAVOREDSHREDDEDPORKCMD_H_  
#define _FISHFLAVOREDSHREDDEDPORKCMD_H_  

#include &quot;Command.h&quot;
#include &quot;Chef.h&quot;

class FishFlavoreShreddedPorkCmd: public Command {

public:

    FishFlavoreShreddedPorkCmd(Chef* Chef);
    void ExcuteCmd() override;

};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>FishFlavoredShreddedPorkCmd.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;FishFlavoredShreddedPorkCmd.h&quot;  

FishFlavoreShreddedPorkCmd::FishFlavoreShreddedPorkCmd(Chef* chef) 
                          : Command(chef) {

}

void FishFlavoreShreddedPorkCmd::ExcuteCmd() {

    m_Chef-&gt;FishFlavoredShreddedPork();

}  
</code></pre><p><strong>&#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>BigPlateChickenCmd.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _BIGPLATECHICKENCMD_H_  
#define _BIGPLATECHICKENCMD_H_ 

#include &quot;Command.h&quot;
#include &quot;Chef.h&quot;

class BigPlateChickenCmd: public Command {

public:

    BigPlateChickenCmd(Chef* chef);
    void ExcuteCmd() override;


};

#endif  
</code></pre><p><strong>&#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>BigPlateChickenCmd.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;BigPlateChickenCmd.h&quot;

BigPlateChickenCmd::BigPlateChickenCmd(Chef* chef)
                  : Command(chef) {

}

void BigPlateChickenCmd::ExcuteCmd() {

    m_Chef-&gt;BigPlateChicken();

}  
</code></pre><p><strong>&#x8C03;&#x7528;&#x8005;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Waiter.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _WAITER_H_  
#define _WAITER_H_   

#include &lt;bits/stdc++.h&gt;
#include &quot;Command.h&quot;

class Waiter {

public:  

    Waiter();
    void AddCmd(Command* cmd);
    void DelCmd(Command* cmd);
    void Nodify();

private:

    std::list&lt;Command*&gt; m_CmdList;

};

#endif  
</code></pre><p><strong>&#x8C03;&#x7528;&#x8005;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Waiter.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Waiter.h&quot;  

Waiter::Waiter() {

}

void Waiter::AddCmd(Command* cmd) {

    m_CmdList.push_back(cmd);

}

void Waiter::DelCmd(Command* cmd) {

    m_CmdList.remove(cmd);

}

void Waiter::Nodify() {

    for (auto &amp;cmd : m_CmdList) {

        if (cmd) {
            cmd-&gt;ExcuteCmd();
        }

    }

}  
</code></pre><p><strong>&#x63A5;&#x53D7;&#x8005;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Chef.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CHEF_H_  
#define _CHEF_H_

#include &lt;bits/stdc++.h&gt;

class Chef {

public:

  Chef();

  void KungPaoChicken();
  void FishFlavoredShreddedPork();
  void BigPlateChicken();

};

#endif
</code></pre><p><strong>&#x63A5;&#x53D7;&#x8005;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Chef.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Chef.h&quot;

Chef::Chef() {

}

void Chef::KungPaoChicken() {

    std::cout &lt;&lt; &quot;&#x5BAB;&#x4FDD;&#x9E21;&#x4E01;&quot; &lt;&lt; std::endl;

}

void Chef::FishFlavoredShreddedPork() {

    std::cout &lt;&lt; &quot;&#x9C7C;&#x9999;&#x8089;&#x4E1D;&quot; &lt;&lt; std::endl;

}

void Chef::BigPlateChicken() {

    std::cout &lt;&lt; &quot;&#x5927;&#x76D8;&#x9E21;&quot; &lt;&lt; std::endl;

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Chef.h&quot;
#include &quot;Command.h&quot;
#include &quot;KungPaoChickenCmd.h&quot;
#include &quot;FishFlavoredShreddedPorkCmd.h&quot;
#include &quot;BigPlateChickenCmd.h&quot;
#include &quot;Waiter.h&quot;

#include &lt;bits/stdc++.h&gt;

int main() {

    std::shared_ptr&lt;Chef&gt; chef = std::make_shared&lt;Chef&gt;();

    Waiter waiter;  

    std::shared_ptr&lt;KungPaoChickenCmd&gt; kpcc;
    std::shared_ptr&lt;FishFlavoreShreddedPorkCmd&gt; ffspc;
    std::shared_ptr&lt;BigPlateChickenCmd&gt; bpcc;

    kpcc = std::make_shared&lt;KungPaoChickenCmd&gt;(chef.get());
    ffspc = std::make_shared&lt;FishFlavoreShreddedPorkCmd&gt;(chef.get());
    bpcc = std::make_shared&lt;BigPlateChickenCmd&gt;(chef.get());
    
    waiter.AddCmd(ffspc.get());
    waiter.AddCmd(kpcc.get());
    waiter.AddCmd(bpcc.get());

    waiter.Nodify();

    return 0;

}
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-22">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-22">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x7C7B;&#x95F4;&#x89E3;&#x8026;, &#x8C03;&#x7528;&#x8005;&#x89D2;&#x8272;&#x4E0E;&#x63A5;&#x6536;&#x8005;&#x89D2;&#x8272;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;, &#x8C03;&#x7528;&#x8005;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x65F6;&#x53EA;&#x9700;&#x8C03;&#x7528; <strong>Command</strong> &#x62BD;&#x8C61;&#x7C7B;&#x7684; <em><strong>execute</strong></em> &#x65B9;&#x6CD5;&#x5C31;&#x53EF;&#x4EE5;, &#x4E0D;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x5230;&#x5E95;&#x662F;&#x54EA;&#x4E2A;&#x63A5;&#x6536;&#x8005;&#x6267;&#x884C;.</li>
<li>&#x53EF;&#x6269;&#x5C55;&#x6027;, Command &#x7684;&#x5B50;&#x7C7B;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x5730;&#x6269;&#x5C55;, &#x800C;&#x8C03;&#x7528;&#x8005;Invoker &#x548C;&#x9AD8;&#x5C42;&#x6B21;&#x7684;&#x6A21;&#x5757; Client &#x4E0D;&#x4EA7;&#x751F;&#x4E25;&#x91CD;&#x7684;&#x4EE3;&#x7801;&#x8026;&#x5408;.</li>
<li>&#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x7ED3;&#x5408;&#x5176;&#x4ED6;&#x6A21;&#x5F0F;&#x4F1A;&#x66F4;&#x4F18;&#x79C0;, &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;, &#x5B9E;&#x73B0;&#x547D;&#x4EE4;&#x65CF;&#x89E3;&#x6790;&#x4EFB;&#x52A1;; &#x7ED3;&#x5408;&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;, &#x5219;&#x53EF;&#x4EE5;&#x51CF;&#x5C11; Command &#x5B50;&#x7C7B;&#x7684;&#x81A8;&#x80C0;&#x95EE;&#x9898;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-22">&#x7F3A;&#x70B9;</h5>

<p>&#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x4E5F;&#x662F;&#x6709;&#x7F3A;&#x70B9;&#x7684;, &#x8BF7;&#x770B; Command &#x7684;&#x5B50;&#x7C7B;: &#x5982;&#x679C;&#x6709;N&#x4E2A;&#x547D;&#x4EE4;, Command &#x7684;&#x5B50;&#x7C7B;&#x5C31;&#x662F;N&#x4E2A;, &#x8FD9;&#x4E2A;&#x7C7B;&#x81A8;&#x80C0;&#x5F97;&#x975E;&#x5E38;&#x5927;, &#x8FD9;&#x4E2A;&#x5C31;&#x9700;&#x8981;&#x8BFB;&#x8005;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x614E;&#x91CD;&#x8003;&#x8651;&#x4F7F;&#x7528;.</p>
<h4 class="mume-header" id="%E6%80%BB%E7%BB%93-10">&#x603B;&#x7ED3;</h4>

<p>&#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x7684;&#x610F;&#x56FE;&#x662F;&#x5C06;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;, &#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x8BF7;&#x6C42;&#x5BF9;&#x5BA2;&#x6237;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x5316;. &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x4E3B;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x662F;:<strong>&#x5728;&#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;, &#x884C;&#x4E3A;&#x8BF7;&#x6C42;&#x8005;&#x4E0E;&#x884C;&#x4E3A;&#x5B9E;&#x73B0;&#x8005;&#x901A;&#x5E38;&#x662F;&#x4E00;&#x79CD;&#x7D27;&#x8026;&#x5408;&#x7684;&#x5173;&#x7CFB;</strong>, &#x4F46;&#x67D0;&#x4E9B;&#x573A;&#x5408;, &#x6BD4;&#x5982;&#x9700;&#x8981;&#x5BF9;&#x884C;&#x4E3A;&#x8FDB;&#x884C;&#x8BB0;&#x5F55;, &#x64A4;&#x9500;&#x6216;&#x91CD;&#x505A;, &#x4E8B;&#x52A1;&#x7B49;&#x5904;&#x7406;&#x65F6;, &#x8FD9;&#x79CD;&#x65E0;&#x6CD5;&#x62B5;&#x5FA1;&#x53D8;&#x5316;&#x7684;&#x7D27;&#x8026;&#x5408;&#x7684;&#x8BBE;&#x8BA1;&#x5C31;&#x4E0D;&#x592A;&#x5408;&#x9002;.</p>
<p>&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x652F;&#x6301;&#x547D;&#x4EE4;&#x7684;&#x64A4;&#x9500;(Undo)&#x64CD;&#x4F5C;&#x548C;&#x6062;&#x590D;(Redo)&#x64CD;&#x4F5C;, &#x4E5F;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;, &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#x8FC7;&#x7A0B;&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x8005;&#x8C03;&#x7528;&#x63A5;&#x53D7;&#x8005;&#x6267;&#x884C;&#x547D;&#x4EE4;, &#x987A;&#x5E8F;: <strong>&#x8C03;&#x7528;&#x8005; -&gt; &#x63A5;&#x53D7;&#x8005; -&gt; &#x547D;&#x4EE4;</strong></p>
<hr>
<h3 class="mume-header" id="%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F">&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-23">&#x7B80;&#x4ECB;</h4>

<p>&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;, &#x63D0;&#x4F9B;&#x4E86;&#x8BC4;&#x4F30;&#x8BED;&#x8A00;&#x7684;&#x8BED;&#x6CD5;&#x6216;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x65B9;&#x5F0F;, &#x5B83;&#x5C5E;&#x4E8E;&#x884C;&#x4E3A;&#x578B;&#x6A21;&#x5F0F;. &#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x63A5;&#x53E3;, &#x8BE5;&#x63A5;&#x53E3;&#x89E3;&#x91CA;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x4E0A;&#x4E0B;&#x6587;. &#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x88AB;&#x7528;&#x5728; SQL &#x89E3;&#x6790;, &#x7B26;&#x53F7;&#x5904;&#x7406;&#x5F15;&#x64CE;&#x7B49;.</p>
<h4 class="mume-header" id="%E7%BB%93%E6%9E%84-23">&#x7ED3;&#x6784;</h4>

<p>&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;&#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;:</p>
<ul>
<li><strong>&#x62BD;&#x8C61;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;(Expression)</strong></li>
<li><strong>&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;(Terminal Expression)</strong></li>
<li><strong>&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;(Nonterminal Expression)</strong></li>
<li><strong>&#x73AF;&#x5883;&#x89D2;&#x8272;(Context)</strong></li>
</ul>
<h5 class="mume-header" id="%E6%8A%BD%E8%B1%A1%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A7%92%E8%89%B2">&#x62BD;&#x8C61;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;</h5>

<p>&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x6240;&#x6709;&#x7684;&#x5177;&#x4F53;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;&#x90FD;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x62BD;&#x8C61;&#x63A5;&#x53E3;, &#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x4E3B;&#x8981;&#x662F;&#x4E00;&#x4E2A; <em><strong>interpret</strong></em>() &#x65B9;&#x6CD5;, &#x79F0;&#x505A;&#x89E3;&#x91CA;&#x64CD;&#x4F5C;.</p>
<h5 class="mume-header" id="%E7%BB%88%E7%BB%93%E7%AC%A6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A7%92%E8%89%B2">&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;</h5>

<p>&#x5B9E;&#x73B0;&#x4E86;&#x62BD;&#x8C61;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;&#x6240;&#x8981;&#x6C42;&#x7684;&#x63A5;&#x53E3;, &#x4E3B;&#x8981;&#x662F;&#x4E00;&#x4E2A; <em><strong>interpret</strong></em>() &#x65B9;&#x6CD5;; &#x6587;&#x6CD5;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x7EC8;&#x7ED3;&#x7B26;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7EC8;&#x7ED3;&#x8868;&#x8FBE;&#x5F0F;&#x4E0E;&#x4E4B;&#x76F8;&#x5BF9;&#x5E94;. &#x6BD4;&#x5982;&#x6709;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x516C;&#x5F0F; <strong>R = R1 + R2</strong>, &#x5728;&#x91CC;&#x9762; R1 &#x548C; R2 &#x5C31;&#x662F;&#x7EC8;&#x7ED3;&#x7B26;, &#x5BF9;&#x5E94;&#x7684;&#x89E3;&#x6790; R1 &#x548C; R2 &#x7684;&#x89E3;&#x91CA;&#x5668;&#x5C31;&#x662F;&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;.</p>
<h5 class="mume-header" id="%E9%9D%9E%E7%BB%88%E7%BB%93%E7%AC%A6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A7%92%E8%89%B2">&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;</h5>

<p>&#x6587;&#x6CD5;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x89C4;&#x5219;&#x90FD;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;, &#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;&#x4E00;&#x822C;&#x662F;&#x6587;&#x6CD5;&#x4E2D;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x5173;&#x952E;&#x5B57;, &#x6BD4;&#x5982;&#x516C;&#x5F0F; <strong>R = R1 + R2</strong> &#x4E2D;, <strong>+</strong> &#x5C31;&#x662F;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;, &#x89E3;&#x6790; <strong>+</strong> &#x7684;&#x89E3;&#x91CA;&#x5668;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;.</p>
<h5 class="mume-header" id="%E7%8E%AF%E5%A2%83%E8%A7%92%E8%89%B2">&#x73AF;&#x5883;&#x89D2;&#x8272;</h5>

<p>&#x8FD9;&#x4E2A;&#x89D2;&#x8272;&#x7684;&#x4EFB;&#x52A1;&#x4E00;&#x822C;&#x662F;&#x7528;&#x6765;&#x5B58;&#x653E;&#x6587;&#x6CD5;&#x4E2D;&#x5404;&#x4E2A;&#x7EC8;&#x7ED3;&#x7B26;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x5177;&#x4F53;&#x503C;, &#x6BD4;&#x5982;&#x516C;&#x5F0F; <strong>R = R1 + R2</strong> &#x4E2D;, &#x6211;&#x4EEC;&#x7ED9; R1 &#x8D4B;&#x503C; 100, &#x7ED9; R2 &#x8D4B;&#x503C; 200. &#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x9700;&#x8981;&#x5B58;&#x653E;&#x5230;&#x73AF;&#x5883;&#x89D2;&#x8272;&#x4E2D;, &#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#x6211;&#x4EEC;&#x4F7F;&#x7528;Map&#x6765;&#x5145;&#x5F53;&#x73AF;&#x5883;&#x89D2;&#x8272;&#x5C31;&#x8DB3;&#x591F;&#x4E86;.</p>
<h4 class="mume-header" id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-23">&#x5E94;&#x7528;&#x573A;&#x666F;</h4>

<ul>
<li>&#x5F53;&#x6709;&#x4E00;&#x4E2A;&#x8BED;&#x8A00;&#x9700;&#x8981;&#x89E3;&#x91CA;&#x6267;&#x884C;, &#x5E76;&#x4E14;&#x4F60;&#x53EF;&#x5C06;&#x8BE5;&#x8BED;&#x8A00;&#x4E2D;&#x7684;&#x53E5;&#x5B50;&#x8868;&#x793A;&#x4E3A;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;, &#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;. &#x800C;&#x5F53;&#x5B58;&#x5728;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x65F6;&#x8BE5;&#x6A21;&#x5F0F;&#x6548;&#x679C;&#x6700;&#x597D;.</li>
<li>&#x8BE5;&#x6587;&#x6CD5;&#x7684;&#x7C7B;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x53D8;&#x5F97;&#x5E9E;&#x5927;&#x800C;&#x65E0;&#x6CD5;&#x7BA1;&#x7406;, &#x6B64;&#x65F6;&#x8BED;&#x6CD5;&#x5206;&#x6790;&#x7A0B;&#x5E8F;&#x751F;&#x6210;&#x5668;&#x8FD9;&#x6837;&#x7684;&#x5DE5;&#x5177;&#x662F;&#x6700;&#x597D;&#x7684;&#x9009;&#x62E9;, &#x4ED6;&#x4EEC;&#x65E0;&#x9700;&#x6784;&#x5EFA;&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;&#x5373;&#x53EF;&#x89E3;&#x91CA;&#x8868;&#x8FBE;&#x5F0F;, &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x8282;&#x7701;&#x7A7A;&#x95F4;&#x800C;&#x4E14;&#x8FD8;&#x53EF;&#x80FD;&#x8282;&#x7701;&#x65F6;&#x95F4;.</li>
<li>&#x6548;&#x7387;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x95EE;&#x9898;, &#x6700;&#x9AD8;&#x6548;&#x7684;&#x89E3;&#x91CA;&#x5668;&#x901A;&#x5E38;&#x4E0D;&#x662F;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x89E3;&#x91CA;&#x8BED;&#x6CD5;&#x5206;&#x6790;&#x6811;&#x5B9E;&#x73B0;&#x7684;, &#x800C;&#x662F;&#x9996;&#x5148;&#x5C06;&#x4ED6;&#x4EEC;&#x88C5;&#x6362;&#x6210;&#x53E6;&#x4E00;&#x79CD;&#x5F62;&#x5F0F;, &#x4F8B;&#x5982;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x5E38;&#x88AB;&#x88C5;&#x6362;&#x6210;&#x72B6;&#x6001;&#x673A;, &#x5373;&#x4F7F;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;, &#x8F6C;&#x6362;&#x5668;&#x4ECD;&#x53EF;&#x7528;&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;&#x5B9E;&#x73B0;, &#x8BE5;&#x6A21;&#x5F0F;&#x4ECD;&#x662F;&#x6709;&#x7528;&#x7684;.</li>
</ul>
<h4 class="mume-header" id="%E5%AE%9E%E4%BE%8B-23">&#x5B9E;&#x4F8B;</h4>

<p>&#x97F3;&#x4E50;&#x89E3;&#x91CA;&#x5668;<br>
<strong>&#x73AF;&#x5883;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>Context.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _CONTEXT_H_  
#define _CONTEXT_H_ 

#include &lt;bits/stdc++.h&gt;

class PlayContext {

public:

    void setPlayText(std::string text);
    std::string getPlayText();

private:

    std::string m_Text;

};

#endif  
</code></pre><p><strong>&#x73AF;&#x5883;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>Context.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;Context.h&quot;

void PlayContext::setPlayText(std::string text) {

    m_Text = text;

}

std::string PlayContext::getPlayText() {

    return m_Text;

}  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>AbstractExpression.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _ABSTRACTEXPRESSION_H_  
#define _ABSTRACTEXPRESSION_H_

#include &quot;Context.h&quot;

class Expression {

public:  

    void interpret(PlayContext* context);

    virtual void excute(std::string key, double value) = 0;

};

#endif  
</code></pre><p><strong>&#x62BD;&#x8C61;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>AbstractExpression.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;AbstractExpression.h&quot;
#include &lt;bits/stdc++.h&gt;
using namespace std;

void Expression::interpret(PlayContext* context) {

    std::string str = context-&gt;getPlayText();

    if (str.length() == 0) {
        return;
    }

    std::string playKey = str.substr(0, 1);
    context-&gt;setPlayText(str.substr(2));


    std::string str2 = context-&gt;getPlayText();

    if (str2.length() == 0) {
        return;
    }

    double playValue = std::stod(str2.substr(0, str2.find(&apos; &apos;)));

    if (str2.find(&apos; &apos;) == -1) {

        context-&gt;setPlayText(&quot;&quot;);

    }else {

        context-&gt;setPlayText(str2.substr(str2.find(&apos; &apos;) + 1));

    }

    std::cout &lt;&lt; playKey &lt;&lt; &quot; &quot; &lt;&lt; playValue &lt;&lt; &quot; : &quot;;
    excute(playKey, playValue);

}  
</code></pre><p><strong>&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;&#x7C7B;&#x5B9A;&#x4E49;</strong> (<em><strong>TerminaExperssion.h</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#ifndef _TERMINAEXPRESSION_H_  
#define _TERMINAEXPRESSION_H_ 

#include &quot;AbstractExpression.h&quot;  
#include &lt;bits/stdc++.h&gt;

class Note: public Expression {

public:

    void excute(std::string key, double value) override;

};

class Scale: public Expression {

public:

    void excute(std::string key, double value) override;

};

#endif  
</code></pre><p><strong>&#x7EC8;&#x7ED3;&#x7B26;&#x8868;&#x8FBE;&#x5F0F;&#x89D2;&#x8272;&#x7C7B;&#x5B9E;&#x73B0;</strong> (<em><strong>TerminaExperssion.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;TerminaExperssion.h&quot;

void Note::excute(std::string key, double value) {

    std::string note = &quot;&quot;;

    if (key == &quot;C&quot;) {

        note = &quot;1&quot;;

    }else if (key == &quot;D&quot;) {

        note = &quot;2&quot;;

    }else if (key == &quot;E&quot;) {

        note = &quot;3&quot;;

    }else if (key == &quot;F&quot;) {

        note = &quot;4&quot;;

    }else if (key == &quot;G&quot;) {

        note = &quot;5&quot;;

    }else if (key == &quot;A&quot;) {

        note = &quot;6&quot;;

    }else if (key == &quot;B&quot;) {

        note = &quot;7&quot;;

    }

    std::cout &lt;&lt; note &lt;&lt; std::endl;

}

void Scale::excute(std::string key, double value) {

    std::string scale = &quot;&quot;;

    int v = (value + 0.5);

    if (v == 1) {

        scale = &quot;&#x4F4E;&#x97F3;&quot;;

    }else if (v == 2) {

        scale = &quot;&#x4E2D;&#x97F3;&quot;;

    }else if (v == 3) {

        scale = &quot;&#x9AD8;&#x97F3;&quot;;

    }

    std::cout &lt;&lt; scale &lt;&lt; std::endl;

}  
</code></pre><p><strong>&#x5E94;&#x7528;</strong> (<em><strong>main.cpp</strong></em>)</p>
<pre data-role="codeBlock" data-info class="language-"><code>#include &quot;TerminaExperssion.h&quot;
#include &quot;Context.h&quot;

int main() {

    PlayContext* context = new PlayContext();

    context-&gt;setPlayText(&quot;O 2 E 0.5 G 0.5 A 3 E 0.5&quot;);

    Expression* expression = nullptr;

    while ((context-&gt;getPlayText()).length() &gt; 0) {

        std::string str = (context-&gt;getPlayText()).substr(0, 1);

        if (str == &quot;O&quot;) {

            expression = new Scale();

        }else if (str == &quot;P&quot;) {

            expression = new Note();

        }

        expression-&gt;interpret(context);

    }

    return 0;

}  
</code></pre><h4 class="mume-header" id="%E4%BC%98%E7%BC%BA%E7%82%B9-23">&#x4F18;&#x7F3A;&#x70B9;</h4>

<h5 class="mume-header" id="%E4%BC%98%E7%82%B9-23">&#x4F18;&#x70B9;</h5>

<ul>
<li>&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x6539;&#x53D8;&#x548C;&#x6269;&#x5C55;&#x65B9;&#x6CD5;, &#x56E0;&#x4E3A;&#x8BE5;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x7C7B;&#x6765;&#x8868;&#x793A;&#x65B9;&#x6CD5;&#x89C4;&#x5219;, &#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x6765;&#x6539;&#x53D8;&#x6216;&#x6269;&#x5C55;&#x8BE5;&#x65B9;&#x6CD5;.</li>
<li>&#x4E5F;&#x6BD4;&#x8F83;&#x5BB9;&#x6613;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;, &#x56E0;&#x4E3A;&#x5B9A;&#x4E49;&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;&#x603B;&#x5404;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;&#x5927;&#x4F53;&#x7C7B;&#x4F3C;, &#x8FD9;&#x4E9B;&#x7C7B;&#x90FD;&#x6613;&#x4E8E;&#x76F4;&#x63A5;&#x7F16;&#x5199;.</li>
<li>&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;&#x5C31;&#x662F;&#x5C06;&#x4E00;&#x53E5;&#x8BDD;, &#x8F6C;&#x53D8;&#x4E3A;&#x5B9E;&#x9645;&#x7684;&#x547D;&#x4EE4;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x800C;&#x5DF2;. &#x800C;&#x4E0D;&#x7528;&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;&#x672C;&#x8EAB;&#x4E5F;&#x53EF;&#x4EE5;&#x5206;&#x6790;, &#x4F46;&#x901A;&#x8FC7;&#x7EE7;&#x627F;&#x62BD;&#x8C61;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x65B9;&#x5F0F;, &#x7531;&#x4E8E;&#x4F9D;&#x8D56;&#x8F6C;&#x7F6E;&#x539F;&#x5219;, &#x4F7F;&#x5F97;&#x6587;&#x6CD5;&#x7684;&#x6269;&#x5C55;&#x548C;&#x7EF4;&#x62A4;&#x90FD;&#x5E26;&#x6765;&#x7684;&#x65B9;&#x4FBF;.</li>
</ul>
<h5 class="mume-header" id="%E7%BC%BA%E7%82%B9-23">&#x7F3A;&#x70B9;</h5>

<p>&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;&#x4E3A;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x89C4;&#x5219;&#x81F3;&#x5C11;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x7C7B;, &#x56E0;&#x6B64;&#x5305;&#x542B;&#x8BB8;&#x591A;&#x89C4;&#x5219;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x80FD;&#x96BE;&#x4EE5;&#x7BA1;&#x7406;&#x548C;&#x7EF4;&#x62A4;. &#x56E0;&#x6B64;&#x5F53;&#x65B9;&#x6CD5;&#x975E;&#x5E38;&#x590D;&#x6742;&#x65F6;, &#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x7684;&#x6280;&#x672F;&#x5982; &#x8BED;&#x6CD5;&#x5206;&#x6790;&#x7A0B;&#x5E8F; &#x6216; &#x7F16;&#x8BD1;&#x5668;&#x751F;&#x6210;&#x5668; &#x6765;&#x5904;&#x7406;.</p>
<hr>
<h2 class="mume-header" id="%E5%B8%B8%E7%94%A8%E4%B8%83%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99">&#x5E38;&#x7528;&#x4E03;&#x5927;&#x8BBE;&#x8BA1;&#x539F;&#x5219;</h2>

<p>&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8BBE;&#x8BA1;&#x7684;&#x76EE;&#x6807;&#x4E4B;&#x4E00;&#x5728;&#x4E8E;&#x652F;&#x6301;&#x53EF;&#x7EF4;&#x62A4;&#x6027;&#x590D;&#x7528;, &#x4E00;&#x65B9;&#x9762;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x8BBE;&#x8BA1;&#x65B9;&#x6848;&#x6216;&#x8005;&#x6E90;&#x7801;&#x7684;&#x91CD;&#x7528;; &#x53E6;&#x4E00;&#x65B9;&#x9762;&#x8981;&#x786E;&#x4FDD;&#x7CFB;&#x7EDF;&#x80FD;&#x591F;&#x6613;&#x4E8E;&#x6269;&#x5C55;&#x548C;&#x4FEE;&#x6539;, &#x5177;&#x6709;&#x8F83;&#x597D;&#x7684;&#x7075;&#x6D3B;&#x6027;. &#x5E38;&#x7528;&#x7684;&#x8BBE;&#x8BA1;&#x539F;&#x5219;&#x6709;<strong>7</strong>&#x4E2A;&#x539F;&#x5219;:</p>
<ul>
<li><strong>&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;</strong> (<em><strong>single responsibility principle</strong></em>, <strong>SPR</strong>)</li>
<li><strong>&#x5F00;&#x95ED;&#x539F;&#x5219;</strong> (<em><strong>Open-Close Principe</strong></em>, <strong>OCP</strong>)</li>
<li><strong>&#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219;</strong> (<em><strong>Liskov Substitution Principe</strong></em>, <strong>LPS</strong>)</li>
<li><strong>&#x4F9D;&#x8D56;&#x5012;&#x8F6C;&#x539F;&#x5219;</strong> (<em><strong>Dependence Inversion Principle</strong></em>, <strong>DIP</strong>)</li>
<li><strong>&#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;</strong> (<em><strong>Interface  Segregation Principle</strong></em>, <strong>ISP</strong>)</li>
<li><strong>&#x5408;&#x6210;&#x590D;&#x7528;&#x539F;&#x5219;</strong> (<em><strong>Composite Reuse Principe</strong></em>, <strong>CRP</strong>)</li>
<li><strong>&#x8FEA;&#x7C73;&#x7279;&#x6CD5;&#x5219;</strong> (<em><strong>Law of Demeter</strong></em>, <strong>LoD</strong>)</li>
</ul>
<h3 class="mume-header" id="%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99">&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-24">&#x7B80;&#x4ECB;</h4>

<p>&#x5F53;&#x4E00;&#x4E2A;&#x7C7B;&#x627F;&#x62C5;&#x7684;&#x804C;&#x8D23;&#x8FC7;&#x591A;, &#x5C31;&#x7B49;&#x4E8E;&#x628A;&#x8FD9;&#x4E9B;&#x804C;&#x8D23;&#x8026;&#x5408;&#x5728;&#x4E00;&#x8D77;, &#x4E00;&#x4E2A;&#x804C;&#x8D23;&#x7684;&#x53D8;&#x5316;&#x53EF;&#x80FD;&#x4F1A;&#x524A;&#x5F31;&#x6216;&#x8005;&#x4E00;&#x76F4;&#x8FD9;&#x7C7B;&#x5B8C;&#x6210;&#x5176;&#x4ED6;&#x804C;&#x8D23;&#x7684;&#x80FD;&#x529B;. &#x6240;&#x4EE5;&#x4E3A;&#x4E86;&#x51CF;&#x8F7B;&#x8FD9;&#x4E2A;&#x7C7B;&#x7684;&#x8D1F;&#x62C5;, &#x5C31;&#x8981;&#x8FDB;&#x884C;&#x804C;&#x8D23;&#x5206;&#x79BB;, &#x5C06;&#x4E0D;&#x540C;&#x7684;&#x652F;&#x4ED8;&#x5C01;&#x88C5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x4E2D;.</p>
<h4 class="mume-header" id="%E5%8E%9F%E5%88%99">&#x539F;&#x5219;</h4>

<p><strong>&#x5C31;&#x4E00;&#x4E2A;&#x7C7B;&#x800C;&#x8A00;, &#x5E94;&#x8BE5;&#x4EC5;&#x6709;&#x4E00;&#x4E2A;&#x5F15;&#x8D77;&#x5B83;&#x53D8;&#x5316;&#x7684;&#x539F;&#x56E0;</strong>.</p>
<p>&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;&#x662F;&#x5B9E;&#x73B0;&#x9AD8;&#x5185;&#x805A;, &#x4F4E;&#x8026;&#x5408;&#x7684;&#x6307;&#x5BFC;&#x65B9;&#x9488;, &#x5B83;&#x662F;&#x6700;&#x7B80;&#x5355;&#x4F46;&#x53C8;&#x6700;&#x96BE;&#x8FD0;&#x7528;&#x7684;&#x539F;&#x5219;, &#x9700;&#x8981;&#x8BBE;&#x8BA1;&#x4EBA;&#x5458;&#x53D1;&#x73B0;&#x7C7B;&#x7684;&#x4E0D;&#x540C;&#x804C;&#x8D23;&#x5E76;&#x5C06;&#x5176;&#x5206;&#x79BB;, &#x800C;&#x53D1;&#x73B0;&#x7C7B;&#x7684;&#x591A;&#x91CD;&#x804C;&#x8D23;&#x9700;&#x8981;&#x8BBE;&#x8BA1;&#x4EBA;&#x5458;&#x5177;&#x6709;&#x8F83;&#x5F3A;&#x7684;&#x5206;&#x6790;&#x8BBE;&#x8BA1;&#x80FD;&#x529B;&#x548C;&#x76F8;&#x5173;&#x5B9E;&#x8DF5;&#x7ECF;&#x9A8C;.</p>
<h4 class="mume-header" id="%E4%BE%8B%E5%AD%90">&#x4F8B;&#x5B50;</h4>

<p>&#x624B;&#x673A;&#x4E0E;&#x7167;&#x76F8;&#x673A;, &#x5B83;&#x4EEC;&#x90FD;&#x6709;&#x7167;&#x76F8;&#x7684;&#x529F;&#x80FD;. &#x4F46;&#x662F;&#x624B;&#x673A;&#x7684;&#x529F;&#x80FD;&#x4E0D;&#x4EC5;&#x4EC5;&#x53EA;&#x6709;&#x7167;&#x76F8;&#x8FD8;&#x53EF;&#x4EE5;&#x6253;&#x7535;&#x8BDD;, &#x542C;&#x97F3;&#x4E50;; &#x800C;&#x4F46;&#x662F;&#x7167;&#x76F8;&#x673A;&#x5C31;&#x53EA;&#x8D1F;&#x8D23;&#x7167;&#x76F8;. &#x56E0;&#x6B64;, &#x8FD9;&#x91CC;&#x9762;&#x7684;&#x624B;&#x673A;&#x804C;&#x80FD;&#x5C31;&#x8FC7;&#x591A;, &#x5728;&#x7EF4;&#x62A4;&#x7B49;&#x65B9;&#x9762;&#x5C31;&#x4F1A;&#x6BD4;&#x5355;&#x4E00;&#x804C;&#x8D23;&#x7684;&#x56F0;&#x96BE;&#x5F88;&#x591A;.</p>
<hr>
<h3 class="mume-header" id="%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99">&#x5F00;&#x95ED;&#x539F;&#x5219;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-25">&#x7B80;&#x4ECB;</h4>

<p>&#x6CA1;&#x6709;&#x5341;&#x5168;&#x5341;&#x7F8E;&#x7684;&#x8F6F;&#x4EF6;, &#x968F;&#x7740;&#x65F6;&#x95F4;&#x7684;&#x63A8;&#x79FB;, &#x8F6F;&#x4EF6;&#x4E5F;&#x662F;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x6362;&#x4EE3;&#x7684;. &#x5F53;&#x8F6F;&#x4EF6;&#x9700;&#x8981;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x9700;&#x6C42;&#x7684;&#x65F6;&#x5019;, &#x7A0B;&#x5E8F;&#x5458;&#x5E94;&#x8BE5;&#x5C3D;&#x91CF;&#x4FDD;&#x8BC1;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x6846;&#x67B6;&#x7684;&#x7A33;&#x5B9A;. &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8F6F;&#x4EF6;&#x7B26;&#x5408; &#x5F00;&#x653E;&#x2014;&#x5C01;&#x95ED; &#x539F;&#x5219;, &#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x8FDB;&#x884C;&#x6269;&#x5C55;, &#x65E0;&#x9700;&#x4FEE;&#x6539;&#x5176;&#x4ED6;&#x7684;&#x4EE3;&#x7801;.</p>
<h4 class="mume-header" id="%E5%8E%9F%E5%88%99-1">&#x539F;&#x5219;</h4>

<p><strong>&#x8F6F;&#x4EF6;&#x5B9E;&#x4F53;(&#x7C7B;, &#x6A21;&#x5757;, &#x51FD;&#x6570;&#x7B49;&#x7B49;) &#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x53EF;&#x6269;&#x5C55;, &#x4F46;&#x662F;&#x4E0D;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;</strong>.</p>
<p>&#x6B64;&#x539F;&#x5219;&#x662F;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8BBE;&#x8BA1;&#x7684;&#x6838;&#x5FC3;, &#x9075;&#x5FAA;&#x8FD9;&#x4E2A;&#x539F;&#x5219;&#x53EF;&#x4EE5;&#x5E26;&#x6765;&#x5F88;&#x591A;&#x597D;&#x5904;, &#x5F53;&#x51FA;&#x73B0;&#x9891;&#x7E41;&#x53D8;&#x5316;&#x7684;&#x90A3;&#x90E8;&#x5206;&#x7684;&#x65F6;&#x5019;, &#x5C31;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x62BD;&#x8C61;&#x51FA;&#x6765;. &#x4F46;&#x662F;&#x62BD;&#x8C61;&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x6CE8;&#x610F;: <strong>&#x62D2;&#x7EDD;&#x4E0D;&#x6210;&#x719F;&#x7684;&#x62BD;&#x8C61;</strong>.</p>
<h4 class="mume-header" id="%E4%BE%8B%E5%AD%90-1">&#x4F8B;&#x5B50;</h4>

<p>&#x4EE3;&#x5DE5;&#x5382;&#x52A0;&#x5DE5;. &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4EE3;&#x5DE5;&#x5382;&#x53EA;&#x662F;&#x4E00;&#x5FC3;&#x4E00;&#x610F;&#x52A0;&#x5DE5;&#x4E00;&#x7C7B;&#x4EA7;&#x54C1;, &#x65AD;&#x7EDD;&#x5176;&#x4ED6;&#x4EA7;&#x54C1;&#x7684;&#x4E1A;&#x52A1;, &#x8FD9;&#x6837;&#x5982;&#x679C;&#x5F53;&#x6B64;&#x4EA7;&#x54C1;&#x6EDE;&#x9500;&#x65F6;, &#x4EE3;&#x5DE5;&#x5382;&#x4E5F;&#x4F1A;&#x9762;&#x4E34;&#x5371;&#x673A;. &#x5982;&#x679C;&#x4EE3;&#x5DE5;&#x5382;&#x7684;&#x4E1A;&#x52A1;&#x662F;&#x53EF;&#x62D3;&#x5C55;&#x7684;, &#x4E0D;&#x9700;&#x8981;&#x53BB;&#x89E6;&#x52A8;&#x539F;&#x6765;&#x4EA7;&#x54C1;&#x7684;&#x4E1A;&#x52A1;, &#x53EF;&#x4EE5;&#x52A0;&#x5DE5;&#x5404;&#x79CD;&#x5176;&#x4ED6;&#x7684;&#x4EA7;&#x54C1;, &#x589E;&#x52A0;&#x5DE5;&#x5382;&#x7684;&#x5176;&#x4ED6;&#x4E1A;&#x52A1;&#x6536;&#x5165;, &#x8FD9;&#x6837;&#x5DE5;&#x5382;&#x7684;&#x6297;&#x98CE;&#x9669;&#x80FD;&#x529B;&#x5C31;&#x4F1A;&#x5927;&#x5927;&#x63D0;&#x9AD8;. &#x8FD9;&#x5C31;&#x662F;&#x5BF9;&#x6269;&#x5C55;&#x7684;&#x5F00;&#x653E;, &#x5BF9;&#x4FEE;&#x6539;&#x7684;&#x5173;&#x95ED;&#x7684;&#x610F;&#x4E49;.</p>
<hr>
<h3 class="mume-header" id="%E9%87%8C%E6%B0%8F%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99">&#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-26">&#x7B80;&#x4ECB;</h4>

<p>&#x4E00;&#x4E2A;&#x8F6F;&#x4EF6;&#x5B9E;&#x4F53;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x7236;&#x7C7B;&#x7684;&#x8BDD;, &#x90A3;&#x4E48;&#x4E00;&#x5B9A;&#x9002;&#x7528;&#x4E8E;&#x5176;&#x4ED6;&#x5B50;&#x7C7B;, &#x4E8C;&#x4E14;&#x4ED6;&#x5BDF;&#x89C9;&#x4E0D;&#x51FA;&#x7236;&#x7C7B;&#x5BF9;&#x8C61;&#x548C;&#x5B50;&#x7C7B;&#x5BF9;&#x8C61;&#x7684;&#x533A;&#x522B;. &#x6362;&#x8A00;&#x4E4B;, &#x5728;&#x8F6F;&#x4EF6;&#x91CC;&#x9762;, &#x628A;&#x7236;&#x7C7B;&#x90FD;&#x66FF;&#x6362;&#x6210;&#x4ED6;&#x7684;&#x5B50;&#x7C7B;, &#x7A0B;&#x5E8F;&#x7684;&#x884C;&#x4E3A;&#x6CA1;&#x6709;&#x53D1;&#x751F;&#x53D8;&#x5316;.</p>
<p>&#x5982;&#x679C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x4E3A;<strong>A</strong>&#x7684;&#x5BF9;&#x8C61;<strong>a</strong>, &#x90FD;&#x6709;&#x7C7B;&#x578B;&#x4E3A;<strong>B</strong>&#x7684;&#x5BF9;&#x8C61;<strong>b</strong>, &#x4F7F;&#x5F97;<strong>A</strong>&#x5B9A;&#x4E49;&#x7684;&#x6240;&#x6709;&#x7A0B;&#x5E8F;<strong>P</strong>&#x5728;&#x6240;&#x6709;&#x5BF9;&#x8C61;<strong>a</strong>&#x90FD;&#x66FF;&#x4EE3;&#x6210;<strong>b</strong>&#x65F6;, &#x7A0B;&#x5E8F;<strong>P</strong>&#x6CA1;&#x6709;&#x53D8;&#x5316;, &#x90A3;&#x4E48;<strong>B</strong>&#x662F;<strong>A</strong>&#x7684;&#x5B50;&#x7C7B;&#x578B;.</p>
<h4 class="mume-header" id="%E5%8E%9F%E5%88%99-2">&#x539F;&#x5219;</h4>

<p><strong>&#x5B50;&#x7C7B;&#x578B;&#x5FC5;&#x987B;&#x80FD;&#x591F;&#x66FF;&#x6362;&#x6389;&#x5B83;&#x4EEC;&#x7684;&#x7236;&#x7C7B;&#x578B;</strong></p>
<h4 class="mume-header" id="%E4%BE%8B%E5%AD%90-2">&#x4F8B;&#x5B50;</h4>

<p>&#x4F01;&#x9E45;&#x7C7B;&#x662F;&#x9E1F;&#x7C7B;&#x7684;&#x5B50;&#x7C7B;, &#x4F46;&#x4F01;&#x9E45;&#x4E0D;&#x4F1A;&#x98DE;. &#x5982;&#x679C;&#x9020;&#x7269;&#x8005;&#x5728;&#x9E1F;&#x7C7B;&#x4E2D;&#x6DFB;&#x52A0; <em>&#x98DE;</em>&#x8FD9;&#x4E2A;&#x884C;&#x4E3A;, &#x90A3;&#x4E48;&#x4F01;&#x9E45;&#x7C7B;&#x5C06;&#x4E0D;&#x80FD;&#x7EE7;&#x627F;&#x9E1F;&#x7C7B;&#x8FD9;&#x4E2A;&#x7C7B;&#x4E86;.</p>
<hr>
<h3 class="mume-header" id="%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99">&#x4F9D;&#x8D56;&#x5012;&#x8F6C;&#x539F;&#x5219;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-27">&#x7B80;&#x4ECB;</h4>

<p>&#x9AD8;&#x5C42;&#x6A21;&#x5757;&#x4E0D;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x4E0E;&#x5E95;&#x5C42;&#x6A21;&#x5757;, &#x4E8C;&#x8005;&#x90FD;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x4E8E;&#x62BD;&#x8C61;, <strong>&#x62BD;&#x8C61;&#x4E0D;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x4E8E;&#x7EC6;&#x8282;, &#x7EC6;&#x8282;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x4E8E;&#x62BD;&#x8C61;; &#x9488;&#x5BF9;&#x63A5;&#x53E3;&#x800C;&#x975E;&#x5B9E;&#x73B0;&#x7F16;&#x7A0B;</strong>.</p>
<h4 class="mume-header" id="%E5%8E%9F%E5%88%99-3">&#x539F;&#x5219;</h4>

<ul>
<li><strong>&#x9AD8;&#x5C42;&#x6A21;&#x5757;&#x4E0D;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x5E95;&#x5C42;&#x6A21;&#x5757;, &#x4E24;&#x4E2A;&#x90FD;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x62BD;&#x8C61;</strong>.</li>
<li><strong>&#x62BD;&#x8C61;&#x4E0D;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x7EC6;&#x8282;, &#x7EC6;&#x8282;&#x4E0D;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x62BD;&#x8C61;</strong>.</li>
</ul>
<p>&#x5C3D;&#x91CF;&#x5F15;&#x7528;&#x9AD8;&#x5C42;&#x62BD;&#x8C61;&#x7684;&#x7C7B;, &#x5373; &#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x548C;&#x62BD;&#x8C61;&#x7C7B;&#x8FDB;&#x884C;&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x58F0;&#x660E;, &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7C7B;&#x58F0;&#x660E;&#x7684;&#x8F6C;&#x6362;&#x7B49;, &#x800C;&#x4E0D;&#x8981;&#x7528;&#x5177;&#x4F53;&#x7684;&#x7C7B;&#x6765;&#x505A;&#x8FD9;&#x4E9B;&#x4E8B;&#x60C5;. &#x4E3A;&#x4E86;&#x786E;&#x4FDD;&#x8BE5;&#x539F;&#x5219;&#x7684;&#x5E94;&#x7528;, &#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7C7B;&#x5E94;&#x5F53;&#x53EA;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x6216;&#x62BD;&#x8C61;&#x7C7B;&#x4E2D;&#x58F0;&#x660E;&#x8FC7;&#x7684;&#x65B9;&#x6CD5;, &#x800C;&#x4E0D;&#x8981;&#x7ED9;&#x51FA;&#x591A;&#x4F59;&#x7684;&#x65B9;&#x6CD5;.</p>
<h4 class="mume-header" id="%E4%BE%8B%E5%AD%90-3">&#x4F8B;&#x5B50;</h4>

<p>&#x53F0;&#x5F0F;&#x7535;&#x8111;&#x7684; CPU, &#x5185;&#x5B58;, &#x786C;&#x76D8;&#x7B49;&#x90FD;&#x662F;&#x5206;&#x5F00;&#x7684;, &#x5F53;&#x6709;&#x67D0;&#x4E2A;&#x96F6;&#x4EF6;&#x51FA;&#x95EE;&#x9898;&#x7684;&#x65F6;&#x5019;, &#x53EA;&#x9700;&#x8981;&#x5C06;&#x51FA;&#x95EE;&#x9898;&#x7684;&#x96F6;&#x4EF6;&#x66FF;&#x6362;&#x6389;. &#x800C;&#x5982;&#x679C;&#x628A;&#x5168;&#x90E8;&#x96F6;&#x4EF6;&#x5168;&#x90E8;&#x96C6;&#x6210;&#x5728;&#x4E00;&#x8D77;, &#x6BCF;&#x4E2A;&#x96F6;&#x4EF6;&#x4E4B;&#x95F4;&#x76F8;&#x4E92;&#x4F9D;&#x8D56;&#x9519;&#x7EFC;&#x590D;&#x6742;, &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x96F6;&#x4EF6;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x5168;&#x90E8;&#x90FD;&#x6709;&#x95EE;&#x9898;&#x4E86;.</p>
<hr>
<h3 class="mume-header" id="%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99">&#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-28">&#x7B80;&#x4ECB;</h4>

<p>&#x53EA;&#x505A;&#x81EA;&#x5DF1;&#x5E94;&#x8BE5;&#x505A;&#x7684;&#x4E8B;&#x60C5;, &#x800C;&#x4E0D;&#x5E72;&#x4E0D;&#x8BE5;&#x5E72;&#x7684;&#x4E8B;&#x60C5;, &#x6BCF;&#x4E2A;&#x63A5;&#x53E3;&#x5E94;&#x8BE5;&#x627F;&#x62C5;&#x4E00;&#x79CD;&#x72EC;&#x7ACB;&#x7684;&#x89D2;&#x8272;.</p>
<h4 class="mume-header" id="%E5%8E%9F%E5%88%99-4">&#x539F;&#x5219;</h4>

<p><strong>&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x4E13;&#x95E8;&#x7684;&#x63A5;&#x53E3;, &#x800C;&#x4E0D;&#x4F7F;&#x7528;&#x5355;&#x4E00;&#x7684;&#x603B;&#x63A5;&#x53E3;, &#x5373;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x90A3;&#x4E9B;&#x5B83;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x63A5;&#x53E3;</strong>.</p>
<p>&#x5728;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;&#x65F6;, &#x6211;&#x4EEC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x63A7;&#x5236;&#x63A5;&#x53E3;&#x7684;&#x7C92;&#x5EA6;, &#x63A5;&#x53E3;&#x4E0D;&#x80FD;&#x592A;&#x5C0F;, &#x5982;&#x679C;&#x592A;&#x5C0F;&#x4F1A;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x4E2D;&#x63A5;&#x53E3;&#x6CDB;&#x6EE5;, &#x4E0D;&#x5229;&#x4E8E;&#x7EF4;&#x62A4;; &#x63A5;&#x53E3;&#x4E5F;&#x4E0D;&#x80FD;&#x592A;&#x5927;, &#x592A;&#x5927;&#x7684;&#x63A5;&#x53E3;&#x5C06;&#x8FDD;&#x80CC;&#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;, &#x7075;&#x6D3B;&#x6027;&#x8F83;&#x5DEE;, &#x4F7F;&#x7528;&#x8D77;&#x6765;&#x5F88;&#x4E0D;&#x65B9;&#x4FBF;. &#x8FD9;&#x4E2A;&#x539F;&#x5219;&#x53EF;&#x4EE5;&#x548C;&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;&#x914D;&#x5408;&#x4F7F;&#x7528;.</p>
<p>&#x4ECE;&#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;&#x7684;&#x5B9A;&#x4E49;&#x53EF;&#x4EE5;&#x770B;&#x51FA;, &#x8DDF; <strong>SRP</strong> &#x6709;&#x8BB8;&#x591A;&#x76F8;&#x4F3C;&#x4E4B;&#x5904;, &#x90FD;&#x662F;&#x5F3A;&#x8C03;<strong>&#x804C;&#x8D23;&#x7684;&#x5355;&#x4E00;&#x6027;</strong>. &#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#x5728;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x7684;&#x65F6;&#x5019;&#x8981;&#x6839;&#x636E;&#x804C;&#x8D23;&#x5B9A;&#x4E49; &quot;&#x8F83;&#x5C0F;&quot; &#x7684;&#x63A5;&#x53E3;, &#x4E0D;&#x8981;&#x5B9A;&#x4E49; &quot;&#x9AD8;&#x5927;&#x5168;&quot; &#x7684;&#x63A5;&#x53E3;, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x63A5;&#x53E3;&#x8981;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x804C;&#x8D23;&#x5355;&#x4E00;, &#x8FD9;&#x6837;&#x66F4;&#x5BB9;&#x6613;&#x590D;&#x7528;, &#x66B4;&#x9732;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x65B9;&#x6CD5;&#x66F4;&#x5177;&#x6709; &quot;&#x9488;&#x5BF9;&#x6027;&quot;. &#x5982;&#x679C;&#x628A;&#x4E00;&#x644A;&#x5B50;&#x98CE;&#x725B;&#x9A6C;&#x4E0D;&#x76F8;&#x53CA;&#x7684;&#x65B9;&#x6CD5;&#x5C01;&#x88C5;&#x5230;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x91CC;&#x9762;, &#x5F88;&#x663E;&#x7136;&#x7684;&#x6784;&#x6210;&#x4E86;&#x63A5;&#x53E3;&#x6C61;&#x67D3;.</p>
<h4 class="mume-header" id="%E4%BE%8B%E5%AD%90-4">&#x4F8B;&#x5B50;</h4>

<p>&#x73B0;&#x5728;&#x7684;&#x667A;&#x80FD;&#x624B;&#x673A;&#x7B80;&#x76F4;&#x662F;&#x592A;&#x5F3A;&#x5927;&#x4E86;, &#x82E5;&#x662F;&#x6BCF;&#x4E2A;&#x63A5;&#x53E3;&#x4E0D;&#x597D;&#x597D;&#x627F;&#x62C5;&#x81EA;&#x5DF1;&#x5E94;&#x8BE5;&#x627F;&#x62C5;&#x7684;, &#x53BB;&#x505A;&#x4E86;&#x5176;&#x4ED6;&#x7684;&#x63A5;&#x53E3;&#x7684;&#x4E8B;&#x60C5;&#x90A3;&#x4E48;&#x667A;&#x80FD;&#x624B;&#x673A;&#x5C31;&#x4E71;&#x4E86;, &#x653E;&#x6B4C;&#x7684;&#x65F6;&#x5019;&#x5F00;&#x76F8;&#x673A;, &#x6253;&#x7535;&#x8BDD;&#x7684;&#x65F6;&#x5019;&#x53D1;&#x77ED;&#x4FE1;.</p>
<hr>
<h3 class="mume-header" id="%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99">&#x5408;&#x6210;&#x590D;&#x7528;&#x539F;&#x5219;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-29">&#x7B80;&#x4ECB;</h4>

<p>&#x8FD9;&#x4E2A;&#x539F;&#x5219;&#x5C31;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x4E2D;&#x901A;&#x8FC7;&#x5173;&#x8054;&#x5173;&#x7CFB;(&#x7EC4;&#x5408;&#x5173;&#x7CFB;&#x548C;&#x805A;&#x5408;&#x5173;&#x7CFB;) &#x6765;&#x4F7F;&#x7528;&#x4E00;&#x4E9B;&#x5DF2;&#x6709;&#x7684;&#x5BF9;&#x8C61;, &#x4F7F;&#x4E4B;&#x6210;&#x4E3A;&#x65B0;&#x5BF9;&#x8C61;&#x7684;&#x4E00;&#x90E8;&#x5206;, &#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x5408;&#x6210;/&#x805A;&#x5408;, &#x5C3D;&#x91CF;&#x5C11;&#x7528;&#x7EE7;&#x627F;.</p>
<h4 class="mume-header" id="%E5%8E%9F%E5%88%99-5">&#x539F;&#x5219;</h4>

<p><strong>&#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x5BF9;&#x8C61;&#x7684;&#x7EC4;&#x5408;, &#x800C;&#x4E0D;&#x662F;&#x7EE7;&#x627F;&#x6765;&#x8FBE;&#x5230;&#x590D;&#x7528;&#x7684;&#x76EE;&#x7684;</strong>.</p>
<hr>
<h3 class="mume-header" id="%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99">&#x8FEA;&#x7C73;&#x7279;&#x6CD5;&#x5219;</h3>

<h4 class="mume-header" id="%E7%AE%80%E4%BB%8B-30">&#x7B80;&#x4ECB;</h4>

<p>&#x8FEA;&#x7C73;&#x7279;&#x6CD5;&#x5219;, &#x4E5F;&#x79F0;&#x4E3A;<strong>&#x6700;&#x5C11;&#x77E5;&#x8BC6;&#x539F;&#x5219;</strong>, &#x6E05;&#x6389;&#x4E86;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x677E;&#x8026;&#x5408;, &#x964D;&#x4F4E;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x8026;&#x5408;&#x5EA6;. &#x5BF9;&#x8C61;&#x95F4;&#x5C3D;&#x91CF;&#x6700;&#x5C11;&#x4E86;&#x89E3;, &#x5F7B;&#x5E95;&#x5C06;API&#x63A5;&#x53E3;&#x548C;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x76F8;&#x5206;&#x79BB;, &#x6A21;&#x5757;&#x95F4;&#x4EC5;&#x4EC5;&#x901A;&#x8FC7;API&#x8FDB;&#x884C;&#x901A;&#x4FE1;.</p>
<h4 class="mume-header" id="%E5%8E%9F%E5%88%99-6">&#x539F;&#x5219;</h4>

<p><strong>&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x7C7B;&#x4E0D;&#x5FC5;&#x5F7C;&#x6B64;&#x76F4;&#x63A5;&#x901A;&#x4FE1;, &#x90A3;&#x4E48;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x5C31;&#x4E0D;&#x5E94;&#x8BE5;&#x53D1;&#x751F;&#x76F4;&#x63A5;&#x7684;&#x76F8;&#x4E92;&#x4F5C;&#x7528;. &#x5982;&#x679C;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x7C7B;&#x9700;&#x8981;&#x8C03;&#x7528;&#x53E6;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x67D0;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x8BDD;, &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7B2C;&#x4E09;&#x8005;&#x8F6C;&#x53D1;&#x8FD9;&#x4E2A;&#x8C03;&#x7528;.</strong></p>
<p>&#x5728;&#x7C7B;&#x7684;&#x5212;&#x5206;&#x4E0A;, &#x5E94;&#x5F53;&#x5C3D;&#x91CF;&#x521B;&#x5EFA;&#x677E;&#x8026;&#x5408;&#x7684;&#x7C7B;, &#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#x5EA6;&#x8D8A;&#x4F4E;, &#x5C31;&#x8D8A;&#x6709;&#x5229;&#x4E8E;&#x590D;&#x7528;, &#x4E00;&#x4E2A;&#x5904;&#x5728;&#x677E;&#x8026;&#x5408;&#x4E2D;&#x7684;&#x7C7B;&#x4E00;&#x65E6;&#x88AB;&#x4FEE;&#x6539;, &#x4E0D;&#x4F1A;&#x5BF9;&#x5173;&#x8054;&#x7684;&#x7C7B;&#x9020;&#x6210;&#x592A;&#x5927;&#x6CE2;&#x53CA;; &#x5728;&#x7C7B;&#x7684;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x4E0A;, &#x6BCF;&#x4E00;&#x4E2A;&#x7C7B;&#x90FD;&#x5E94;&#x5F53;&#x5C3D;&#x91CF;&#x964D;&#x4F4E;&#x5176;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x548C;&#x6210;&#x5458;&#x51FD;&#x6570;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;; &#x5728;&#x7C7B;&#x7684;&#x8BBE;&#x8BA1;&#x4E0A;, &#x53EA;&#x8981;&#x6709;&#x53EF;&#x80FD;, &#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x5E94;&#x5F53;&#x8BBE;&#x8BA1;&#x6210;&#x4E0D;&#x53D8;&#x7C7B;; &#x5728;&#x5BF9;&#x5176;&#x4ED6;&#x7C7B;&#x7684;&#x5F15;&#x7528;&#x4E0A;, &#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5BF9;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#x5E94;&#x5F53;&#x964D;&#x5230;&#x6700;&#x4F4E;.</p>
<h4 class="mume-header" id="%E4%BE%8B%E5%AD%90-5">&#x4F8B;&#x5B50;</h4>

<p>&#x5C0F;&#x65F6;&#x5019;&#x7236;&#x6BCD;&#x7ECF;&#x5E38;&#x6559;&#x6211;&#x4EEC; &quot;&#x4E0D;&#x548C;&#x964C;&#x751F;&#x4EBA;&#x8BF4;&#x8BDD;&quot;, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x4F60;&#x53EA;&#x80FD;&#x548C;&#x4F60;&#x7684;&#x670B;&#x53CB;&#x53D1;&#x751F;&#x76F4;&#x63A5;&#x7684;&#x4EA4;&#x6D41;, &#x800C;&#x4E0D;&#x80FD;&#x548C;&#x964C;&#x751F;&#x4EBA;&#x53D1;&#x751F;&#x76F4;&#x63A5;&#x7684;&#x4EA4;&#x6D41;, &#x4EE5;&#x514D;&#x4F60;&#x51FA;&#x73B0;&#x5371;&#x9669;, &#x4E5F;&#x5C31;&#x662F;&#x5E26;&#x6765;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x5F71;&#x54CD;.</p>
<hr>
<h2 class="mume-header" id="%E4%BF%AE%E6%94%B9%E5%B1%A5%E5%8E%86">&#x4FEE;&#x6539;&#x5C65;&#x5386;</h2>

<table>
<thead>
<tr>
<th style="text-align:left">&#x7248;&#x672C;</th>
<th style="text-align:left">&#x4FEE;&#x6539;&#x5185;&#x5BB9;</th>
<th style="text-align:left">&#x4FEE;&#x6539;&#x8005;</th>
<th style="text-align:left">&#x4FEE;&#x6539;&#x65E5;&#x671F;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">V1.0</td>
<td style="text-align:left">&#x521D;&#x7248;</td>
<td style="text-align:left">&#x6768;&#x6893;&#x654F;</td>
<td style="text-align:left">2022-9-27</td>
</tr>
</tbody>
</table>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>
